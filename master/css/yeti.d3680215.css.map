{"version":3,"file":"css/yeti.d3680215.css","mappings":"AAOA,oBACE,qBACA,qBACA,oBACA,kBCDa,CDEb,yBEPF,+BACE,iBACA,kBAEF,qBACE,eAEF,oBACE,aAEF,qBACE,qBAEF,6BACE,cACA,iBAEF,8CACE,aChBF,6BACE,kBAIA,oDAEE,0BAIJ,qBACE,gBACA,+BAGF,uBACE,qBACA,8BAGF,8CAEE,gBACA,cAGF,gDACE,gBAGF,8BACE,wBACA,gBCjCF,+BACE,qBACA,cACA,WACA,gBACA,mBACA,iBACA,kBHJa,CGKb,aHTa,CGUb,mEACA,gBACA,kBAEA,oCACE,gBACA,sBAGF,sDACE,UHXW,CIRf,mCACE,yBACA,UACA,6DAEA,yCACE,qBAGJ,yCACE,uEACA,6FACA,aJba,CIcb,eACA,sBACA,mEAEF,0BACE,gBACA,2FAEF,+CACE,kBJlBc,CIoBhB,yCACE,aClBwB,CDmBxB,iBAGF,4CACE,kBCvBwB,CDwBxB,iCAEA,kDACE,4BAGF,oEACE,UJ9BW,CIgCb,0EACE,kBClCsB,CDuCxB,0IACE,UJvCW,CMRf,4BACE,gBACA,kBACA,qBACA,oBACA,qBAEF,0BACE,aDDwB,CCG1B,6BACE,aNMa,CMJf,0BACE,kBNVc,CMWd,aNfa,CMgBb,mEACA,eACA,+BAEF,4BACE,WAEF,+BACE,iBAIA,4CACE,aACA,gBAEF,6CACE,WAEF,gDACE,cCpCJ,6BACE,iBACA,kBAEA,6CACE,kBACA,UACA,SAGF,kDACE,kBACA,WACA,SACA,WAGF,4CACE,kBACA,UACA,SAKF,uDACE,SAIJ,qCACE,6DCjCF,mCACE,mBACA,oBACA,mDACE,UAEF,uEACE,eACA,wBAEA,8EACE,QAVJ,kCACE,UAGF,sDACE,eACA,wBAEA,6DACE,QAMJ,iCACE,WACA,YACA,yHAEA,qEACE,gBACA,eCrBN,2CACE,aAEA,iDACE,oBAGF,4GAEE,UACA,cTTW,CSUX,2BAGF,yDACE,YTdW,CSiBb,uDACE,aTlBW,CSqBb,8DACE,aAGF,iDACE,UACA,WACA,iBACA,sBACA,qBAGF,mDACE,SACA,YACA,iBAGF,kDACE,eACA,gBACA,YJpCsB,CIuCxB,uDACE,UAGF,oDACE,UACA,mBAGF,iDACE,UAGF,6DACE,yBAGF,wDACE,cT/DW,CSgEX,iBACA,mBAIJ,2CACE,gBACA,oBACA,qBACA,oBACA,qBACA,6BAGF,oCACE,YACA,oBAGF,mCACE,uEACA,6FACA,sCACA,cACA,mBACA,qBACA,kBACA,mBACA,sBACA,8BC9FF,+BACE,gBAEA,oCACE,cACA,eAEA,oFAEE,kBVNS,CUOT,eCZN,iCACE,uEACA,gBAEA,sCACE,gBACA,6BACA,mEACA,wBACA,8DAEA,wFAEE,qBAIJ,6CACE,kBAGF,yCACE,gBAIJ,uBACE,eAGF,4BACE,6EACA,UACA,mBACA,oBACA,oGAGF,kDACE,YAGF,gCACE,iBAGF,gCACE,kBAGF,kCACE,UACA,WACA,YACA,kBACA,MACA,OACA,eAGF,8BACE,uEAGF,0BACE,6FAEA,2DACE,mBAIJ,oCACE,8BACE,eAIJ,0BACE,mBAGF,gCACE,kBACA,QACA,WACA,UCzDF,6BACA,aACA,kBACA,CACA,2CACA,aACA,CChCA,8BACE,kBACA,UALM,CAMN,0BALO,CAMP,mBACA,iJACA,mEACA,oBACA,wBAEF,8BACE,+GACA,gKACA,6FACA,oBACA,mBAEF,6BACE,cAEF,gCACE,kBACA,WACA,UACA,WACA,YACA,0EACA,wBAEF,mCACE,WAEF,+BACE,kBAEA,gSAIE,UACA,qFAEF,iJAEE,uBACA,yBAEF,+IAEE,6GAEF,uFACE,iJAEF,+EACE,iJAEF,mFACE,2FAEF,+FACE,iBACA,+BACA,gBACA,6DAEF,uFACE,iBACA,+BACA,gBACA,6DAEF,yFACE,iJAEF,uFACE,4NAIF,wCACE,aACA,kBACA,gBACA,uEAEF,wCACE,8JACA,mGAEF,uCACE,kBACA,gBACA,mBAEF,yIAEE,OAEF,2FACE,UAEF,mFACE,UAEF,uIAEE,qBC3GF,8BACE,kBTKsB,CSJtB,2FAEF,2BACE,kBdHW,CcIX,qIAEF,iCACE,oGAEF,wCACE,2FACA,0BAdQ,CAcR,uBAdQ,CAcR,kBAdQ,CAgFZ,wBACA,eACA,eACA,CClFA,+BACE,mBAEF,8BACE,aACA,6CACA,8CACA,mHACA,SACA,gBACA,gBACA,iBAEF,6BACE,oBAEF,2BACE,uBACA,oBAEF,iCACE,gBAEF,qCACE,kBCzBF,mCACE,kBhBKa,CgBHb,uCACE,gHAGJ,wBACE,WACA,aCTF,iHAGE,mBAGF,kCACE,WACA,mBACA,ajBVa,CiBYb,wCACE,6BAGF,qCACE,sBACA,YAGF,gDACE,wBAGF,iDACE,WAGF,oDACE,UAGF,yCACE,qBACA,YAIJ,2BACE,SACA,iBAGF,0BACE,UAIA,iDACE,cACA,SACA,eACA,kBACA,6BACA,mEAEA,8GAEE,oBjBvDS,CiB0DX,sEACE,qBACA,sBAEF,qEACE,qBACA,sBAMJ,2DACE,aZnEsB,CYoEtB,oBZpEsB,CYsEtB,kIAEE,oBZxEoB,CY6E1B,kPAKE,2BACE,sCAEF,0BACE,qEAGA,0EAEE,cAEF,qCACE,eAEF,iDACE,WAEF,oDACE,YACA,qFACA,kBAKN,0CACE,uEACA,iGACA,qFACA,8xBAaA,kEACE,eACA,uEACA,mGACA,6FACA,uEACA,kBACA,6BAEA,4EACE,mBACA,oBACA,oCACA,WAGF,4EACE,kBCtJN,2BACE,4BACA,iBAEA,gCACE,eACA,kBAGF,2DAEE,YACA,aAGF,8BACE,iBChBJ,uBACE,kBACA,qBC6DF,+CAEA,UACA,YACA,cACA,CACA,sBACA,uBACA,eACA,gBACA,kBACA,CACA,4BACA,eACA,gBACA,iBACA,CC7EA,oCACE,YACA,eACA,gBACA,mEACA,0MACA,gBAEA,6EAEE,qFAGJ,mCACE,kBhBPwB,CgBQxB,iBAEA,0CACE,WAGJ,mCACE,kBrBnBa,CqBqBf,gDACE,kBACA,UACA,OACA,QACA,YACA,UACA,oBACA,oGAEF,+BACE,YAEF,wCAEE,eAEF,oBACE,gBAEF,+BACE,kBACA,QACA,UA/CA,uCACE,cAGA,gDACE,WACA,YCNN,0BACE,gBACA,eACA,etBKa,CsBJb,mEACA,0MACA,gBAEF,iCACE,eACA,cACA,kBACA,UtBJa,CsBMf,kCACE,kBACA,YACA,mBAEF,oFAEE,0BAEF,oCACE,gBAEF,+BACE,kBACA,oGACA,SACA,UACA,YACA,UACA,oBCjCF,yBACE,kBvBEa,CuBDb,sBAEF,yCACE,YCLF,yBACE,kBxBEa,CwBDb,sBAEF,gCACE,uEACA,mGACA,YAEF,kCACE,aACA,eACA,cAEF,oCACE,kCAEF,qCACE,kBAEF,oCACE,kBACA,QACA,UACA,gBACA,YC3BF,mCACE,eACA,WAEF,wCACE,uEACA,mGACA,YAEF,0CACE,aACA,eACA,cAEF,4CACE,kCAEF,6CACE,kBAEF,oCACE,kBACA,QACA,UACA,gBACA,YCvBF,0BACE,YACA,eACA,gBACA,mEACA,0MACA,gBAEA,4BACE,qFAGJ,iCACE,mBACA,iBAEA,wCACE,WAGJ,+BACE,iBACA,cACA,qFACA,mBACA,kBACA,wHAEF,wBACE,iBAEF,0BACE,iBAEF,+BACE,kBACA,QACA,UAEF,iCACE,qBACA,eAEA,qCACE,mBCwuBJ,mBACA,gBACA,YACA,mEACA,iBACA,cACA,CCvwBA,oBACA,WACA,CACA,wBACA,sBACA,qBACA,gBACA,CACA,wBACA,cACA,CACA,uBACA,cACA,iBACA,CCRA,wBACA,sBACA,qBACA,WACA,YACA,gBACA,CC/BA,yBACE,kBACA,UACA,YACA,cACA,gBAEA,wCACE,gBAEA,+CACE,WACA,eAIJ,yCACE,iBACA,oBACA,mEACA,yBACA,cACA,gBACA,WAGF,mDACE,gBACA,gBACA,6BAIJ,uBACE,kBACA,QACA,YAEF,oCACE,azBhCwB,CyBmC1B,oCACE,yBACE,UAEA,yCACE,mBC5CN,4CACE,WACA,UAJe,CAKf,WALe,CAMf,gBACA,qBACA,sBACA,yBACA,mEACA,yBACA,uEAEA,gDACE,yDAEA,uDACE,gBACA,iBAKN,mDACE,YAzBe,CA0Bf,UA1Be,CA6BjB,yCACE,SA9Be,CA+Bf,SACA,e/BzBa,C+B0Bb,yHAEA,+CACE,eACA,YACA,cACA,mEAIJ,sDACE,SACA,SACA,gBACA,mEACA,yBACA,YAEA,+DACE,mBACA,eAIJ,mDACE,SACA,UA3De,CA8DjB,uCACE,uEAEF,6CACE,oBAWF,gCACE,kBACA,eAEF,oCACE,gCACE,4CAVU,CAUV,yCAVU,CAUV,oCAVU,CAWV,eACA,cACA,kBAIJ,oCAEI,8CACE,iBAKN,uCACE,SAnGe,CAoGf,cAGF,qCACE,uCACE,SACA,WAIJ,oCACE,a1BzGwB,C0BRxB,sBACE,e/BQW,C+BPX,YACA,yHAEF,6BACE,kB/BLW,C+BMX,U/BEW,uE+BET,kB/BTS,C+BUT,aAGJ,wBACE,cAGF,0BACE,cCdJ,2BACE,kBACA,cATgB,CAYlB,4BACE,gGAGF,6BACE,uGAGF,oCACE,oCACE,aACA,oCAnBU,CAmBV,iCAnBU,CAmBV,4BAnBU,CAqBV,yDACE,aAKF,oDACE,mBAKN,oCACE,+BACE,oCAnCU,CAmCV,iCAnCU,CAmCV,4BAnCU,CAqCV,+CACE,gBACA,8FACA,eAKN,qCACE,+BACE,iCA9Ca,CA8Cb,8BA9Ca,CA8Cb,yBA9Ca,EAkDjB,uCACE,kBACA,QACA,WACA,UACA,UAGF,0CACE,gBAGF,6BACE,6DACA,gBACA,wBAGF,+BACE,kBACA,WACA,WACA,QACA,OACA,gBAEA,6CACE,kBAhFF,6BACE,YACA,aAIF,yBACE,oBAEF,6EAEE,cACA,mBAEF,yJAEE,oB3BTsB,C2BWxB,yIAEE,aAIF,0CAEE,YACA,oGAEF,4GAIE,oGAEF,oDACE,uBACA,wBACA,4BAGA,wBACA,yBACA,sBACA,uBACA,oJAEF,4DACE,oJACA,4BAEF,iDACE,sBACA,uBACA,oBACA,qBACA,4FAEF,yDACE,4FACA,gCAEF,uHAEE,kB3BzDsB,C2B0DtB,+BAEF,wGAEE,iBAEF,oDACE,2FAGF,2BACE","sources":["webpack://c2c_ui/./src/components/yeti/SubPanelTitle.vue","webpack://c2c_ui/./node_modules/bulma/sass/utilities/initial-variables.sass","webpack://c2c_ui/./src/components/yeti/Article.vue","webpack://c2c_ui/./src/components/yeti/Panel.vue","webpack://c2c_ui/./src/components/yeti/Counter.vue","webpack://c2c_ui/./src/components/yeti/DropdownContent.vue","webpack://c2c_ui/./src/assets/sass/variables.scss","webpack://c2c_ui/./src/components/yeti/Info.vue","webpack://c2c_ui/./src/components/yeti/SubPanelBra.vue","webpack://c2c_ui/./src/components/yeti/EditModeButton.vue","webpack://c2c_ui/./src/components/yeti/ElevationProfile.vue","webpack://c2c_ui/./src/components/yeti/FeaturesList.vue","webpack://c2c_ui/./src/components/yeti/SubPanelCourse.vue","webpack://c2c_ui/./src/components/yeti/Toast.vue","webpack://c2c_ui/./src/components/yeti/LayerButton.vue","webpack://c2c_ui/./src/components/yeti/Slider.vue","webpack://c2c_ui/./src/components/yeti/SubPanelLayers.vue","webpack://c2c_ui/./src/components/yeti/SubPanelMeteo.vue","webpack://c2c_ui/./src/components/yeti/SubPanelMethods.vue","webpack://c2c_ui/./src/components/yeti/Tabs.vue","webpack://c2c_ui/./src/components/yeti/ValidationButton.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DangerLevel.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AvalancheBulletinsLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/IconLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/FfvlLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/NivosesLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/ProtectedAreasLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/RouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerLegend.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayerLegend.vue","webpack://c2c_ui/./src/components/yeti/YetiMapLegend.vue","webpack://c2c_ui/./src/components/yeti/YetiMap.vue","webpack://c2c_ui/./src/views/portals/YetiView.vue"],"sourcesContent":["\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\nh2 {\n  display: inline-block;\n  margin-left: -1.25rem;\n  padding: 0.25em 0.5rem;\n  background: $grey-lighter;\n  text-transform: uppercase;\n}\n","// Colors\n\n$black:        hsl(0, 0%, 4%) !default\n$black-bis:    hsl(0, 0%, 7%) !default\n$black-ter:    hsl(0, 0%, 14%) !default\n\n$grey-darker:  hsl(0, 0%, 21%) !default\n$grey-dark:    hsl(0, 0%, 29%) !default\n$grey:         hsl(0, 0%, 48%) !default\n$grey-light:   hsl(0, 0%, 71%) !default\n$grey-lighter: hsl(0, 0%, 86%) !default\n$grey-lightest: hsl(0, 0%, 93%) !default\n\n$white-ter:    hsl(0, 0%, 96%) !default\n$white-bis:    hsl(0, 0%, 98%) !default\n$white:        hsl(0, 0%, 100%) !default\n\n$orange:       hsl(14,  100%, 53%) !default\n$yellow:       hsl(44,  100%, 77%) !default\n$green:        hsl(153, 53%,  53%) !default\n$turquoise:    hsl(171, 100%, 41%) !default\n$cyan:         hsl(207, 61%,  53%) !default\n$blue:         hsl(229, 53%,  53%) !default\n$purple:       hsl(271, 100%, 71%) !default\n$red:          hsl(348, 86%, 61%) !default\n\n// Typography\n\n$family-sans-serif: BlinkMacSystemFont, -apple-system, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", \"Helvetica\", \"Arial\", sans-serif !default\n$family-monospace: monospace !default\n$render-mode: optimizeLegibility !default\n\n$size-1: 3rem !default\n$size-2: 2.5rem !default\n$size-3: 2rem !default\n$size-4: 1.5rem !default\n$size-5: 1.25rem !default\n$size-6: 1rem !default\n$size-7: 0.75rem !default\n\n$weight-light: 300 !default\n$weight-normal: 400 !default\n$weight-medium: 500 !default\n$weight-semibold: 600 !default\n$weight-bold: 700 !default\n\n// Spacing\n\n$block-spacing: 1.5rem !default\n\n// Responsiveness\n\n// The container horizontal gap, which acts as the offset for breakpoints\n$gap: 32px !default\n// 960, 1152, and 1344 have been chosen because they are divisible by both 12 and 16\n$tablet: 769px !default\n// 960px container + 4rem\n$desktop: 960px + (2 * $gap) !default\n// 1152px container + 4rem\n$widescreen: 1152px + (2 * $gap) !default\n$widescreen-enabled: true !default\n// 1344px container + 4rem\n$fullhd: 1344px + (2 * $gap) !default\n$fullhd-enabled: true !default\n$breakpoints: (\"mobile\": (\"until\": $tablet), \"tablet\": (\"from\": $tablet), \"tablet-only\": (\"from\": $tablet, \"until\": $desktop), \"touch\": (\"from\": $desktop), \"desktop\": (\"from\": $desktop), \"desktop-only\": (\"from\": $desktop, \"until\": $widescreen), \"until-widescreen\": (\"until\": $widescreen), \"widescreen\": (\"from\": $widescreen), \"widescreen-only\": (\"from\": $widescreen, \"until\": $fullhd), \"until-fullhd\": (\"until\": $fullhd), \"fullhd\": (\"from\": $fullhd)) !default\n\n// Miscellaneous\n\n$easing: ease-out !default\n$radius-small: 2px !default\n$radius: 4px !default\n$radius-large: 6px !default\n$radius-rounded: 9999px !default\n$speed: 86ms !default\n\n// Flags\n\n$variable-columns: true !default\n$rtl: false !default\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n.yeti-article {\n  max-width: 1039px;\n  margin-top: 1.75em;\n}\n:deep(h3) {\n  margin-top: 2em;\n}\n:deep(p) {\n  margin: 1em 0;\n}\n:deep(ul) {\n  list-style-type: disc;\n}\n:deep(figure) img {\n  max-width: 90%;\n  max-height: 500px;\n}\n.yeti-article--disclaimer :deep(li) {\n  margin: 2em 0;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.yeti-panel {\n  position: relative;\n}\n\n:deep(a) {\n  &:hover,\n  &:focus {\n    text-decoration: underline;\n  }\n}\n\n:deep(h4) {\n  margin-top: 1rem;\n  margin-bottom: 0.25rem !important;\n}\n\n:deep(abbr) {\n  text-decoration: none;\n  border-bottom: dotted 2px #aaa;\n}\n\n:deep(strong),\n:deep(dt) {\n  font-weight: bold;\n  color: inherit;\n}\n\n:deep(.yeti-subpanel + .yeti-subpanel) {\n  margin-top: 2rem;\n}\n\n:deep(.content-ul) {\n  list-style: disc outside;\n  margin-left: 2em;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.yeti-counter {\n  display: inline-block;\n  min-width: 1em;\n  height: 1em;\n  line-height: 1em;\n  margin-left: 0.25rem;\n  padding: 0 0.25rem;\n  background: $grey-lighter;\n  color: $grey-darker;\n  border-radius: 1em;\n  font-weight: normal;\n  text-align: center;\n\n  span {\n    font-size: 0.72em;\n    vertical-align: 0.125em;\n  }\n\n  &.has-background-primary {\n    color: $white;\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.dropdown-content {\n  border: 1px solid #dbdbdb;\n  padding: 0;\n  box-shadow: none;\n\n  &:hover {\n    border-color: #b5b5b5;\n  }\n}\n.dropdown-content-title {\n  display: flex;\n  align-items: center;\n  color: $grey-darker;\n  cursor: pointer;\n  padding: 0.25rem 0.75rem;\n  border-radius: 4px;\n}\n.is-open {\n  font-weight: bold;\n  border-radius: 4px 4px 0 0;\n}\n.dropdown-content-title:hover {\n  background: $grey-lightest;\n}\n.dropdown-content-arrow {\n  color: $primary;\n  margin-left: auto;\n}\n\n.dropdown-content-inverted {\n  background: $primary;\n  border: 1px solid rgba(0, 0, 0, 0.25);\n\n  &:hover {\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .dropdown-content-title {\n    color: $white;\n  }\n  .dropdown-content-title:hover {\n    background: $primary;\n  }\n  .dropdown-content-arrow {\n    color: $white;\n  }\n  .dropdown-content-content {\n    color: $white;\n  }\n}\n","//https://bulma.io/documentation/customize/variables/\n\n/**\n * here is custom c2c variables\n */\n\n// orange defined in V5\n// please have a look on this discussion :\n// https://forum.camptocamp.org/t/projet-ui-quel-est-le-orange-c2c/238878\n$color-base-c2c: #f93;\n\n$color-base-c2c-darker: #b26f1e;\n$color-base-c2c-lighter: rgb(255, 206, 158);\n\n$color-complementary-c2c: #337ab7; // must fit with c2c orange, and will be main color\n$color-complementary-c2c-lighter: #7699b8;\n\n$color-link: #337ab7; // We use the same blue as complementary-c2c\n\n$color-text: #4a4a4a;\n\n/**\n * Bulma variables\n */\n$body-size: 14px !default;\n\n// define size to get entire px size.\n// TODO : is ot smarter to directlty set px values ?....\n\n$size-1: 2.1429rem; // 30/14\n$size-2: 1.8571rem; // 26/14\n$size-3: 1.5714rem; // 22/14\n$size-4: 1.2857rem; // 18/14\n$size-5: 1.1429rem; // 16/14\n// $size-6 : 1 rem,    untouched\n$size-7: 0.7857rem; // 12/14\n\n/**\n * customize bulma colors\n */\n$green: #4baf50;\n$primary: $color-complementary-c2c;\n$secondary: $color-base-c2c;\n$link: $color-link;\n//$info: $cyan\n//$success: $green\n//$warning: $yellow\n//$danger: $red\n//$dark: $grey-darker\n//$text: $grey-dark\n$pagination-current-background-color: $primary;\n$pagination-current-border-color: $primary;\n$body-background-color: #fbfaf6; // if you modify this, please also modify it for spashscreen on public/index.html\n\n$input-focus-border-color: $color-base-c2c;\n$input-focus-box-shadow-size: 0 0 0 0; // with border orange, input focus shadow is terrible\n\n// Paddings and margins\n$section-padding: 1.5rem 1.5rem;\n$section-padding-desktop: 1.5rem 1.5rem;\n$hr-margin: 1rem 0;\n\n/* box custom */\n$box-radius: 0;\n$box-shadow: rgba(10, 10, 10, 0.1) 0 2px 3px 0, rgba(10, 10, 10, 0.1) 0 0 0 1px;\n\n/*\n * Here is bulma variables needed for components.\n * we only includes variables from utilities, and\n * locally other varaible if needded (like $navbar-height)\n */\n$navbarad-height: 90px;\n$navbar-height: 3.25rem;\n$sidemenu-width: 200px;\n\n$input-placeholder-color: rgb(160, 160, 160);\n\n@import '~bulma/sass/utilities/initial-variables.sass';\n@import '~bulma/sass/utilities/functions.sass';\n@import '~bulma/sass/utilities/derived-variables.sass';\n\n// icons in input are to light\n$input-icon-color: $grey-light;\n\n/**\n * bulma card shadow is used to set a border. Remove the border part\n */\n$card-shadow: 0 2px 3px rgba($black, 0.1);\n$card-hover-shadow: 1px 3px 4px rgba($black, 0.1);\n\n// and set a variable for card border :\n$card-border: 1px solid rgba($black, 0.15);\n\n/**\n * Another custom C2C var, but that are computed from bulma variables\n */\n\n$hover-background: hsl(0, 0%, 95%);\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.info-text {\n  font-size: 0.85em;\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.is-info {\n  color: $primary;\n}\n.is-warning {\n  color: $red;\n}\n.is-help {\n  background: $grey-lightest;\n  color: $grey-dark;\n  border-radius: 4px;\n  padding: 0.75rem;\n  margin-bottom: 1.5rem !important;\n}\n.info-icon {\n  float: left;\n}\n.info-content {\n  margin-left: 2rem;\n}\n\n.is-inline-block {\n  &.info-text {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n  .info-icon {\n    float: none;\n  }\n  .info-content {\n    margin-left: 0;\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.inputs-bra {\n  margin-left: 2rem;\n  position: relative;\n\n  .input-bra-high {\n    position: absolute;\n    left: 39px;\n    top: 62px;\n  }\n\n  .input-bra-threshold {\n    position: absolute;\n    left: 115px;\n    top: 40px;\n    width: 85px;\n  }\n\n  .input-bra-low {\n    position: absolute;\n    left: 39px;\n    top: 78px;\n  }\n}\n\n.inputs-bra-different {\n  .input-bra-high {\n    top: 45px;\n  }\n}\n\n.yetimountains-list {\n  columns: 3 170px;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n.edit-mode-button {\n  padding-left: 0.25em;\n  padding-right: 0.25em;\n  .input-checkbox {\n    padding: 0;\n  }\n  .is-checkradio[type='checkbox'] + label {\n    margin-right: 0;\n    vertical-align: baseline;\n\n    &:before {\n      top: 1px;\n    }\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n:deep(.elevation-profile-chart) {\n  height: 150px; // default height on page\n\n  .axis {\n    pointer-events: none;\n  }\n\n  .axis path,\n  .axis line {\n    fill: none;\n    stroke: $grey;\n    shape-rendering: crispEdges;\n  }\n\n  .axis .legend {\n    fill: $grey;\n  }\n\n  .axis .tick {\n    color: $grey;\n  }\n\n  .axis.x .tick line {\n    display: none;\n  }\n\n  .line {\n    fill: none;\n    stroke: red;\n    stroke-width: 3px;\n    stroke-linejoin: round;\n    stroke-linecap: round;\n  }\n\n  .circle {\n    fill: red;\n    stroke: white;\n    stroke-width: 2px;\n  }\n\n  .popup {\n    font-size: 12px;\n    font-weight: bold;\n    fill: $primary;\n  }\n\n  .popup text {\n    fill: white;\n  }\n\n  .overlay {\n    fill: none;\n    pointer-events: all;\n  }\n\n  .area {\n    fill: none;\n  }\n\n  .area-highlighted {\n    fill: rgba(255, 255, 0, 0.75);\n  }\n\n  .areas-lines {\n    stroke: $grey;\n    stroke-width: 1px;\n    stroke-dasharray: 5;\n  }\n}\n\n.elevation-generate-panel {\n  margin-top: 1rem;\n  margin-left: -0.75rem;\n  margin-right: -0.75rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  border-top: 1px solid lightgray;\n}\n\n.input-interpolate {\n  width: 100px;\n  margin-right: 0.75rem;\n}\n\n.control-subpanel {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  line-height: 2;\n  margin-left: 0.75rem;\n  margin-bottom: 0.75rem;\n  padding-left: 2rem;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  border-left: solid 1px $primary;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.featureslist {\n  margin: 0 -0.5rem;\n\n  &-item {\n    margin: 0.25rem;\n    font-size: 0.7em;\n\n    &:hover,\n    &:focus {\n      background: $grey-lighter;\n      cursor: default;\n    }\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n.features-title {\n  display: flex;\n  line-height: 1.4;\n\n  &-text {\n    min-width: 100px;\n    border: solid 1px transparent;\n    border-radius: 2px;\n    padding: 2px 2em 2px 2px;\n    box-decoration-break: clone;\n\n    &:hover,\n    &:focus {\n      border-color: #b5b5b5;\n    }\n  }\n\n  &-placeholder {\n    font-style: italic;\n  }\n\n  &-content {\n    font-weight: bold;\n  }\n}\n\n.icon {\n  margin-top: 2px;\n}\n\n.edit-icon {\n  order: 1;\n  opacity: 0;\n  margin-left: -1.5em;\n  pointer-events: none;\n  transform: scale(0.75);\n}\n\n.features-title:hover .edit-icon {\n  opacity: 0.75;\n}\n\n.document-icon {\n  margin-right: 3px;\n}\n\n.upload-button {\n  position: relative;\n}\n\ninput[type='file'] {\n  opacity: 0; /* invisible but it's there! */\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  cursor: pointer;\n}\n\n.form-export {\n  display: flex;\n}\n\n.control {\n  align-items: center;\n\n  .is-checkradio[type='radio'] + label {\n    line-height: 1.2rem;\n  }\n}\n\n@media screen and (max-width: 350px) {\n  .form-export {\n    display: block;\n  }\n}\n\n.buttons {\n  line-height: 2.5rem;\n}\n\n.route-buttons {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  z-index: 1;\n}\n","<template>\n  <div class=\"yeti-toast\">\n    <h2 class=\"title is-6\"><slot name=\"title\" /></h2>\n    <p><slot /></p>\n  </div>\n</template>\n\n<script>\nimport { toast } from 'bulma-toast';\n\nexport default {\n  methods: {\n    toast(props) {\n      // merge props\n      let opts = {\n        ...{\n          duration: 3000,\n          type: 'is-info',\n          pauseOnHover: true,\n          position: 'center',\n          dismissible: true,\n          single: true,\n        },\n        ...props,\n      };\n      // add message\n      opts.message = this.$el;\n      toast(opts);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.yeti-toast {\n  display: none;\n  white-space: normal;\n}\n.notification .yeti-toast {\n  display: block;\n}\n</style>\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n$width: calc(70 / 14 * 1rem);\n$height: calc(50 / 14 * 1rem);\n\n.layer-image {\n  position: relative;\n  width: $width;\n  min-height: $height;\n  background: #dbdbdb;\n  box-shadow: 0 0 0 2px white, 0 0 0 3px #dbdbdb;\n  border-radius: 4px;\n  margin-bottom: 0.5rem;\n  background-position: center;\n}\n.layer-label {\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 !important;\n  margin: 0 !important;\n}\n.layer-text {\n  margin: 0 -8px;\n}\n.layer-country {\n  position: absolute;\n  bottom: 4px;\n  right: 4px;\n  width: 16px;\n  height: 12px;\n  background-size: cover;\n  background-position: center;\n}\n.layer-country-ch {\n  width: 12px;\n}\n.layer-button {\n  text-align: center;\n\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before,\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    z-index: 1;\n    left: calc(50% - ($width / 2));\n  }\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before {\n    background: #0000;\n    border-color: #0000;\n  }\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    left: calc(50% - ($width / 2) + 0.5rem) !important;\n  }\n  .is-checkradio:hover:not([disabled]) + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:focus-visible + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:checked:not([disabled]) + label::before {\n    box-shadow: 0 0 0 2px $white;\n  }\n  .is-checkradio:not(:checked):hover:not([disabled]) + label::before {\n    border-width: 1px;\n    border-color: #dbdbdb !important;\n    background: white;\n    box-shadow: none;\n  }\n  .is-checkradio:not(:checked):focus-visible + label::before {\n    border-width: 1px;\n    border-color: #dbdbdb !important;\n    background: white;\n    box-shadow: none;\n  }\n  .is-checkradio:checked:not([disabled]) + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:checked:focus-visible + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary, 0 0 0 6px $secondary !important;\n  }\n}\n.is-small {\n  .layer-image {\n    width: 1.5rem;\n    min-height: 1.5rem;\n    margin-bottom: 0;\n    background-size: 220%;\n  }\n  .layer-label {\n    flex-direction: row;\n    align-items: flex-start;\n  }\n  .layer-text {\n    margin-left: 0.5rem;\n    text-align: left;\n    white-space: nowrap;\n  }\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before {\n    left: 0;\n  }\n  .is-checkradio:not(:checked):hover:not([disabled]) + label::before {\n    opacity: 0;\n  }\n  .is-checkradio:not(:checked):focus-visible + label::before {\n    opacity: 0;\n  }\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    left: 0.5rem !important;\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n.yeti-app {\n  /* customization of vue-slider */\n  $dotSize: 14px;\n  .vue-slider-process {\n    background: $primary;\n    box-shadow: calc(-1 * $dotSize / 2) 0 $primary;\n  }\n  .vue-slider-rail {\n    background: $grey-lighter;\n    box-shadow: calc(-1 * $dotSize / 2) 0 $grey-lighter, calc($dotSize / 2) 0 $grey-lighter;\n  }\n  .vue-slider-dot-handle {\n    box-shadow: 0 0 0 2px $primary;\n  }\n  .vue-slider-dot:focus-visible {\n    box-shadow: 0 0 0 4px $secondary;\n    border-radius: $dotSize;\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n$width: calc(70 / 14 * 1rem);\n$height: calc(50 / 14 * 1rem);\n\n.layers-group {\n  margin-bottom: 2rem;\n}\n.layer-items {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, $width);\n  grid-template-rows: repeat(auto-fill, 1.429rem);\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: 1rem;\n  margin-left: 3px;\n  margin-right: 3px;\n}\n.layer-item {\n  grid-row-end: span 4;\n}\n.is-small {\n  grid-column-end: span 2;\n  grid-row-end: span 1;\n}\n.layer-controls {\n  margin-top: 1rem;\n}\n.layer-control-item {\n  margin: 0.5rem 1rem;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.iframe-container {\n  background: $light;\n\n  div {\n    transition: opacity 0.35s;\n  }\n}\niframe {\n  width: 100%;\n  height: 310px;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\np:not(:last-child),\nul:not(:last-child),\ntable:not(:last-child) {\n  margin-bottom: 1rem;\n}\n\n.yetiform-danger {\n  width: 100%;\n  table-layout: fixed;\n  color: $dark;\n\n  tr + tr {\n    border-top: 1px solid $grey-lighter;\n  }\n\n  td {\n    vertical-align: middle;\n    height: 45px;\n  }\n\n  .multiline td {\n    vertical-align: baseline;\n  }\n\n  td:first-child {\n    width: 60px;\n  }\n\n  td:first-child + td {\n    width: 40%;\n  }\n\n  td img {\n    vertical-align: -12px;\n    height: 35px;\n  }\n}\n\n.yetitabs {\n  margin: 0;\n  padding: 0.75rem 0;\n}\n\n.yetitab {\n  padding: 0;\n}\n\n.yetitab-control {\n  .yetitab-label {\n    display: block;\n    margin: 0;\n    padding: 0.25rem;\n    padding-left: 2rem;\n    border: 1px solid transparent;\n    border-radius: 4px;\n\n    &:hover,\n    &:focus {\n      border-color: $grey-lighter;\n    }\n\n    &.yetitab-label:before {\n      top: 0.25rem !important;\n      left: 0.25rem !important;\n    }\n    &.yetitab-label:after {\n      top: 0.75rem !important;\n      left: 0.75rem !important;\n    }\n  }\n}\n\n.yetitab-control--selected {\n  .yetitab-label {\n    color: $primary;\n    border-color: $primary;\n\n    &:hover,\n    &:focus {\n      border-color: $primary;\n    }\n  }\n}\n\n@media screen and (max-width: 490px),\n  screen and (min-width: $tablet) and (max-width: 970px),\n  screen and (min-width: $desktop) and (max-width: 1180px),\n  screen and (min-width: $widescreen) and (max-width: 1370px),\n  screen and (min-width: $fullhd) and (max-width: 1650px) {\n  .yetitabs {\n    flex-wrap: wrap;\n  }\n  .yetitab {\n    flex: 0 0 50%;\n  }\n  .yetiform-danger {\n    tr,\n    td {\n      display: block;\n    }\n    tr {\n      padding: 0.5em 0;\n    }\n    td:first-child {\n      float: left;\n    }\n    td:first-child ~ td {\n      height: auto;\n      width: calc(100% - 60px);\n      margin-left: 60px;\n    }\n  }\n}\n\n.potential-danger-labels {\n  display: flex;\n  align-items: stretch;\n  user-select: none;\n  background: linear-gradient(\n    to right,\n    #bfe12b,\n    #bfe12b 12%,\n    #fff200 20%,\n    #fff200 32%,\n    #f68712 40%,\n    #f68712 72%,\n    #ed1c24 80%,\n    #ed1c24 95%,\n    #c01a2c\n  );\n\n  .potential-danger-label {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1 1 20px;\n    text-align: center;\n    border: 3px solid transparent;\n\n    &[disabled] {\n      cursor: not-allowed;\n      pointer-events: none;\n      background-color: rgba(255, 255, 255, 0.8);\n      color: grey;\n    }\n\n    &[selected] {\n      border-color: black;\n    }\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n.yetitabs {\n  margin: 0 0 0 -1px !important;\n  overflow: visible;\n\n  &-link {\n    font-size: 0.9em;\n    padding: 0.25em 1em;\n  }\n\n  li,\n  a {\n    height: 100%;\n    outline: none;\n  }\n\n  li {\n    margin-right: 1px;\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n.info {\n  margin-top: 0.25rem;\n  margin-right: -0.75rem;\n}\n","<template>\n  <div>\n    <svg :viewBox=\"danger.altitude ? '0 0 165 100' : '0 0 100 100'\" :width=\"danger.altitude ? 130 : 80\" height=\"80\">\n      <polygon points=\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5\" />\n      <g v-if=\"danger.locLow && !danger.altitude\">\n        <text :x=\"locLowIsEast ? 80 : 5\" y=\"40\" class=\"small\">\n          {{ danger.locLow }}\n        </text>\n        <text :x=\"!locLowIsEast ? 80 : 5\" y=\"40\" class=\"small\">\n          {{ danger.locHigh }}\n        </text>\n        <text :x=\"locLowIsEast ? 66 : 33\" y=\"68\">\n          {{ danger.low }}\n        </text>\n        <line x1=\"50\" x2=\"50\" y1=\"50\" y2=\"70\" />\n        <text :x=\"!locLowIsEast ? 66 : 33\" y=\"68\">\n          {{ danger.high }}\n        </text>\n      </g>\n      <g v-else>\n        <text x=\"50\" :y=\"danger.high ? 82 : 65\">\n          <tspan>{{ danger.low }}</tspan>\n          <tspan v-if=\"danger.lowEvol\">&ensp;</tspan>\n          <tspan v-if=\"danger.lowEvol\">{{ danger.lowEvol }}</tspan>\n        </text>\n        <g v-if=\"danger.lowEvol\">\n          <line x1=\"45\" x2=\"55\" :y1=\"danger.high ? 75 : 58\" :y2=\"danger.high ? 75 : 58\" />\n          <line x1=\"50\" x2=\"55\" :y1=\"danger.high ? 70 : 53\" :y2=\"danger.high ? 75 : 58\" />\n          <line x1=\"50\" x2=\"55\" :y1=\"danger.high ? 80 : 63\" :y2=\"danger.high ? 75 : 58\" />\n        </g>\n        <g v-show=\"danger.high\">\n          <line x1=\"10\" y1=\"61.5\" x2=\"90\" y2=\"61.5\" />\n          <text x=\"50\" y=\"54\">\n            <tspan>{{ danger.high }}</tspan>\n            <tspan v-if=\"danger.highEvol\">&ensp;</tspan>\n            <tspan v-if=\"danger.highEvol\">{{ danger.highEvol }}</tspan>\n          </text>\n          <g v-if=\"danger.highEvol\">\n            <line x1=\"45\" x2=\"55\" y1=\"46\" y2=\"46\" />\n            <line x1=\"50\" x2=\"55\" y1=\"41\" y2=\"46\" />\n            <line x1=\"50\" x2=\"55\" y1=\"51\" y2=\"46\" />\n          </g>\n        </g>\n        <text v-if=\"danger.altitude\" x=\"92\" y=\"65\" class=\"small\">\n          {{ danger.altitude }}\n        </text>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    danger: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    locLowIsEast() {\n      return this.danger.locLow === 'E';\n    },\n  },\n};\n</script>\n\n<style scoped>\nline,\npolygon {\n  fill: none;\n  stroke: #000;\n  stroke-width: 2;\n}\ntext {\n  font-family: sans-serif;\n  font-size: 20px;\n  font-weight: bold;\n  text-anchor: middle;\n}\ntext.small {\n  font-size: 16px;\n  font-weight: normal;\n  text-anchor: start;\n}\n</style>\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.bulletins-overlay {\n  width: 300px;\n  max-width: 100%;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n\n  p,\n  dl {\n    user-select: text;\n  }\n}\n.bulletins-header {\n  background: $primary;\n  padding-top: 2rem;\n\n  .title {\n    color: white;\n  }\n}\n.bulletins-footer {\n  background: $grey-lighter;\n}\n.bulletins-overlay-danger-icon {\n  position: absolute;\n  top: -40px; /* iconSize / 2 */\n  left: 0;\n  right: 0;\n  margin: auto;\n  z-index: 2;\n  pointer-events: none;\n  transform: scale(1.2);\n}\n.country-name {\n  opacity: 0.75;\n}\ndt,\ndd {\n  display: inline;\n}\ndt {\n  font-weight: bold;\n}\n.button-close {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.overlay {\n  min-width: 150px;\n  max-width: 100%;\n  background: $white;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n}\n.overlay-header {\n  font-size: 0.9em;\n  padding: 5px 0;\n  text-align: center;\n  color: $white;\n}\n.overlay-content {\n  text-align: center;\n  padding: 5px;\n  vertical-align: 1px;\n}\n.overlay-content a:hover,\n.overlay-content a:focus {\n  text-decoration: underline;\n}\n.overlay-link-icon {\n  margin-left: 5px;\n}\n.overlay-icon {\n  position: absolute;\n  transform: scale(1.3);\n  top: -7px;\n  left: -9px; /* iconSize / 2 */\n  margin: auto;\n  z-index: 2;\n  pointer-events: none;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.footer {\n  background: $grey-lighter;\n  margin: 10px -5px -5px;\n}\n.data-avalanche-content {\n  width: 150px;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.footer {\n  background: $grey-lighter;\n  margin: 10px -5px -5px;\n}\n.overlay-icons {\n  display: flex;\n  justify-content: center;\n  margin: 10px;\n}\n.overlay-icons a {\n  margin: 0 5px;\n  font-size: 0.9em;\n  line-height: 1;\n}\n.overlay-icons img {\n  border: solid 1px rgba($black, 0.5);\n}\n.overlay-icons-imgs {\n  position: relative;\n}\n.overlay-link-icon {\n  position: absolute;\n  top: 1px;\n  right: 1px;\n  background: white;\n  padding: 2px;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n.overlay-title em {\n  font-size: 0.9em;\n  opacity: 0.8;\n}\n.overlay-nivoses-icons {\n  display: flex;\n  justify-content: center;\n  margin: 10px;\n}\n.overlay-nivoses-icons a {\n  margin: 0 5px;\n  font-size: 0.9em;\n  line-height: 1;\n}\n.overlay-nivoses-icons img {\n  border: solid 1px rgba($black, 0.5);\n}\n.overlay-nivoses-icons-imgs {\n  position: relative;\n}\n.overlay-link-icon {\n  position: absolute;\n  top: 1px;\n  right: 1px;\n  background: white;\n  padding: 2px;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.overlay {\n  width: 400px;\n  max-width: 100%;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n\n  p {\n    user-select: text;\n  }\n}\n.overlay-header {\n  background: hsl(74, 42%, 45%);\n  padding-top: 1rem;\n\n  .title {\n    color: white;\n  }\n}\n.overlay-text {\n  max-height: 200px;\n  overflow: auto;\n  user-select: text;\n  padding-bottom: 1em;\n  margin-bottom: 1em;\n  transition: max-height 0.3s;\n}\n.dates {\n  font-size: 0.929em;\n}\n.contact {\n  font-size: 0.857em;\n}\n.button-close {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n}\n.sensitive-item {\n  display: inline-block;\n  padding: 0 0.2em;\n\n  &.nok {\n    background: #ffe08a;\n  }\n}\n","<template>\n  <div ref=\"drawInfoOverlay\">\n    <p><fa-icon icon=\"route\" transform=\"shrink-3\" /> {{ Number(drawInfo.distance).toLocaleString() }}&nbsp;m</p>\n    <p><fa-icon icon=\"compass\" transform=\"shrink-3\" /> {{ drawInfo.bearing }}Â°</p>\n  </div>\n</template>\n\n<script>\nimport { icon } from '@fortawesome/fontawesome-svg-core';\n\nimport layerMixin from './layer';\nimport simplify from './simplify';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport c2c from '@/js/apis/c2c';\nimport ol from '@/js/libs/ol';\n\nclass SplitInteraction extends ol.interaction.Pointer {\n  constructor(options) {\n    super({\n      handleDownEvent: (evt) => {\n        if (evt.originalEvent.ctrlKey) {\n          const map = evt.map;\n\n          const feature = map.forEachFeatureAtPixel(\n            evt.pixel,\n            function (feature) {\n              return feature;\n            },\n            {\n              layerFilter: (layer) => {\n                return layer === this.layer_;\n              },\n            }\n          );\n\n          if (feature) {\n            this.feature_ = feature;\n            this.coordinate_ = feature.getGeometry().getClosestPoint(evt.coordinate);\n\n            // the split point is surely not on vertex, so find on which segment it is\n            let coordinates = this.feature_.getGeometry().getCoordinates();\n            let insertIndex = undefined;\n            for (let i = 0; i < coordinates.length - 1; i++) {\n              const [x1, y1] = coordinates[i];\n              const [x2, y2] = coordinates[i + 1];\n              if (this.pointOnSegment(this.coordinate_, [x1, y1], [x2, y2])) {\n                insertIndex = i + 1;\n                break;\n              }\n            }\n\n            // then insert a new point on the segment before split\n            // if insertindex is set (point on line)\n            // and coord is not already a vertex\n            // and coord is not the first point\n            if (\n              insertIndex !== undefined &&\n              coordinates[insertIndex][0] !== this.coordinate_[0] &&\n              coordinates[insertIndex][1] !== this.coordinate_[1] &&\n              coordinates[0][0] !== this.coordinate_[0] &&\n              coordinates[0][1] !== this.coordinate_[1]\n            ) {\n              coordinates.splice(insertIndex, 0, this.coordinate_);\n            }\n\n            // now, split feature and create an array for two splitted feature\n            let sublines = [[], []];\n            let i = 0;\n            let splitDone = false;\n            coordinates.forEach((coord) => {\n              sublines[i].push(coord);\n              // if point is less than one meter away = this is the split point\n              if (\n                !splitDone &&\n                Math.abs(coord[0] - this.coordinate_[0]) < 1 &&\n                Math.abs(coord[1] - this.coordinate_[1]) < 1\n              ) {\n                i = 1;\n                sublines[i].push(coord);\n                splitDone = true;\n              }\n            });\n            this.dispatchEvent({\n              type: 'split',\n              oldFeature: feature,\n              newFeatures: sublines.map((line) => new ol.Feature(new ol.geom.LineString(line))),\n            });\n          }\n\n          return false;\n        }\n      },\n    });\n\n    this.layer_ = options.layer;\n    this.coordinate_ = null;\n    this.feature_ = null;\n  }\n\n  pointOnSegment(p, a, b, tol = 1e-3) {\n    const cross = (p[1] - a[1]) * (b[0] - a[0]) - (p[0] - a[0]) * (b[1] - a[1]);\n    if (Math.abs(cross) > tol) return false;\n    const dot = (p[0] - a[0]) * (b[0] - a[0]) + (p[1] - a[1]) * (b[1] - a[1]);\n    if (dot < 0) return false;\n    const sqLen = (b[0] - a[0]) ** 2 + (b[1] - a[1]) ** 2;\n    if (dot > sqLen) return false;\n    return true;\n  }\n}\n\nlet angle = 60;\nlet pColor = `hsl(${angle}, 100%, 50%)`;\nlet pColorLight = `hsl(${angle}, 100%, 90%)`;\nlet pColorDark = `hsl(${angle}, 100%, 20%)`;\nlet pWidth = 5;\n\nlet normalLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: pColorDark,\n      width: pWidth + 2,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: pColor,\n      width: pWidth,\n    }),\n  }),\n];\n\nlet normalWithEditLineStyle = [\n  ...normalLineStyle,\n  new ol.style.Style({\n    image: new ol.style.Circle({\n      radius: pWidth - 1,\n      fill: new ol.style.Fill({\n        color: pColorLight,\n      }),\n      stroke: new ol.style.Stroke({\n        color: pColorDark,\n        width: 2,\n      }),\n    }),\n    geometry(feature) {\n      let coords = feature\n        .getGeometry()\n        .getCoordinates()\n        .map((c) => new ol.geom.Point(c));\n      return new ol.geom.GeometryCollection(coords);\n    },\n  }),\n];\n\nlet editStyle = [\n  new ol.style.Style({\n    image: new ol.style.Circle({\n      radius: 6,\n      fill: new ol.style.Fill({\n        color: pColorDark,\n      }),\n      stroke: new ol.style.Stroke({\n        color: 'white',\n        width: 2,\n      }),\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'white',\n      width: pWidth + 1,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: pColorDark,\n      width: pWidth - 1,\n    }),\n  }),\n];\n\nlet simplifiedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'white',\n      width: pWidth + 2,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'rgba(0, 0, 0, 0.7)',\n      width: pWidth,\n    }),\n  }),\n];\n\nlet highlightedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'hsla(60, 100%, 50%, 0.8)',\n      width: 16,\n    }),\n    zIndex: 1,\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'hsl(28, 100%, 45%)',\n      width: pWidth + 2,\n    }),\n    zIndex: 1,\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'hsl(28, 100%, 65%)',\n      width: pWidth,\n    }),\n    zIndex: 1,\n  }),\n];\n\nlet elevationPointStyle = [\n  new ol.style.Style({\n    image: new ol.style.Circle({\n      radius: pWidth + 1,\n      fill: new ol.style.Fill({\n        color: 'red',\n      }),\n      stroke: new ol.style.Stroke({\n        color: 'white',\n        width: 2,\n      }),\n    }),\n  }),\n];\n\nlet drawInfoOverlay = new ol.Overlay({\n  offset: [10, -10],\n  positioning: 'bottom-left',\n  className: 'draw-info-overlay',\n});\n\nexport default {\n  mixins: [layerMixin],\n  data() {\n    return {\n      visibleSimplifiedLayer: false,\n      drawInfo: {\n        distance: 0,\n        bearing: 0,\n      },\n    };\n  },\n  computed: {\n    features() {\n      return Yetix.features;\n    },\n    featuresLength() {\n      return Yetix.featuresLength;\n    },\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    zoomDelta() {\n      return Yetix.ZOOM_DELTA;\n    },\n    validMinimumMapZoom() {\n      return Yetix.VALID_MINIMUM_MAP_ZOOM;\n    },\n    editMode() {\n      return Yetix.editMode;\n    },\n  },\n  watch: {\n    editMode() {\n      if (!this.editMode) {\n        this.disableInteractions();\n        document.removeEventListener('keydown', this.onKeydown);\n        document.removeEventListener('keyup', this.onKeyup);\n      } else {\n        this.enableInteractions();\n        document.addEventListener('keydown', this.onKeydown);\n        document.addEventListener('keyup', this.onKeyup);\n      }\n      this.updateEditStyle();\n    },\n    mapZoom() {\n      this.updateEditStyle();\n    },\n  },\n  mounted() {\n    // features layer\n    this.featuresLayer = new ol.layer.Vector({\n      name: 'routeLayer',\n      source: new ol.source.Vector(),\n      style: normalLineStyle,\n    });\n    this.featuresLayerSource = this.featuresLayer.getSource();\n\n    this.map.addLayer(this.featuresLayer);\n\n    // draw info overlay\n    drawInfoOverlay.setElement(this.$refs.drawInfoOverlay);\n    this.map.addOverlay(drawInfoOverlay);\n\n    // simplified layer (preview)\n    this.simplifiedLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: simplifiedLineStyle,\n    });\n    // get source\n    this.simplifiedSource = this.simplifiedLayer.getSource();\n    // add layer, and hide it\n    this.map.addLayer(this.simplifiedLayer);\n    this.simplifiedLayer.setVisible(false);\n\n    // layer for elevation point\n    this.elevationPointLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: elevationPointStyle,\n    });\n    // add layer, and hide it\n    this.map.addLayer(this.elevationPointLayer);\n    this.elevationPointLayer.setVisible(false);\n    // add one feature for point\n    const elevationPointSource = this.elevationPointLayer.getSource();\n    this.elevationPoint = new ol.Feature();\n    elevationPointSource.addFeature(this.elevationPoint);\n    // react to event\n    Yetix.$on('elevationProfile', this.onElevationProfile);\n\n    // set default featuresTitle\n    this.defaultFeaturesTitle = this.$gettext(Yetix.featuresTitle);\n    Yetix.setFeaturesTitle(this.defaultFeaturesTitle);\n\n    // load camptocamp document\n    let doc = this.$route.params.document_id;\n    let lang = this.$language.current;\n    if (doc) {\n      c2c['route'].getCooked(doc, lang).then(this.addFeaturesFromDocument);\n    }\n\n    // features events (added feature)\n    this.featuresLayerSource.on('addfeature', this.onFeature);\n    this.simplifiedSource.on('addfeature', this.onFeature);\n\n    this.addInteractions();\n\n    Yetix.$on('addFeature', this.addFeature);\n    Yetix.$on('removeFeature', this.removeFeature);\n    Yetix.$on('removeFeatures', this.removeFeatures);\n    Yetix.$on('gpx', this.addFeaturesFromGpx);\n    Yetix.$on('previewSimplify', this.previewSimplify);\n    Yetix.$on('simplify', this.simplify);\n    Yetix.$on('featureUpdated', this.updateFeaturesFromStore);\n    Yetix.$on('fit-map-to-features', this.fitMapToFeatures);\n\n    // special event when window loose focus = hanfle ctrl key (when browser shorcuts) for split interaction\n    window.addEventListener('blur', () => this.onKeyup({ key: 'Control', altKey: false }));\n\n    // already features to add?\n    // but not a c2c document\n    if (!doc && this.features.length) {\n      this.featuresLayerSource.addFeatures(this.features);\n    }\n  },\n  methods: {\n    getLayer() {\n      return this.featuresLayer;\n    },\n    addInteractions() {\n      let source = this.featuresLayerSource;\n\n      this.modifyInteraction = new ol.interaction.Modify({\n        source,\n        style: editStyle,\n      });\n      this.map.addInteraction(this.modifyInteraction);\n\n      this.drawInteraction = new ol.interaction.Draw({\n        source,\n        type: 'LineString',\n        style: editStyle,\n        geometryFunction: (coords, geom) => {\n          if (!geom) {\n            geom = new ol.geom.LineString([]);\n          }\n\n          if (coords.length <= 1) {\n            drawInfoOverlay.setPosition(undefined);\n          }\n\n          // get 2 last points\n          if (coords.length >= 2) {\n            geom.setCoordinates(coords);\n\n            let geomCoords = geom.getCoordinates();\n            let point1 = geomCoords[geomCoords.length - 2];\n            let point2 = geomCoords[geomCoords.length - 1];\n            let distance = ol.sphere.getDistance(ol.proj.toLonLat(point1), ol.proj.toLonLat(point2));\n\n            let lon1 = (ol.proj.toLonLat(point1)[0] * Math.PI) / 180;\n            let lon2 = (ol.proj.toLonLat(point2)[0] * Math.PI) / 180;\n            let lat1 = (ol.proj.toLonLat(point1)[1] * Math.PI) / 180;\n            let lat2 = (ol.proj.toLonLat(point2)[1] * Math.PI) / 180;\n            let a = Math.sin(lon2 - lon1) * Math.cos(lat2);\n            let b = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n\n            let angle = Math.atan2(a, b);\n            let bearing = ((angle * 180) / Math.PI + 360) % 360;\n\n            if (distance > 0) {\n              this.drawInfo.distance = Math.round(distance);\n              this.drawInfo.bearing = Math.round(bearing);\n            } else {\n              this.drawInfo.distance = 0;\n              this.drawInfo.bearing = 0;\n            }\n            drawInfoOverlay.setPosition(geomCoords[geomCoords.length - 1]);\n          }\n\n          return geom;\n        },\n      });\n      this.map.addInteraction(this.drawInteraction);\n\n      this.splitInteraction = new SplitInteraction({\n        layer: this.featuresLayer,\n      });\n      this.map.addInteraction(this.splitInteraction);\n\n      this.snapInteraction = new ol.interaction.Snap({ source });\n      this.map.addInteraction(this.snapInteraction);\n\n      this.drawInteraction.on('drawstart', this.onDrawStart);\n      this.drawInteraction.on('drawend', this.onDrawEnd);\n      this.modifyInteraction.on('modifyend', this.onModifyEnd);\n      this.splitInteraction.on('split', this.onSplit);\n\n      this.disableInteractions();\n    },\n    enableInteractions() {\n      this.drawInteraction.setActive(true);\n      this.modifyInteraction.setActive(true);\n      this.splitInteraction.setActive(true);\n      this.snapInteraction.setActive(true);\n    },\n    disableInteractions() {\n      this.drawInteraction.setActive(false);\n      this.modifyInteraction.setActive(false);\n      this.splitInteraction.setActive(false);\n      this.snapInteraction.setActive(false);\n\n      // hide draw info overlay\n      drawInfoOverlay.setPosition(undefined);\n    },\n    onDrawStart() {\n      this.drawing = true;\n      document.addEventListener('keydown', this.onKeyWhileDrawing);\n      document.addEventListener('keypress', this.onKeyWhileDrawing);\n    },\n    onDrawEnd() {\n      this.drawing = false;\n      document.removeEventListener('keydown', this.onKeyWhileDrawing);\n      document.removeEventListener('keypress', this.onKeyWhileDrawing);\n\n      // hide draw info overlay\n      drawInfoOverlay.setPosition(undefined);\n    },\n    onModifyEnd() {\n      this.updateFeaturesFromStore();\n    },\n    onSplit(evt) {\n      evt.newFeatures.forEach(this.addFeature);\n      this.removeFeature(evt.oldFeature);\n    },\n    onKeyWhileDrawing(event) {\n      event.preventDefault();\n      // backspace key\n      if (event.key === 'Backspace') {\n        this.drawInteraction.removeLastPoint();\n      }\n    },\n    onFeature(event) {\n      // set features styles\n      event.feature.set('highlightedStyle', highlightedLineStyle);\n      // emit new features, only in normal case (edit/drawing)\n      // not in gpx/document case (prevent multiple update for each lines)\n      if (!this.loadingExternalFeatures) {\n        this.updateFeaturesFromStore();\n      }\n    },\n    updateFeaturesFromStore() {\n      // updates features\n      let features = this.visibleSimplifiedLayer ? this.getSimplifiedFeatures() : this.getFeaturesLayerFeatures();\n      Yetix.setFeatures(features);\n      // update length\n      let featuresLength = this.getFeaturesLayerFeatures()\n        .map((feature) => {\n          return feature.getGeometry().getCoordinates().length;\n        })\n        .reduce((acc, value) => acc + value, 0);\n      Yetix.setFeaturesLength(featuresLength);\n\n      if (features.length === 0) {\n        // if user come from a document url, remove url\n        if (this.$route.params.document_id) {\n          this.$router.replace({ path: '/' + this.$route.name });\n        }\n        // set featuresTitle back to default\n        Yetix.setFeaturesTitle(this.defaultFeaturesTitle);\n      }\n    },\n    getFeaturesLayerFeatures() {\n      return this.getSortedFeatures(this.featuresLayerSource.getFeatures());\n    },\n    getSimplifiedFeatures() {\n      return this.getSortedFeatures(this.simplifiedSource.getFeatures());\n    },\n    getSortedFeatures(features) {\n      return features.sort((a, b) => {\n        return Number(a.ol_uid) > Number(b.ol_uid);\n      });\n    },\n    removeFeature(feature) {\n      // remove feature\n      // when only one left, ask for user to confirm\n      let toBeRemoved = !(\n        this.featuresLayerSource.getFeatures().length === 1 && !confirm(this.$gettext('Confirm delete'))\n      );\n      if (toBeRemoved) {\n        if (this.visibleSimplifiedLayer) {\n          this.simplifiedSource.removeFeature(feature);\n          // remove corresponding feature\n          this.getFeaturesLayerFeatures().forEach((f) => {\n            if (feature.get('id') === f.ol_uid) {\n              this.featuresLayerSource.removeFeature(f);\n            }\n          });\n        } else {\n          this.featuresLayerSource.removeFeature(feature);\n        }\n        this.updateFeaturesFromStore();\n      }\n    },\n    removeFeatures() {\n      // clear both layers\n      this.featuresLayerSource.clear();\n      this.simplifiedSource.clear(true);\n      // set default layer to be visible\n      this.hideSimplifiedLayer();\n      // update features\n      this.updateFeaturesFromStore();\n    },\n    addFeaturesFromGpx(gpx) {\n      // return if no gpx\n      if (!gpx) {\n        return;\n      }\n      // first, clear geometry\n      this.featuresLayerSource.clear();\n\n      // before reading gpx, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      let gpxFormat = new ol.format.GPX();\n      let features = gpxFormat.readFeatures(gpx, { featureProjection: 'EPSG:3857' });\n      features.forEach(this.addFeature);\n      // update store\n      Yetix.setFeaturesTitle(this.getFeaturesTitleFromGpx(features));\n\n      // gpx is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.updateFeaturesFromStore();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n    getFeaturesTitleFromGpx(features) {\n      if (features && features.length) {\n        let properties = features[0].getProperties();\n        if (properties.name) {\n          return properties.name;\n        } else {\n          return this.$gettext('GPX file');\n        }\n      }\n    },\n    addFeaturesFromDocument(doc) {\n      // before reading document, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      let documentGeometry = doc.data.geometry.geom_detail;\n      if (documentGeometry) {\n        let feature = new ol.format.GeoJSON().readFeature(documentGeometry);\n        this.addFeature(feature);\n        // fit map to new features\n        this.fitMapToFeatures();\n      } else {\n        // fit map to geom\n        this.fitMapToGeom(doc.data.geometry.geom);\n      }\n      // update store\n      Yetix.setFeaturesTitle(this.getFeaturesTitleFromDocument(doc));\n      // document is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.updateFeaturesFromStore();\n    },\n    addFeature(feature) {\n      // split multilinestrings into linestrings\n      if (feature.getGeometry().getType() === 'MultiLineString') {\n        let lines = feature.getGeometry().getLineStrings();\n        lines.map((line) => new ol.Feature({ geometry: line })).forEach(this.addFeature);\n      } else {\n        let nbPointsOnFeature = feature.getGeometry().getCoordinates().length;\n        if (nbPointsOnFeature >= 2) {\n          this.featuresLayerSource.addFeature(feature);\n        }\n      }\n    },\n    getFeaturesTitleFromDocument(document) {\n      return this.$documentUtils.getDocumentTitle(document.data);\n    },\n    fitMapToFeatures() {\n      let extent = ol.extent.createEmpty();\n\n      ol.extent.extend(extent, this.featuresLayerSource.getExtent());\n\n      this.view.fit(extent, { size: this.map.getSize() });\n\n      let actualZoom = Math.round(new ol.View().getZoomForResolution(this.map.getView().getResolution()) * 10) / 10;\n      // set a minimum zoom level\n      this.view.setZoom(Math.max(this.validMinimumMapZoom, actualZoom) / this.zoomDelta);\n    },\n    fitMapToGeom(geom) {\n      let feature = new ol.format.GeoJSON().readFeature(geom);\n      let geometry = feature.getGeometry().getExtent();\n      this.view.fit(geometry, { size: this.map.getSize() });\n      this.view.setZoom(this.validMinimumMapZoom / this.zoomDelta);\n    },\n    hideSimplifiedLayer() {\n      this.featuresLayer.setVisible(true);\n      this.simplifiedLayer.setVisible(false);\n      this.visibleSimplifiedLayer = false;\n    },\n    showSimplifiedLayer() {\n      this.featuresLayer.setVisible(false);\n      this.simplifiedLayer.setVisible(true);\n      this.visibleSimplifiedLayer = true;\n    },\n    previewSimplify(tolerance) {\n      // every preview, clear the layer first\n      this.simplifiedSource.clear(true);\n      // show/hide layers based on tolerance\n      if (tolerance === 0) {\n        this.hideSimplifiedLayer();\n      } else {\n        this.showSimplifiedLayer();\n        // get each features, simplify them, and add to simplified layer\n        let features = this.getFeaturesLayerFeatures();\n        features.forEach((feature) => {\n          let geometry = feature.getGeometry();\n\n          // clone geometry\n          let simplifiedGeometry = geometry.clone();\n          let coordinates = simplifiedGeometry.getCoordinates();\n\n          // if no z, add 0\n          coordinates = coordinates.map((coord) => {\n            if (!coord[2]) {\n              coord[2] = 0;\n            }\n            return coord;\n          });\n\n          // check if tolerance is 0 == no simplification\n          if (tolerance !== 0) {\n            coordinates = simplify(coordinates, tolerance, true);\n            simplifiedGeometry.setCoordinates(coordinates);\n          }\n\n          // create feature (store reference of actual feature thanks to ol_uid)\n          let simplifiedFeature = new ol.Feature({ geometry: simplifiedGeometry, id: feature.ol_uid });\n          this.simplifiedSource.addFeature(simplifiedFeature);\n        });\n      }\n      this.updateFeaturesFromStore();\n    },\n    simplify() {\n      // clear features layer\n      this.featuresLayerSource.clear();\n      // get simplified features\n      let simplifiedFeatures = this.getSimplifiedFeatures();\n      // and move them one by one (to keep order of line chunks) in features layer\n      simplifiedFeatures.forEach((feature) => {\n        this.featuresLayerSource.addFeature(feature);\n      });\n      // hide simplified/show features\n      this.hideSimplifiedLayer();\n    },\n    onElevationProfile(event, coord) {\n      switch (event) {\n        case 'cursor_move':\n          this.elevationPointLayer.setVisible(true);\n          this.elevationPoint.setGeometry(new ol.geom.Point(coord));\n          break;\n        case 'cursor_end':\n          this.elevationPointLayer.setVisible(false);\n          break;\n      }\n    },\n    updateEditStyle() {\n      this.featuresLayer.setStyle(\n        this.editMode && this.mapZoom >= this.validMinimumMapZoom ? normalWithEditLineStyle : normalLineStyle\n      );\n    },\n    onKeydown(evt) {\n      // not when drawing\n      if (this.drawing) {\n        return false;\n      }\n      // not when both alt+ctrl\n      if (evt.ctrlKey && evt.altKey) {\n        return false;\n      }\n      // which key?\n      let tip = null;\n      let svgSource = null;\n      if (evt.ctrlKey) {\n        tip = this.$gettext('Split line');\n        svgSource = icon({ prefix: 'fas', iconName: 'scissors' }).html[0];\n      }\n      if (evt.altKey) {\n        tip = this.$gettext('Add or remove point');\n        svgSource = icon({ prefix: 'fas', iconName: 'plus-minus' }).html[0];\n      }\n\n      // add new icon in editstyle, only if length is 3\n      if (tip && editStyle.length === 3) {\n        svgSource = svgSource.replace('<svg', '<svg width=\"10\" height=\"10\"');\n        svgSource = svgSource.replace('fill=\"currentColor\"', `fill=\"white\" stroke=\"${pColorDark}\" stroke-width=\"5\"`);\n        editStyle.splice(\n          1,\n          0,\n          new ol.style.Style({\n            image: new ol.style.Icon({\n              src: 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgSource),\n              size: [10, 10],\n            }),\n          })\n        );\n        editStyle[0].getImage().setRadius(10);\n        editStyle[0].setText(\n          new ol.style.Text({\n            text: tip,\n            textAlign: 'left',\n            offsetX: 20,\n            offsetY: 0,\n            padding: [5, 5, 5, 5],\n            fill: new ol.style.Fill({\n              color: 'white',\n            }),\n            backgroundFill: new ol.style.Fill({\n              color: pColorDark,\n            }),\n          })\n        );\n        this.drawInteraction.getOverlay().setStyle(editStyle);\n        this.modifyInteraction.getOverlay().setStyle(editStyle);\n      }\n    },\n    onKeyup(evt) {\n      // remove specific icon\n      // only when alt or ctrl, but not both, and icon is already in editstyle\n      if (((evt.key === 'Alt' && !evt.ctrlKey) || (evt.key === 'Control' && !evt.altKey)) && editStyle.length === 4) {\n        editStyle.splice(1, 1);\n        editStyle[0].getImage().setRadius(6);\n        editStyle[0].setText(\n          new ol.style.Text({\n            text: null,\n          })\n        );\n        this.drawInteraction.getOverlay().setStyle(editStyle);\n        this.modifyInteraction.getOverlay().setStyle(editStyle);\n      }\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n\n<style>\n.draw-info-overlay {\n  background: yellow;\n  padding: 2px;\n  border-radius: 2px;\n  font-size: 0.85rem;\n  min-width: 60px;\n}\n</style>\n","<template>\n  <div>\n    <p class=\"title is-size-5\" v-translate>Winter hiking routes</p>\n    <ul>\n      <li v-for=\"(item, i) of winterRouteLegend\" :key=\"i\">\n        <img class=\"image\" :src=\"require('@/assets/img/yeti/legends/' + item.image)\" />\n        <span class=\"title\">{{ item.title }}</span>\n        <span class=\"text\" v-if=\"item.text\">{{ item.text }}</span>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    winterRouteLegend() {\n      return Yetix.winterRouteLegend;\n    },\n  },\n};\n</script>\n\n<style scoped>\nli {\n  padding: 5px;\n}\n.image {\n  vertical-align: bottom;\n  display: inline-block;\n  margin-right: 5px;\n}\n.title {\n  font-size: 1rem;\n}\n.text {\n  display: block;\n  padding-left: 30px;\n}\n</style>\n","<template>\n  <div>\n    <p class=\"title is-size-5\" v-translate>YETI Risk</p>\n    <ul>\n      <li v-for=\"(item, i) of yetiLegend.items\" :key=\"i\">\n        <span class=\"color\" :style=\"'background:' + item.color\" />\n        <!-- $gettext('Risky slopes') -->\n        <!-- $gettext('Risky slopes, increased risk due to orientation') -->\n        <!-- $gettext('Residual risk >1') -->\n        <!-- $gettext('Residual risk >1.3') -->\n        <!-- $gettext('Residual risk >1.5') -->\n        <span>{{ $gettext(item.text['en']) }}</span>\n      </li>\n    </ul>\n    <!-- $gettext('From danger 3, consider the slopes which dominate the route') -->\n    <p class=\"is-size-6 is-italic\">{{ $gettext(yetiLegend.comment['en']) }}</p>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    yetiLegend() {\n      return Yetix.yetiLegend;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.color {\n  vertical-align: bottom;\n  display: inline-block;\n  width: 21px;\n  height: 21px;\n  margin-right: 5px;\n}\n</style>\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '@/assets/sass/variables';\n\n.legend {\n  position: absolute;\n  z-index: 6;\n  top: 1.25rem;\n  right: 1.25rem;\n  max-width: 400px;\n\n  .legend-button {\n    position: static;\n\n    button {\n      width: auto;\n      padding: 0 0.5em;\n    }\n  }\n\n  .legend-content {\n    margin-top: 0.5rem;\n    margin-left: 1.25rem;\n    border-radius: 2px;\n    border: 1px solid lightgray;\n    padding: 0.5rem;\n    background: white;\n    clear: both;\n  }\n\n  .legend-item + .legend-item {\n    margin-top: 2rem;\n    padding-top: 1em;\n    border-top: solid 1px $grey-lighter;\n  }\n}\n\n.icon {\n  position: absolute;\n  top: 7px;\n  right: -10px;\n}\n.icon-notification {\n  color: $primary;\n}\n\n@media screen and (max-width: $tablet) {\n  .legend {\n    top: 0.5rem;\n\n    .legend-content {\n      margin-left: 0.5rem;\n    }\n  }\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n@import '~ol/ol.css';\n@import '@/assets/sass/variables';\n\n$control-margin: 0.52em;\n\n.ol-control-layer-switcher {\n  bottom: 3em;\n  left: $control-margin;\n  right: $control-margin;\n  max-width: 400px;\n  text-decoration: none;\n  background-color: white;\n  border: 1px solid lightgray;\n  border-radius: 2px;\n  padding: 0 10px 10px 10px;\n  display: flex;\n\n  & > div {\n    flex: 1;\n\n    header {\n      font-weight: bold;\n      padding-top: 10px;\n    }\n  }\n}\n\n.ol-control-layer-switcher-button {\n  bottom: $control-margin;\n  left: $control-margin;\n}\n\n.ol-control-recenter-on {\n  top: $control-margin;\n  left: 3em;\n  background: $white;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2);\n\n  input {\n    width: 14.75rem;\n    border: none;\n    padding: 0.3rem;\n    border-radius: 2px;\n  }\n}\n\n.ol-control-recenter-on-propositions {\n  top: 35px;\n  left: 3em;\n  background: white;\n  border-radius: 2px;\n  border: 1px solid lightgray;\n  padding: 5px;\n\n  li:hover {\n    background: lightgrey;\n    cursor: pointer;\n  }\n}\n\n.ol-control-center-on-geolocation {\n  top: 92px;\n  left: $control-margin;\n}\n\n.map-control-listitem {\n  display: flex;\n}\n.map-control-listitem label {\n  padding-left: 0.25rem;\n}\n\n$section-padding: 1.5rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(\n  100vh - #{$navbar-height} - #{$section-padding} - 2 * #{$box-padding} - #{$header-height} - #{$box-margin} - #{$box-margin}\n);\n\n.map-container {\n  position: relative;\n  padding-left: 0;\n}\n@media screen and (max-width: $tablet) {\n  .map-container {\n    height: $yeti-height;\n    padding-left: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    .map-container {\n      min-height: 100%;\n    }\n  }\n}\n\n.ol-control-edit-mode {\n  top: $control-margin;\n  left: 18.75rem;\n}\n\n@media screen and (max-width: $widescreen) {\n  .ol-control-edit-mode {\n    top: 3rem;\n    left: 3rem;\n  }\n}\n\n.icon-notification {\n  color: $primary;\n}\n","\n          @import '@/assets/sass/variables.scss';\n          @import '@/assets/sass/mixins.scss';\n        \n\n$section-padding: 0.75rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(100vh - #{$navbar-height});\n$yeti-height-ad: calc(100vh - #{$navbarad-height});\n\n.yeti-app {\n  position: relative;\n  padding: $section-padding;\n}\n\n.yeti-icon {\n  transform: scale(0.9);\n}\n\n.yeti-title {\n  margin-top: calc(0.75rem + 2px);\n}\n\n@media screen and (max-width: $tablet) {\n  .mobile-result-map {\n    margin-top: 0;\n    height: $yeti-height;\n\n    .documents-container {\n      display: None;\n    }\n  }\n\n  .mobile-result-card {\n    .map-container {\n      visibility: hidden; // map does not like to be in a display none...\n    }\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    height: $yeti-height;\n\n    .form-container {\n      max-width: 450px;\n      height: calc(100% - 0.75rem);\n      overflow: auto;\n    }\n  }\n}\n\n@media screen and (min-width: $widescreen) {\n  .yeti-content {\n    height: $yeti-height-ad;\n  }\n}\n\n.yeti-validation--top {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  width: 55%;\n  z-index: 1;\n}\n\n.yeti-validation--bottom {\n  margin-top: 1rem;\n}\n\n.yeti-logos {\n  box-shadow: none;\n  background: none;\n  mix-blend-mode: multiply;\n}\n\n.yeti-overlay {\n  position: absolute;\n  z-index: 10;\n  top: 0.75rem;\n  right: 0;\n  left: 0;\n  min-height: 100%;\n\n  & ~ .yeti-content {\n    visibility: hidden;\n  }\n}\n"],"names":[],"sourceRoot":""}