{"version":3,"file":"js/yeti.91fda0e0.js","mappings":"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ACA0C,YAAAA,GACAC,gBAAAA,KACAC,SAAAA,EACAC,UAAAA,GAIAC,mBAAAA,GACAC,qBAAAA,GAGAC,mBAAAA,GACAC,UAAAA,EACAC,QAAAA,EAEAC,SAAAA,KACAC,WAAAA,GACAC,WAAAA,KAEAC,MAAAA,GACAC,QAAAA,EACAC,WAAAA,EAEAC,SAAAA,GACAC,cAAAA,YACAC,eAAAA,EAGAC,uBAAAA,GAEAC,UAAAA,CACAC,IAAAA,GACAC,QAAAA,IAEAC,iBAAAA,EACAC,wBAAAA,EAEAC,iBAAAA,EACAC,kBAAAA,KAEAC,QAAAA,GACAC,aAAAA,EAEAC,MAAAA,GACAC,WAAAA,EAEAC,SAAAA,GACAC,cAAAA,EAEAC,cAAAA,GACAC,mBAAAA,EAEAC,QAAAA,EACAC,UAAAA,EAEAC,wBAAAA,GAQIC,EAAQ,wBAAeC,KAAKC,MAAMD,KAAKE,UAAUrD,KAQrD,ICxGI,EAAQ,EDwGZ,MAAmB,aAAI,CACvBV,SAAAA,CACAY,yBACA,+BACA,EACAC,uBACA,6BACA,EACAC,uBACA,6BACA,EACAC,sBACA,4BACA,EACAC,yBACA,+BACA,EACAC,qBACA,2BACA,EACAR,YACA,kBACA,EACAS,MACA,YACA,EACAtC,SACA,eACA,EACA+C,qBACA,2BACA,EACAC,uBACA,6BACA,EACAC,qBACA,2BACA,EACAC,WACA,iBACA,EACAC,SACA,eACA,EACAC,WACA,iBACA,EACAC,aACA,mBACA,EACAC,aACA,mBACA,EACAC,QACA,cACA,EACAC,SACA,eACA,EACAC,YACA,kBACA,EACAC,WACA,iBACA,EACA0B,cACA,yBACA,EACAzB,gBACA,sBACA,EACAC,iBACA,uBACA,EACAC,yBACA,+BACA,EACAC,YACA,kBACA,EACAG,kBACA,wBACA,EACAC,yBACA,+BACA,EACAC,kBACA,wBACA,EACAC,oBACA,0BACA,EACAC,UACA,gBACA,EACAC,cACA,oBACA,EACAC,QACA,cACA,EACAC,YACA,kBACA,EACAC,WACA,iBACA,EACAC,eACA,qBACA,EACAC,gBACA,sBACA,EACAC,oBACA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","sources":["webpack://c2c_ui/./src/views/portals/YetiView.vue","webpack://c2c_ui/./src/components/yeti/Article.vue","webpack://c2c_ui/./src/components/yeti/SubPanelTitle.vue","webpack://c2c_ui/./src/components/yeti/SubPanelTitle.vue?70f4","webpack://c2c_ui/src/components/yeti/Article.vue","webpack://c2c_ui/./src/components/yeti/Article.vue?4470","webpack://c2c_ui/./src/components/yeti/Article.vue?e0e2","webpack://c2c_ui/./src/components/yeti/Panel.vue","webpack://c2c_ui/src/components/yeti/Yetix.vue","webpack://c2c_ui/./src/components/yeti/Yetix.vue","webpack://c2c_ui/./src/components/yeti/Yetix.vue?fc9b","webpack://c2c_ui/src/components/yeti/Panel.vue","webpack://c2c_ui/./src/components/yeti/Panel.vue?ed81","webpack://c2c_ui/./src/components/yeti/Panel.vue?88f7","webpack://c2c_ui/./src/components/yeti/SubPanelBra.vue","webpack://c2c_ui/./src/components/yeti/Counter.vue","webpack://c2c_ui/src/components/yeti/Counter.vue","webpack://c2c_ui/./src/components/yeti/Counter.vue?203e","webpack://c2c_ui/./src/components/yeti/Counter.vue?1d54","webpack://c2c_ui/./src/components/yeti/DropdownContent.vue","webpack://c2c_ui/src/components/yeti/DropdownContent.vue","webpack://c2c_ui/./src/components/yeti/DropdownContent.vue?dcd3","webpack://c2c_ui/./src/components/yeti/DropdownContent.vue?b696","webpack://c2c_ui/./src/components/yeti/Info.vue","webpack://c2c_ui/src/components/yeti/Info.vue","webpack://c2c_ui/./src/components/yeti/Info.vue?9f48","webpack://c2c_ui/./src/components/yeti/Info.vue?79eb","webpack://c2c_ui/src/components/yeti/SubPanelBra.vue","webpack://c2c_ui/./src/components/yeti/SubPanelBra.vue?f6f2","webpack://c2c_ui/./src/components/yeti/SubPanelBra.vue?bf21","webpack://c2c_ui/./src/components/yeti/SubPanelCourse.vue","webpack://c2c_ui/./src/components/yeti/EditModeButton.vue","webpack://c2c_ui/src/components/yeti/EditModeButton.vue","webpack://c2c_ui/./src/components/yeti/EditModeButton.vue?cedd","webpack://c2c_ui/./src/components/yeti/EditModeButton.vue?8c36","webpack://c2c_ui/./src/components/yeti/ElevationProfile.vue","webpack://c2c_ui/./src/components/yeti/map-layers/simplify.js","webpack://c2c_ui/src/components/yeti/ElevationProfile.vue","webpack://c2c_ui/./src/components/yeti/ElevationProfile.vue?3203","webpack://c2c_ui/./src/components/yeti/ElevationProfile.vue?4c14","webpack://c2c_ui/./src/components/yeti/FeaturesList.vue","webpack://c2c_ui/src/components/yeti/FeaturesList.vue","webpack://c2c_ui/./src/components/yeti/FeaturesList.vue?de61","webpack://c2c_ui/./src/components/yeti/FeaturesList.vue?737b","webpack://c2c_ui/./src/components/yeti/SimplifyTool.vue","webpack://c2c_ui/src/components/yeti/SimplifyTool.vue","webpack://c2c_ui/./src/components/yeti/SimplifyTool.vue?7d3d","webpack://c2c_ui/./src/components/yeti/SimplifyTool.vue?ae11","webpack://c2c_ui/src/components/yeti/SubPanelCourse.vue","webpack://c2c_ui/./src/components/yeti/SubPanelCourse.vue?f01a","webpack://c2c_ui/./src/components/yeti/SubPanelCourse.vue?ed14","webpack://c2c_ui/./src/components/yeti/SubPanelLayers.vue","webpack://c2c_ui/./src/components/yeti/LayerButton.vue","webpack://c2c_ui/./src/components/yeti/Toast.vue","webpack://c2c_ui/src/components/yeti/Toast.vue","webpack://c2c_ui/./src/components/yeti/Toast.vue?7db4","webpack://c2c_ui/./src/components/yeti/Toast.vue?1a14","webpack://c2c_ui/src/components/yeti/LayerButton.vue","webpack://c2c_ui/./src/components/yeti/LayerButton.vue?00ec","webpack://c2c_ui/./src/components/yeti/LayerButton.vue?86ed","webpack://c2c_ui/./src/components/yeti/Slider.vue","webpack://c2c_ui/src/components/yeti/Slider.vue","webpack://c2c_ui/./src/components/yeti/Slider.vue?e788","webpack://c2c_ui/./src/components/yeti/Slider.vue?b169","webpack://c2c_ui/src/components/yeti/SubPanelLayers.vue","webpack://c2c_ui/./src/components/yeti/SubPanelLayers.vue?1ec0","webpack://c2c_ui/./src/components/yeti/SubPanelLayers.vue?0ac2","webpack://c2c_ui/./src/components/yeti/SubPanelMethods.vue","webpack://c2c_ui/src/components/yeti/SubPanelMethods.vue","webpack://c2c_ui/./src/components/yeti/map-layers/BaseLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/SlopesLayers.vue","webpack://c2c_ui/./src/components/yeti/SubPanelMethods.vue?6851","webpack://c2c_ui/./src/components/yeti/SubPanelMethods.vue?da38","webpack://c2c_ui/./src/components/yeti/Tabs.vue","webpack://c2c_ui/src/components/yeti/Tabs.vue","webpack://c2c_ui/./src/components/yeti/Tabs.vue?e8d4","webpack://c2c_ui/./src/components/yeti/Tabs.vue?4e23","webpack://c2c_ui/./src/components/yeti/ValidationButton.vue","webpack://c2c_ui/src/components/yeti/ValidationButton.vue","webpack://c2c_ui/./src/components/yeti/ValidationButton.vue?8804","webpack://c2c_ui/./src/components/yeti/ValidationButton.vue?e8fe","webpack://c2c_ui/./src/components/yeti/YetiMap.vue","webpack://c2c_ui/./src/components/yeti/map-layers/MapLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/layer.js","webpack://c2c_ui/src/components/yeti/map-layers/BaseLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/BaseLayers.vue?c05a","webpack://c2c_ui/src/components/yeti/map-layers/SlopesLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/SlopesLayers.vue?2a36","webpack://c2c_ui/src/components/yeti/map-layers/MapLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/MapLayers.vue?1ac0","webpack://c2c_ui/./src/components/yeti/map-layers/MapLayers.vue?95cb","webpack://c2c_ui/./src/components/yeti/map-layers/OverlaysLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AvalancheBulletinsLayer.vue","webpack://c2c_ui/./node_modules/@turf/difference/node_modules/@turf/helpers/dist/esm/index.js","webpack://c2c_ui/./node_modules/@turf/difference/node_modules/@turf/meta/dist/esm/index.js","webpack://c2c_ui/./node_modules/@turf/difference/dist/esm/index.js","webpack://c2c_ui/./node_modules/@turf/intersect/node_modules/@turf/helpers/dist/esm/index.js","webpack://c2c_ui/./node_modules/@turf/intersect/node_modules/@turf/meta/dist/esm/index.js","webpack://c2c_ui/./node_modules/@turf/intersect/dist/esm/index.js","webpack://c2c_ui/./src/components/yeti/map-layers/DangerLevel.vue","webpack://c2c_ui/src/components/yeti/map-layers/DangerLevel.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DangerLevel.vue?2bd2","webpack://c2c_ui/./src/components/yeti/map-layers/DangerLevel.vue?4772","webpack://c2c_ui/src/components/yeti/map-layers/AvalancheBulletinsLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AvalancheBulletinsLayer.vue?c29f","webpack://c2c_ui/./src/components/yeti/map-layers/AvalancheBulletinsLayer.vue?71ae","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/IconLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/IconLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/IconLayer.vue?caff","webpack://c2c_ui/./src/components/yeti/map-layers/IconLayer.vue?bd0d","webpack://c2c_ui/src/components/yeti/map-layers/DataAvalancheLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayer.vue?cad5","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayer.vue?8c0f","webpack://c2c_ui/./src/components/yeti/map-layers/FlowcaptLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/FlowcaptLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/FlowcaptLayer.vue?e12b","webpack://c2c_ui/./src/components/yeti/map-layers/FlowcaptLayer.vue?b3e3","webpack://c2c_ui/./src/components/yeti/map-layers/NivosesLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/NivosesLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/NivosesLayer.vue?ff7d","webpack://c2c_ui/./src/components/yeti/map-layers/NivosesLayer.vue?1569","webpack://c2c_ui/./src/components/yeti/map-layers/RommaLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/RommaLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/RommaLayer.vue?159a","webpack://c2c_ui/./src/components/yeti/map-layers/RommaLayer.vue?19d4","webpack://c2c_ui/src/components/yeti/map-layers/WinterRouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayer.vue?3bbc","webpack://c2c_ui/src/components/yeti/map-layers/OverlaysLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/OverlaysLayers.vue?9718","webpack://c2c_ui/./src/components/yeti/map-layers/OverlaysLayers.vue?9ae6","webpack://c2c_ui/src/components/yeti/map-layers/RouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/RouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/RouteLayer.vue?1578","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AreaLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/layer-selector-watcher.js","webpack://c2c_ui/src/components/yeti/map-layers/AreaLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AreaLayer.vue?d50d","webpack://c2c_ui/./src/components/yeti/map-layers/AreaLayer.vue?108b","webpack://c2c_ui/src/components/yeti/map-layers/YetiLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayer.vue?8eb2","webpack://c2c_ui/src/components/yeti/map-layers/YetiLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayers.vue?dfb6","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayers.vue?3e4f","webpack://c2c_ui/./src/components/yeti/YetiMapLegend.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerLegend.vue","webpack://c2c_ui/src/components/yeti/map-layers/WinterRouteLayerLegend.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerLegend.vue?97a4","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerLegend.vue?e666","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayerLegend.vue","webpack://c2c_ui/src/components/yeti/map-layers/YetiLayerLegend.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayerLegend.vue?fd53","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayerLegend.vue?d240","webpack://c2c_ui/src/components/yeti/YetiMapLegend.vue","webpack://c2c_ui/./src/components/yeti/YetiMapLegend.vue?33fa","webpack://c2c_ui/./src/components/yeti/YetiMapLegend.vue?4bb5","webpack://c2c_ui/src/components/yeti/YetiMap.vue","webpack://c2c_ui/./src/components/yeti/YetiMap.vue?e142","webpack://c2c_ui/./src/components/yeti/YetiMap.vue?4247","webpack://c2c_ui/src/views/portals/YetiView.vue","webpack://c2c_ui/./src/views/portals/YetiView.vue?1f73","webpack://c2c_ui/./src/views/portals/YetiView.vue?4e9b","webpack://c2c_ui/./node_modules/polygon-clipping/dist/polygon-clipping.umd.js","webpack://c2c_ui/./src/assets/img/yeti/layers/ sync ^\\.\\/.*$","webpack://c2c_ui/./src/assets/img/yeti/legends/ sync ^\\.\\/.*$","webpack://c2c_ui/./node_modules/core-js/internals/create-property.js","webpack://c2c_ui/./node_modules/core-js/internals/detach-transferable.js","webpack://c2c_ui/./node_modules/core-js/internals/dom-exception-constants.js","webpack://c2c_ui/./node_modules/core-js/internals/error-to-string.js","webpack://c2c_ui/./node_modules/core-js/internals/iterate-simple.js","webpack://c2c_ui/./node_modules/core-js/internals/map-helpers.js","webpack://c2c_ui/./node_modules/core-js/internals/set-helpers.js","webpack://c2c_ui/./node_modules/core-js/internals/set-iterate.js","webpack://c2c_ui/./node_modules/core-js/internals/structured-clone-proper-transfer.js","webpack://c2c_ui/./node_modules/core-js/internals/try-node-require.js","webpack://c2c_ui/./node_modules/core-js/modules/web.dom-exception.constructor.js","webpack://c2c_ui/./node_modules/core-js/modules/web.dom-exception.stack.js","webpack://c2c_ui/./node_modules/core-js/modules/web.dom-exception.to-string-tag.js","webpack://c2c_ui/./node_modules/core-js/modules/web.structured-clone.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"section yeti-app\"},[_c('html-header',{attrs:{\"title\":\"YETI\"}}),_vm._v(\" \"),(_vm.showDisclaimer)?_c('div',{staticClass:\"box yeti-overlay\"},[_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('form',{attrs:{\"action\":\"#\"},on:{\"submit\":_vm.onSubmitDisclaimer}},[_c('input-checkbox',{directives:[{name:\"translate\",rawName:\"v-translate\"}],model:{value:(_vm.checkDisclaimer),callback:function ($$v) {_vm.checkDisclaimer=$$v},expression:\"checkDisclaimer\"}},[_vm._v(\"\\n          I read and understood the interest and limitations of YETI\\n        \")]),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",attrs:{\"disabled\":!_vm.checkDisclaimer}},[_vm._v(\"Launch YETI\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.$route.params.page === 'faq')?_c('div',{staticClass:\"box yeti-overlay\"},[_c('p',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"to\":\".\"}},[_vm._v(\"Go back to YETI\")])],1),_vm._v(\" \"),_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('yeti-article',{attrs:{\"article\":_vm.articles.faq}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns yeti-content\"},[_c('div',{staticClass:\"column is-5-tablet is-5-desktop is-4-fullhd form-container\"},[_c('div',{staticClass:\"columns is-mobile is-justify-content-space-between mb-5\"},[_vm._m(0),_vm._v(\" \"),_c('ul',{staticClass:\"column is-narrow pb-0\"},[_c('li',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-block yetitabs-link\",attrs:{\"to\":_vm.$route.fullPath + '/faq'}},[_vm._v(\"\\n                FAQ?\\n              \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"columns mb-0 is-mobile\"},[_c('tabs',{attrs:{\"tabs\":_vm.tabs}})],1),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('panel',{attrs:{\"index\":0}},[_c('sub-panel-layers')],1),_vm._v(\" \"),_c('panel',{attrs:{\"index\":1}},[_c('validation-button',{staticClass:\"is-hidden-mobile yeti-validation--top\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise,\"tabindex\":\"-1\"},on:{\"click\":_vm.compute}}),_vm._v(\" \"),_c('sub-panel-bra'),_vm._v(\" \"),_c('sub-panel-methods',{on:{\"warn-about-method-bra\":_vm.warnAboutMethodBra}}),_vm._v(\" \"),_c('validation-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type),expression:\"method.type\"}],staticClass:\"yeti-validation--bottom\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise},on:{\"click\":_vm.compute}})],1),_vm._v(\" \"),_c('panel',{attrs:{\"index\":2}},[_c('sub-panel-course')],1)],1),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),_c('yeti-map',{ref:\"map\"})],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"is-flex is-align-items-center yeti-title\"},[_c('h1',{staticClass:\"ml-3 mr-1 px-2 has-text-weight-bold has-background-primary has-text-white\"},[_vm._v(\"YETI\")]),_vm._v(\" \"),_c('p',{staticClass:\"has-text-primary\"},[_vm._v(\"Prparez votre course\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box yeti-logos\"},[_c('div',{staticClass:\"columns is-mobile is-vcentered\"},[_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"http://www.ensg.eu\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-ensg.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-ensg.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-ensg.jpg\"),\"alt\":\"Logo ENSG\",\"width\":\"120\",\"loading\":\"lazy\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"https://www.petzl.com/fondation/fondation-petzl?language=fr\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-fondation-petzl.jpg\"),\"alt\":\"Logo Fondation Petzl\",\"width\":\"90\",\"loading\":\"lazy\"}})])])])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.document)?_c('div',{staticClass:\"yeti-article\"},[_c('sub-panel-title',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('markdown-section',{attrs:{\"document\":_vm.document,\"field\":_vm.fields.description,\"hide-title\":\"\"}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('h2',{staticClass:\"title is-6\"},[_vm._t(\"default\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SubPanelTitle.vue?vue&type=template&id=7bc9fc37&scoped=true\"\nvar script = {}\nimport style0 from \"./SubPanelTitle.vue?vue&type=style&index=0&id=7bc9fc37&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bc9fc37\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-article\" v-if=\"document\">\n    <sub-panel-title>{{ title }}</sub-panel-title>\n    <markdown-section :document=\"document\" :field=\"fields.description\" hide-title></markdown-section>\n  </div>\n</template>\n\n<script>\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport c2c from '@/js/apis/c2c';\nimport constants from '@/js/constants';\nimport MarkdownSection from '@/views/document/utils/field-viewers/MarkdownSection';\n\nexport default {\n  components: {\n    SubPanelTitle,\n    MarkdownSection,\n  },\n  props: {\n    article: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      promise: null,\n    };\n  },\n  computed: {\n    id() {\n      return this.article.id;\n    },\n    title() {\n      return this.article.title;\n    },\n    document() {\n      return this.promise?.data ?? null;\n    },\n    fields() {\n      return constants.objectDefinitions.article.fields;\n    },\n    lang() {\n      return this.$language.current;\n    },\n  },\n  watch: {\n    lang() {\n      this.cookDocument();\n    },\n  },\n  mounted() {\n    this.cookDocument();\n  },\n  methods: {\n    cookDocument() {\n      // get document, and set promise only in then (no FOIT)\n      c2c.article.getCooked(this.id, this.$language.current).then((result) => {\n        this.promise = result;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yeti-article {\n  max-width: 1039px;\n  margin-top: 1.75em;\n}\n:deep(h3) {\n  margin-top: 2em;\n}\n:deep(p) {\n  margin: 1em 0;\n}\n:deep(ul) {\n  list-style-type: disc;\n}\n:deep(figure) img {\n  max-width: 90%;\n  max-height: 500px;\n}\n.yeti-article--disclaimer :deep(li) {\n  margin: 2em 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Article.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Article.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=6c55e92e&scoped=true\"\nimport script from \"./Article.vue?vue&type=script&lang=js\"\nexport * from \"./Article.vue?vue&type=script&lang=js\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=6c55e92e&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c55e92e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-panel\",attrs:{\"role\":\"tabpanel\",\"id\":'panel' + _vm.index,\"aria-labelledby\":'tab' + _vm.index,\"hidden\":_vm.activeTab !== _vm.index}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/*\n * Yetix\n * State management component for Yeti (VueX inspired)\n *\n * - Read-only state\n * - State mutations can only occur here\n * - Actions call API\n */\n\nimport axios from 'axios';\nimport Vue from 'vue';\n\nlet defaultState = {\n  API_URL: 'https://api.ensg.eu/',\n  BLEND_MODES_CLASS_NAME: 'areas',\n  BLEND_MODES_MAX_ZOOM: 10,\n  BLEND_MODES_MIN_ZOOM: 8,\n  DANGER_MAX_WHEN_MRD: 3,\n  VALID_MINIMUM_MAP_ZOOM: 13,\n  YETI_LAYER_OPACITY: 0.9,\n\n  activeTab: 0,\n\n  bra: {\n    high: null,\n    low: null,\n    altiThreshold: null,\n    isDifferent: false,\n  },\n\n  method: {\n    type: null,\n    orientation: [],\n    potentialDanger: null,\n    wetSnow: false,\n    groupSize: 1,\n  },\n\n  // base/slopes layers\n  baseLayersSelector: [],\n  slopesLayersSelector: [],\n\n  // yeti layers\n  yetiLayersSelector: [],\n  showYeti: false,\n  yetiOk: false,\n\n  yetiData: null,\n  yetiExtent: [],\n  yetiLegend: null,\n\n  areas: [],\n  areaOk: true,\n  showAreas: false,\n\n  features: [],\n  featuresTitle: 'New route',\n  featuresLength: 0,\n\n  // overlays selector\n  overlaysLayersSelector: [],\n\n  mountains: {\n    all: [],\n    visible: [],\n  },\n  bulletinsLoaded: false,\n  showAvalancheBulletins: true,\n\n  showWinterRoute: false,\n  winterRouteLegend: null,\n\n  nivoses: [],\n  showNivoses: false,\n\n  romma: [],\n  showRomma: false,\n\n  flowcapt: [],\n  showFlowcapt: false,\n\n  dataAvalanche: [],\n  showDataAvalanche: false,\n\n  mapZoom: 0,\n  editMode: false,\n\n  validSimplifyTolerance: false,\n};\n\n/**\n * Read-only reactive state\n *\n * A copy of `defaultState` without reference (to be able to reset default state)\n */\nlet state = Vue.observable(JSON.parse(JSON.stringify(defaultState)));\n\n/**\n * Exported state\n *\n * Computed act as getters for read-only state properties Methods act as mutations (to mutate state) or actions (api\n * calls)\n */\nexport default new Vue({\n  computed: {\n    BLEND_MODES_CLASS_NAME() {\n      return state.BLEND_MODES_CLASS_NAME;\n    },\n    BLEND_MODES_MAX_ZOOM() {\n      return state.BLEND_MODES_MAX_ZOOM;\n    },\n    BLEND_MODES_MIN_ZOOM() {\n      return state.BLEND_MODES_MIN_ZOOM;\n    },\n    DANGER_MAX_WHEN_MRD() {\n      return state.DANGER_MAX_WHEN_MRD;\n    },\n    VALID_MINIMUM_MAP_ZOOM() {\n      return state.VALID_MINIMUM_MAP_ZOOM;\n    },\n    YETI_LAYER_OPACITY() {\n      return state.YETI_LAYER_OPACITY;\n    },\n    activeTab() {\n      return state.activeTab;\n    },\n    bra() {\n      return state.bra;\n    },\n    method() {\n      return state.method;\n    },\n    baseLayersSelector() {\n      return state.baseLayersSelector;\n    },\n    slopesLayersSelector() {\n      return state.slopesLayersSelector;\n    },\n    yetiLayersSelector() {\n      return state.yetiLayersSelector;\n    },\n    showYeti() {\n      return state.showYeti;\n    },\n    yetiOk() {\n      return state.yetiOk;\n    },\n    yetiData() {\n      return state.yetiData;\n    },\n    yetiExtent() {\n      return state.yetiExtent;\n    },\n    yetiLegend() {\n      return state.yetiLegend;\n    },\n    areas() {\n      return state.areas;\n    },\n    areaOk() {\n      return state.areaOk;\n    },\n    showAreas() {\n      return state.showAreas;\n    },\n    features() {\n      return state.features;\n    },\n    hasFeatures() {\n      return !!state.features.length;\n    },\n    featuresTitle() {\n      return state.featuresTitle;\n    },\n    featuresLength() {\n      return state.featuresLength;\n    },\n    overlaysLayersSelector() {\n      return state.overlaysLayersSelector;\n    },\n    mountains() {\n      return state.mountains;\n    },\n    bulletinsLoaded() {\n      return state.bulletinsLoaded;\n    },\n    showAvalancheBulletins() {\n      return state.showAvalancheBulletins;\n    },\n    showWinterRoute() {\n      return state.showWinterRoute;\n    },\n    winterRouteLegend() {\n      return state.winterRouteLegend;\n    },\n    nivoses() {\n      return state.nivoses;\n    },\n    showNivoses() {\n      return state.showNivoses;\n    },\n    romma() {\n      return state.romma;\n    },\n    showRomma() {\n      return state.showRomma;\n    },\n    flowcapt() {\n      return state.flowcapt;\n    },\n    showFlowcapt() {\n      return state.showFlowcapt;\n    },\n    dataAvalanche() {\n      return state.dataAvalanche;\n    },\n    showDataAvalanche() {\n      return state.showDataAvalanche;\n    },\n    mapZoom() {\n      return state.mapZoom;\n    },\n    editMode() {\n      return state.editMode;\n    },\n    validSimplifyTolerance() {\n      return state.validSimplifyTolerance;\n    },\n  },\n  methods: {\n    // mutations\n    setActiveTab(index) {\n      state.activeTab = index;\n    },\n    setBra(prop, value) {\n      state.bra[prop] = value;\n    },\n    setMethod(prop, value) {\n      state.method[prop] = value;\n    },\n    setBaseLayersSelector(layers) {\n      state.baseLayersSelector = layers;\n    },\n    setSlopesLayersSelector(layers) {\n      state.slopesLayersSelector = layers;\n    },\n    addLayerToYetiLayersSelector(layer, index) {\n      // to keep reactivity AND order in array\n      // we need to fill array first with empty data\n      for (let i = 0; i < index; i++) {\n        if (!state.yetiLayersSelector[i]) {\n          this.$set(state.yetiLayersSelector, i, {});\n        }\n      }\n      this.$set(state.yetiLayersSelector, index, layer);\n    },\n    setShowYeti(showYeti) {\n      state.showYeti = showYeti;\n    },\n    setYetiOk(yetiOk) {\n      state.yetiOk = yetiOk;\n      if (yetiOk) {\n        this.setShowYeti(true);\n      }\n    },\n    setYetiData(yetiData) {\n      state.yetiData = yetiData;\n    },\n    setYetiExtent(yetiExtent) {\n      state.yetiExtent = yetiExtent;\n    },\n    setYetiLegend(yetiLegend) {\n      state.yetiLegend = yetiLegend;\n    },\n    setAreas(areas) {\n      state.areas = areas;\n    },\n    setAreaOk(areaOk) {\n      state.areaOk = areaOk;\n    },\n    setShowAreas(showAreas) {\n      state.showAreas = showAreas;\n    },\n    setFeatures(features) {\n      state.features = features;\n    },\n    setFeaturesTitle(featuresTitle) {\n      state.featuresTitle = featuresTitle;\n    },\n    setFeaturesLength(featuresLength) {\n      state.featuresLength = featuresLength;\n    },\n    addLayerToOverlaysLayersSelector(layer, index) {\n      // to keep reactivity AND order in array\n      // we need to fill array first with empty data\n      for (let i = 0; i < index; i++) {\n        if (!state.overlaysLayersSelector[i]) {\n          this.$set(state.overlaysLayersSelector, i, {});\n        }\n      }\n      this.$set(state.overlaysLayersSelector, index, layer);\n    },\n    setAllMountains(mountains) {\n      state.mountains.all = mountains;\n    },\n    setVisibleMountains(mountains) {\n      state.mountains.visible = mountains;\n    },\n    setShowAvalancheBulletins(showAvalancheBulletins) {\n      state.showAvalancheBulletins = showAvalancheBulletins;\n    },\n    setBulletinsLoaded(bool) {\n      state.bulletinsLoaded = bool;\n    },\n    setShowWinterRoute(showWinterRoute) {\n      state.showWinterRoute = showWinterRoute;\n    },\n    setWinterRouteLegend(winterRouteLegend) {\n      state.winterRouteLegend = winterRouteLegend;\n    },\n    setNivoses(nivoses) {\n      state.nivoses = nivoses;\n    },\n    setShowNivoses(showNivoses) {\n      state.showNivoses = showNivoses;\n    },\n    setRomma(romma) {\n      state.romma = romma;\n    },\n    setShowRomma(showRomma) {\n      state.showRomma = showRomma;\n    },\n    setFlowcapt(flowcapt) {\n      state.flowcapt = flowcapt;\n    },\n    setShowFlowcapt(showFlowcapt) {\n      state.showFlowcapt = showFlowcapt;\n    },\n    setDataAvalanche(dataAvalanche) {\n      state.dataAvalanche = dataAvalanche;\n    },\n    setShowDataAvalanche(showDataAvalanche) {\n      state.showDataAvalanche = showDataAvalanche;\n    },\n    setMapZoom(mapZoom) {\n      state.mapZoom = mapZoom;\n    },\n    setEditMode(editMode) {\n      state.editMode = editMode;\n    },\n    setValidSimplifyTolerance(validSimplifyTolerance) {\n      state.validSimplifyTolerance = validSimplifyTolerance;\n      // when validSimplifyTolerance is OK\n      // check state for editMode:\n      // if it's on, store it (tmp), and retrieve state later\n      if (validSimplifyTolerance) {\n        if (state.editMode) {\n          state.tmpEditMode = true;\n          this.setEditMode(false);\n        }\n      } else {\n        if (state.tmpEditMode) {\n          this.setEditMode(true);\n          delete state.tmpEditMode;\n        }\n      }\n    },\n    setDefault() {\n      // revert all state properties to default\n      for (let i in state) {\n        if (typeof state[i] === 'object' && !Array.isArray(state[i])) {\n          for (let j in state[i]) {\n            state[i][j] = defaultState[i][j];\n          }\n        } else {\n          state[i] = defaultState[i];\n        }\n      }\n    },\n    // actions\n    fetchApi(url) {\n      return axios.get(state.API_URL + url);\n    },\n    fetchAreas() {\n      return this.fetchApi('yeti-extent');\n    },\n    fetchMountains() {\n      return this.fetchApi('zonesbra');\n    },\n    fetchBulletins() {\n      return this.fetchApi('bra');\n    },\n    fetchNivoses() {\n      return this.fetchApi('nivoses');\n    },\n    fetchRomma() {\n      return this.fetchApi('romma');\n    },\n    fetchFlowcapt() {\n      return this.fetchApi('flowcapt');\n    },\n    fetchDataAvalanche() {\n      return this.fetchApi('data-avalanche');\n    },\n    fetchWpsAlti(points, interpolate) {\n      let params = {\n        identifier: 'alti',\n        operation: 'execute',\n        inputs: {\n          points,\n          datum: 'EPSG:4326',\n          interpolate,\n        },\n      };\n      return axios.post(state.API_URL + 'yeti-wps-json', params);\n    },\n  },\n});\n</script>\n","var render, staticRenderFns\nimport script from \"./Yetix.vue?vue&type=script&lang=js\"\nexport * from \"./Yetix.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Yetix.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Yetix.vue?vue&type=script&lang=js\"","<template>\n  <div\n    class=\"yeti-panel\"\n    role=\"tabpanel\"\n    :id=\"'panel' + index\"\n    :aria-labelledby=\"'tab' + index\"\n    :hidden=\"activeTab !== index\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  props: {\n    index: {\n      type: Number,\n      required: true,\n    },\n  },\n  computed: {\n    activeTab() {\n      return Yetix.activeTab;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.yeti-panel {\n  position: relative;\n}\n\n:deep(a) {\n  &:hover,\n  &:focus {\n    text-decoration: underline;\n  }\n}\n\n:deep(h4) {\n  margin-top: 1rem;\n  margin-bottom: 0.25rem !important;\n}\n\n:deep(abbr) {\n  text-decoration: none;\n  border-bottom: dotted 2px #aaa;\n}\n\n:deep(strong),\n:deep(dt) {\n  font-weight: bold;\n  color: inherit;\n}\n\n:deep(.yeti-subpanel + .yeti-subpanel) {\n  margin-top: 2rem;\n}\n\n:deep(.content-ul) {\n  list-style: disc outside;\n  margin-left: 2em;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=58b640a3&scoped=true\"\nimport script from \"./Panel.vue?vue&type=script&lang=js\"\nexport * from \"./Panel.vue?vue&type=script&lang=js\"\nimport style0 from \"./Panel.vue?vue&type=style&index=0&id=58b640a3&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58b640a3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"inputs-bra\",class:{ 'inputs-bra-different': _vm.bra.isDifferent }},[_c('svg',{attrs:{\"viewBox\":\"0 0 100 100\",\"width\":\"120\",\"height\":\"120\"}},[_c('polygon',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"points\":\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"}}),_vm._v(\" \"),_c('line',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"x1\":\"10\",\"y1\":\"61.5\",\"x2\":\"90\",\"y2\":\"61.5\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-bra-high select is-small\"},[_c('select',{attrs:{\"id\":\"selectBra\",\"aria-label\":_vm.$gettext('High danger level from the avalanche bulletin')},domProps:{\"value\":_vm.bra.high},on:{\"change\":function($event){return _vm.onChange($event, 'high')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-threshold control\"},[_c('label',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"for\":\"inputThreshold\"}},[_vm._v(\"Altitude\")]),_vm._v(\" \"),_c('input',{staticClass:\"input is-small\",attrs:{\"id\":\"inputThreshold\",\"type\":\"number\",\"min\":\"0\",\"max\":\"4800\",\"step\":\"100\",\"maxlength\":\"4\"},domProps:{\"value\":_vm.bra.altiThreshold},on:{\"change\":function($event){return _vm.onChange($event, 'altiThreshold')}}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-low select is-small\"},[_c('select',{attrs:{\"aria-label\":\"$gettext('Low danger level from the avalanche bulletin')\"},domProps:{\"value\":_vm.bra.low},on:{\"change\":function($event){return _vm.onChange($event, 'low')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])])]),_vm._v(\" \"),_c('div',[_c('input-checkbox',{staticClass:\"control--bradifferent\",attrs:{\"value\":_vm.bra.isDifferent},on:{\"input\":function($event){return _vm.onChange($event, 'isDifferent')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Different high/low danger?\")])])],1)])]),_vm._v(\" \"),_c('dropdown-content',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [(_vm.showVisibleMountains)?_c('div',[_c('div',{staticClass:\"mb-2\"},[_c('input-checkbox',{attrs:{\"value\":_vm.showAvalancheBulletins},on:{\"input\":_vm.onShowAvalancheBulletins}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Visible on map\")])])],1),_vm._v(\" \"),_c('dl',_vm._l((_vm.visibleMountains),function(mountainsForMassif,massif){return _c('div',{key:massif},[_c('dt',[_vm._v(\"\\n              \"+_vm._s(massif)+\"\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"yetimountains-list px-4 py-3\"},_vm._l((mountainsForMassif),function(mountain){return _c('dd',{key:mountain.name},[_c('a',{attrs:{\"href\":mountain.urls[0].url,\"target\":\"_blank\"}},[_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}}),_vm._v(\"\\n                  \"+_vm._s(mountain.name)+\"\\n                \")],1)])}),0)])}),0)]):_c('div',[_c('info',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"column\"},[_vm._v(\"Massifs could not be loaded\")])],1)]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Avalanche bulletins\")]),_vm._v(\" \"),(_vm.showVisibleMountains)?_c('counter',[_vm._v(_vm._s(_vm.countVisibleMountains))]):_vm._e(),_vm._v(\" \"),(_vm.showAvalancheBulletins)?_c('fa-icon',{staticClass:\"has-text-primary\",attrs:{\"icon\":\"check-circle\",\"title\":_vm.$gettext('Visible on map')}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"yeti-counter\",class:{ 'has-background-primary': _vm.isPrimary }},[_c('span',[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"yeti-counter\" :class=\"{ 'has-background-primary': isPrimary }\">\n    <span><slot /></span>\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    isPrimary: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.yeti-counter {\n  display: inline-block;\n  min-width: 1em;\n  height: 1em;\n  line-height: 1em;\n  margin-left: 0.25rem;\n  padding: 0 0.25rem;\n  background: $grey-lighter;\n  color: $grey-darker;\n  border-radius: 1em;\n  font-weight: normal;\n  text-align: center;\n\n  span {\n    font-size: 0.72em;\n    vertical-align: 0.125em;\n  }\n\n  &.has-background-primary {\n    color: $white;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Counter.vue?vue&type=template&id=3b0367fe&scoped=true\"\nimport script from \"./Counter.vue?vue&type=script&lang=js\"\nexport * from \"./Counter.vue?vue&type=script&lang=js\"\nimport style0 from \"./Counter.vue?vue&type=style&index=0&id=3b0367fe&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b0367fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dropdown-content\"},[_c('div',[_c('h3',{staticClass:\"dropdown-content-title\",class:{ 'is-open': _vm.opened },on:{\"click\":_vm.switchOpen}},[_vm._t(\"default\"),_vm._v(\" \"),_c('fa-icon',{staticClass:\"dropdown-content-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\",attrs:{\"icon\":\"angle-down\",\"rotation\":_vm.opened ? 180 : undefined}})],2)]),_vm._v(\" \"),(_vm.opened)?_c('div',{staticClass:\"p-3\"},[_vm._t(\"content\")],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dropdown-content\">\n    <div>\n      <h3 class=\"dropdown-content-title\" :class=\"{ 'is-open': opened }\" @click=\"switchOpen\">\n        <slot />\n        <fa-icon\n          class=\"dropdown-content-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\"\n          icon=\"angle-down\"\n          :rotation=\"opened ? 180 : undefined\"\n        />\n      </h3>\n    </div>\n    <div v-if=\"opened\" class=\"p-3\">\n      <slot name=\"content\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      opened: false,\n    };\n  },\n  methods: {\n    switchOpen() {\n      this.opened = !this.opened;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.dropdown-content {\n  border: 1px solid #dbdbdb;\n  padding: 0;\n  box-shadow: none;\n\n  &:hover {\n    border-color: #b5b5b5;\n  }\n}\n.dropdown-content-title {\n  color: $grey-darker;\n  cursor: pointer;\n  padding: 0.25rem 0.75rem;\n  border-radius: 4px;\n}\n.is-open {\n  font-weight: bold;\n  border-radius: 4px 4px 0 0;\n}\n.dropdown-content-title:hover {\n  background: $grey-lightest;\n}\n.dropdown-content-arrow {\n  color: $primary;\n  margin-top: 0.25rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DropdownContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DropdownContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DropdownContent.vue?vue&type=template&id=6a6c7089&scoped=true\"\nimport script from \"./DropdownContent.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./DropdownContent.vue?vue&type=style&index=0&id=6a6c7089&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a6c7089\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"info-text\",class:['is-' + _vm.type, { 'is-inline-block': _vm.inline }]},[_c('fa-icon',{staticClass:\"info-icon mt-1 ml-1\",attrs:{\"icon\":_vm.icon}}),_vm._v(\" \"),_c('div',{staticClass:\"info-content\",class:[{ 'is-inline': _vm.inline }]},[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"info-text\" :class=\"['is-' + type, { 'is-inline-block': inline }]\">\n    <fa-icon :icon=\"icon\" class=\"info-icon mt-1 ml-1\" />\n    <div class=\"info-content\" :class=\"[{ 'is-inline': inline }]\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: 'info',\n    },\n    inline: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      icons: {\n        info: 'info-circle',\n        warning: 'exclamation-circle',\n        help: 'question-circle',\n      },\n    };\n  },\n  computed: {\n    icon() {\n      return this.icons[this.type];\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.info-text {\n  font-size: 0.85em;\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.is-info {\n  color: $primary;\n}\n.is-warning {\n  color: $red;\n}\n.is-help {\n  background: $grey-lightest;\n  color: $grey-dark;\n  border-radius: 4px;\n  padding: 0.75rem;\n  margin-bottom: 1.5rem !important;\n}\n.info-icon {\n  float: left;\n}\n.info-content {\n  margin-left: 2rem;\n}\n\n.is-inline-block {\n  &.info-text {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n  .info-icon {\n    float: none;\n  }\n  .info-content {\n    margin-left: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Info.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Info.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Info.vue?vue&type=template&id=5d07cbcf&scoped=true\"\nimport script from \"./Info.vue?vue&type=script&lang=js\"\nexport * from \"./Info.vue?vue&type=script&lang=js\"\nimport style0 from \"./Info.vue?vue&type=style&index=0&id=5d07cbcf&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d07cbcf\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Danger level</span></sub-panel-title>\n    <div class=\"columns is-mobile\">\n      <div class=\"column\">\n        <div class=\"inputs-bra\" :class=\"{ 'inputs-bra-different': bra.isDifferent }\">\n          <svg viewBox=\"0 0 100 100\" width=\"120\" height=\"120\">\n            <polygon\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              points=\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"\n            />\n            <line\n              v-show=\"bra.isDifferent\"\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              x1=\"10\"\n              y1=\"61.5\"\n              x2=\"90\"\n              y2=\"61.5\"\n            />\n          </svg>\n          <div class=\"input-bra-high select is-small\">\n            <select\n              id=\"selectBra\"\n              @change=\"onChange($event, 'high')\"\n              :value=\"bra.high\"\n              :aria-label=\"$gettext('High danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-threshold control\">\n            <label for=\"inputThreshold\" v-translate>Altitude</label>\n            <input\n              id=\"inputThreshold\"\n              class=\"input is-small\"\n              type=\"number\"\n              min=\"0\"\n              max=\"4800\"\n              step=\"100\"\n              maxlength=\"4\"\n              @change=\"onChange($event, 'altiThreshold')\"\n              :value=\"bra.altiThreshold\"\n            />\n          </div>\n\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-low select is-small\">\n            <select\n              @change=\"onChange($event, 'low')\"\n              :value=\"bra.low\"\n              aria-label=\"$gettext('Low danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n        </div>\n\n        <div>\n          <input-checkbox\n            @input=\"onChange($event, 'isDifferent')\"\n            :value=\"bra.isDifferent\"\n            class=\"control--bradifferent\"\n          >\n            <span v-translate>Different high/low danger?</span>\n          </input-checkbox>\n        </div>\n      </div>\n    </div>\n\n    <dropdown-content>\n      <span v-translate>Avalanche bulletins</span>\n      <counter v-if=\"showVisibleMountains\">{{ countVisibleMountains }}</counter>\n      <fa-icon\n        icon=\"check-circle\"\n        v-if=\"showAvalancheBulletins\"\n        class=\"has-text-primary\"\n        :title=\"$gettext('Visible on map')\"\n      />\n      <template #content>\n        <div v-if=\"showVisibleMountains\">\n          <div class=\"mb-2\">\n            <input-checkbox @input=\"onShowAvalancheBulletins\" :value=\"showAvalancheBulletins\">\n              <span v-translate>Visible on map</span>\n            </input-checkbox>\n          </div>\n          <dl>\n            <div v-for=\"(mountainsForMassif, massif) of visibleMountains\" :key=\"massif\">\n              <dt>\n                {{ massif }}\n              </dt>\n              <div class=\"yetimountains-list px-4 py-3\">\n                <dd v-for=\"mountain of mountainsForMassif\" :key=\"mountain.name\">\n                  <a :href=\"mountain.urls[0].url\" target=\"_blank\">\n                    <fa-icon icon=\"external-link-alt\" />\n                    {{ mountain.name }}\n                  </a>\n                </dd>\n              </div>\n            </div>\n          </dl>\n        </div>\n        <div v-else>\n          <info class=\"column\" v-translate>Massifs could not be loaded</info>\n        </div>\n      </template>\n    </dropdown-content>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter.vue';\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport Info from '@/components/yeti/Info.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: { Counter, DropdownContent, Info, SubPanelTitle },\n  data() {\n    return {\n      showMountainsList: false,\n    };\n  },\n  computed: {\n    bra() {\n      return Yetix.bra;\n    },\n    visibleMountains() {\n      return Yetix.mountains.visible;\n    },\n    showAvalancheBulletins() {\n      return Yetix.showAvalancheBulletins;\n    },\n    showVisibleMountains() {\n      return this.countVisibleMountains >= 0;\n    },\n    countVisibleMountains() {\n      // if visibleMountains are set\n      if (this.visibleMountains) {\n        return Object.values(this.visibleMountains).reduce((a, b) => a + b.length, 0);\n      }\n      // else, return -1 (because 0 is not an error)\n      return -1;\n    },\n  },\n  watch: {\n    'bra.isDifferent': 'checkBraIsDifferent',\n  },\n  methods: {\n    onChange(event, prop) {\n      const value = prop === 'isDifferent' ? event : event.target.value;\n      Yetix.setBra(prop, value);\n    },\n    checkBraIsDifferent() {\n      if (!this.bra.isDifferent) {\n        Yetix.setBra('low', null);\n        Yetix.setBra('altiThreshold', null);\n      }\n    },\n    onShowAvalancheBulletins(value) {\n      Yetix.setShowAvalancheBulletins(value);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.inputs-bra {\n  margin-left: 2rem;\n  position: relative;\n\n  .input-bra-high {\n    position: absolute;\n    left: 39px;\n    top: 62px;\n  }\n\n  .input-bra-threshold {\n    position: absolute;\n    left: 115px;\n    top: 40px;\n    width: 85px;\n  }\n\n  .input-bra-low {\n    position: absolute;\n    left: 39px;\n    top: 78px;\n  }\n}\n\n.inputs-bra-different {\n  .input-bra-high {\n    top: 45px;\n  }\n}\n\n.yetimountains-list {\n  columns: 3 170px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelBra.vue?vue&type=template&id=e8e4ddb2&scoped=true\"\nimport script from \"./SubPanelBra.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelBra.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelBra.vue?vue&type=style&index=0&id=e8e4ddb2&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8e4ddb2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Route\")])]),_vm._v(\" \"),_c('edit-mode-button',{staticClass:\"edit-mode-button\"}),_vm._v(\" \"),(_vm.features.length)?_c('div',[_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('p',{staticClass:\"features-title\"},[_c('icon-route',{staticClass:\"icon document-icon\"}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"icon edit-icon\",attrs:{\"icon\":\"pen\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasFeaturesTitle),expression:\"!hasFeaturesTitle\"},{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"features-title-text features-title-placeholder\",on:{\"click\":_vm.onEditNewFeaturesTitle}},[_vm._v(\"\\n            Add title\\n          \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasFeaturesTitle),expression:\"hasFeaturesTitle\"}],ref:\"featuresTitle\",staticClass:\"features-title-text features-title-content\",attrs:{\"tabindex\":\"0\",\"contenteditable\":\"\",\"spellcheck\":\"false\"},on:{\"blur\":_vm.onEditFeaturesTitle,\"keypress\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13)return null;$event.preventDefault();}}},[_vm._v(_vm._s(_vm.featuresTitle))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"column is-narrow\"},[_c('button',{staticClass:\"button is-secondary is-small\",on:{\"click\":_vm.onRemoveFeatures}},[_c('fa-icon',{staticClass:\"trash-icon\",attrs:{\"icon\":\"trash\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete route\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"ml-5 mb-5\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-size-7 is-italic mb-1 has-text-grey\"},[_vm._v(\"Lines chunks\")]),_vm._v(\" \"),_c('features-list',{attrs:{\"features\":_vm.features}})],1),_vm._v(\" \"),_c('dropdown-content',{staticClass:\"mb-5\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('elevation-profile',{attrs:{\"features\":_vm.features}})]},proxy:true}],null,false,1669202380)},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Elevation profile\")])]),_vm._v(\" \"),_c('simplify-tool',{ref:\"simplifyTool\"}),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Drawing tips\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Draw\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"new lines chunks\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Delete\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"last point with the Backspace key\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"On a drawn line\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points by moving them\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Create\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"a new point on an existing line\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a point\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"with Alt + clic\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"From the interface\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a line chunk\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete route\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"to start or load a new one\")])])])]),_vm._v(\" \"),_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Export\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-vcentered is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('ul',{staticClass:\"form-export\"},_vm._l((_vm.formats),function(f){return _c('li',{key:f,staticClass:\"control is-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'format' + f,\"type\":\"radio\",\"name\":\"exportFormat\"},domProps:{\"value\":f,\"checked\":_vm._q(_vm.format,f)},on:{\"change\":function($event){_vm.format=f}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'format' + f}},[_vm._v(_vm._s(f))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"column is-narrow\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-disabled': _vm.validSimplifyTolerance },on:{\"click\":_vm.downloadCourse}},[_vm._v(\"\\n          Export route\\n        \")])])])],1):_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"No route right now\")]),_vm._v(\" \"),_c('div',{staticClass:\"load-gpx\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.onLoadGpx}},[_vm._v(\"\\n        Upload a GPS track\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"control upload-button\"},[_c('input',{ref:\"gpxFileInput\",attrs:{\"type\":\"file\",\"accept\":\".gpx\"},on:{\"change\":_vm.uploadGpx}})]),_vm._v(\" \"),_c('info',{staticClass:\"mt-5\",attrs:{\"type\":\"help\"}},[_c('p',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"To draw (and edit) directly on the map\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"you need to activate edit mode\")])])])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ol-control ol-control-edit-mode\",class:{ 'is-primary': _vm.editMode }},[_c('div',{staticClass:\"ol-control-edit-mode-inner\"},[_c('input-checkbox',{attrs:{\"value\":_vm.editMode,\"disabled\":_vm.validSimplifyTolerance},on:{\"input\":_vm.onEditMode}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"title\":_vm.$gettext('Enable drawing and editing features on map')}},[_vm._v(\"Edit mode\")])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ol-control ol-control-edit-mode\" :class=\"{ 'is-primary': editMode }\">\n    <div class=\"ol-control-edit-mode-inner\">\n      <input-checkbox @input=\"onEditMode\" :value=\"editMode\" :disabled=\"validSimplifyTolerance\">\n        <span v-translate :title=\"$gettext('Enable drawing and editing features on map')\">Edit mode</span>\n      </input-checkbox>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    editMode() {\n      return Yetix.editMode;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n  },\n  methods: {\n    onEditMode() {\n      Yetix.setEditMode(!this.editMode);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.ol-control-edit-mode {\n  padding: 0 !important;\n\n  &.is-primary {\n    box-shadow: none;\n  }\n\n  .ol-control-edit-mode-inner {\n    padding: 0.3rem 0.25rem 0.2rem;\n    border-radius: 4px;\n    background: $white;\n    white-space: nowrap;\n  }\n\n  &.is-primary .ol-control-edit-mode-inner {\n    background: $grey-dark;\n    color: $white;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.yeti-app {\n  .ol-control-edit-mode {\n    .is-checkradio[type='checkbox'] + label {\n      font-size: 0.93em;\n      margin-right: 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./EditModeButton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./EditModeButton.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditModeButton.vue?vue&type=template&id=14e5e516&scoped=true\"\nimport script from \"./EditModeButton.vue?vue&type=script&lang=js\"\nexport * from \"./EditModeButton.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditModeButton.vue?vue&type=style&index=0&id=14e5e516&prod&scoped=true&lang=scss\"\nimport style1 from \"./EditModeButton.vue?vue&type=style&index=1&id=14e5e516&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14e5e516\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{ref:\"container\"},[_c('div',{ref:\"graph\",staticClass:\"elevation-profile-chart\"})]),_vm._v(\" \"),_c('div',{staticClass:\"elevation-generate-panel\"},[_c('h4',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-6\"},[_vm._v(\"Generate new elevations\")]),_vm._v(\" \"),_c('div',[_c('input-checkbox',{staticClass:\"mt-2\",model:{value:(_vm.interpolate),callback:function ($$v) {_vm.interpolate=$$v},expression:\"interpolate\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Add more points\")])]),_vm._v(\" \"),(_vm.interpolate)?_c('div',[_c('div',{staticClass:\"control-subpanel\"},[_c('label',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"for\":\"inputInterpolate\"}},[_vm._v(\"Distance\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.interpolateValue),expression:\"interpolateValue\",modifiers:{\"number\":true}}],staticClass:\"input is-small input-interpolate ml-2\",attrs:{\"id\":\"inputInterpolate\",\"type\":\"number\",\"min\":\"5\",\"step\":\"5\"},domProps:{\"value\":(_vm.interpolateValue)},on:{\"input\":function($event){if($event.target.composing)return;_vm.interpolateValue=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),(_vm.atLeastOneLineChunkHasTooMuchPoints)?_c('info',{staticClass:\"ml-0 pl-0\",attrs:{\"inline\":\"\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"1\"},[_vm._v(\"Too much points\")])]):_vm._e(),_vm._v(\" \"),(_vm.interpolateValueInvalid)?_c('info',{staticClass:\"ml-0 pl-0\",attrs:{\"inline\":\"\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"2\"},[_vm._v(\"Invalid value\")])]):_vm._e()],1),_vm._v(\" \"),_c('info',{staticClass:\"column\",attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Will generate new points along route, at regular interval, defined by distance in meters\")])])],1):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-end is-align-items-center\"},[(_vm.routeIntersectsYetiAreas)?_c('info',{attrs:{\"inline\":\"\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Some points are out of extent\")])]):_vm._e(),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-disabled': _vm.validSimplifyTolerance, 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.onCalculateElevations}},[_vm._v(\"\\n      Generate elevations\\n    \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n (c) 2013, Vladimir Agafonkin\n Simplify.js, a high-performance JS polyline simplification library\n mourner.github.io/simplify-js\n*/\n\n// square distance between 2 points\nfunction getSquareDistance(p1, p2) {\n  let dx = p1[0] - p2[0];\n  let dy = p1[1] - p2[1];\n  let dz = p1[2] - p2[2];\n\n  return dx * dx + dy * dy + dz * dz;\n}\n\n// square distance from a point to a segment\nfunction getSquareSegmentDistance(p, p1, p2) {\n  let x = p1[0];\n  let y = p1[1];\n  let z = p1[2];\n\n  let dx = p2[0] - x;\n  let dy = p2[1] - y;\n  let dz = p2[2] - z;\n\n  if (dx !== 0 || dy !== 0 || dz !== 0) {\n    let t = ((p[0] - x) * dx + (p[1] - y) * dy + (p[2] - z) * dz) / (dx * dx + dy * dy + dz * dz);\n\n    if (t > 1) {\n      x = p2[0];\n      y = p2[1];\n      z = p2[2];\n    } else if (t > 0) {\n      x += dx * t;\n      y += dy * t;\n      z += dz * t;\n    }\n  }\n\n  dx = p[0] - x;\n  dy = p[1] - y;\n  dz = p[2] - z;\n\n  return dx * dx + dy * dy + dz * dz;\n}\n// the rest of the code doesn't care for the point format\n\n// basic distance-based simplification\nfunction simplifyRadialDistance(points, sqTolerance) {\n  let prevPoint = points[0];\n  let newPoints = [prevPoint];\n  let point;\n\n  for (let i = 1, len = points.length; i < len; i++) {\n    point = points[i];\n\n    if (getSquareDistance(point, prevPoint) > sqTolerance) {\n      newPoints.push(point);\n      prevPoint = point;\n    }\n  }\n\n  if (prevPoint !== point) {\n    newPoints.push(point);\n  }\n\n  return newPoints;\n}\n\n// simplification using optimized Douglas-Peucker algorithm with recursion elimination\nfunction simplifyDouglasPeucker(points, sqTolerance) {\n  let len = points.length;\n  let MarkerArray = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n  let markers = new MarkerArray(len);\n  let first = 0;\n  let last = len - 1;\n  let stack = [];\n  let newPoints = [];\n  let i;\n  let maxSqDist;\n  let sqDist;\n  let index;\n\n  markers[first] = markers[last] = 1;\n\n  while (last) {\n    maxSqDist = 0;\n\n    for (i = first + 1; i < last; i++) {\n      sqDist = getSquareSegmentDistance(points[i], points[first], points[last]);\n\n      if (sqDist > maxSqDist) {\n        index = i;\n        maxSqDist = sqDist;\n      }\n    }\n\n    if (maxSqDist > sqTolerance) {\n      markers[index] = 1;\n      stack.push(first, index, index, last);\n    }\n\n    last = stack.pop();\n    first = stack.pop();\n  }\n\n  for (i = 0; i < len; i++) {\n    if (markers[i]) {\n      newPoints.push(points[i]);\n    }\n  }\n\n  return newPoints;\n}\n\n// both algorithms combined for awesome performance\nexport default function simplify(points, tolerance, highestQuality) {\n  let sqTolerance = tolerance !== undefined ? tolerance * tolerance : 1;\n\n  points = highestQuality ? points : simplifyRadialDistance(points, sqTolerance);\n  points = simplifyDouglasPeucker(points, sqTolerance);\n\n  return points;\n}\n","<template>\n  <div>\n    <div ref=\"container\">\n      <div ref=\"graph\" class=\"elevation-profile-chart\" />\n    </div>\n    <div class=\"elevation-generate-panel\">\n      <h4 class=\"title is-6\" v-translate>Generate new elevations</h4>\n      <div>\n        <input-checkbox v-model=\"interpolate\" class=\"mt-2\">\n          <span v-translate>Add more points</span>\n        </input-checkbox>\n        <div v-if=\"interpolate\">\n          <div class=\"control-subpanel\">\n            <label for=\"inputInterpolate\" v-translate>Distance</label>\n            <input\n              id=\"inputInterpolate\"\n              class=\"input is-small input-interpolate ml-2\"\n              type=\"number\"\n              min=\"5\"\n              step=\"5\"\n              v-model.number=\"interpolateValue\"\n            />\n            <info inline class=\"ml-0 pl-0\" v-if=\"atLeastOneLineChunkHasTooMuchPoints\">\n              <span v-translate key=\"1\">Too much points</span>\n            </info>\n            <info inline class=\"ml-0 pl-0\" v-if=\"interpolateValueInvalid\">\n              <span v-translate key=\"2\">Invalid value</span>\n            </info>\n          </div>\n          <info type=\"help\" class=\"column\">\n            <p v-translate>Will generate new points along route, at regular interval, defined by distance in meters</p>\n          </info>\n        </div>\n      </div>\n    </div>\n    <div class=\"is-flex is-justify-content-end is-align-items-center\">\n      <info inline v-if=\"routeIntersectsYetiAreas\">\n        <span v-translate>Some points are out of extent</span>\n      </info>\n      <button\n        class=\"button is-primary\"\n        :class=\"{ 'is-disabled': validSimplifyTolerance, 'is-loading': loading }\"\n        :disabled=\"loading\"\n        @click=\"onCalculateElevations\"\n        v-translate\n      >\n        Generate elevations\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport simplify from './map-layers/simplify';\n\nimport Info from '@/components/yeti/Info.vue';\nimport Yetix from '@/components/yeti/Yetix';\nimport debounce from '@/js/debounce';\nimport d3 from '@/js/libs/d3';\nimport ol from '@/js/libs/ol';\n\nconst MIN_INTERPOLATE_VALUE = 5;\n\nexport default {\n  components: { Info },\n  props: {\n    features: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      data: [],\n      loading: false,\n      interpolate: false,\n      interpolateValue: 50,\n      i18n_: {\n        elevation_legend: this.$gettext('Elevation (m)'),\n        distance_legend: this.$gettext('Distance (km)'),\n      },\n      errors: {\n        actionDisabled: this.$gettext('Action is disabled. You must confirm simplified geometry first.'),\n        fromApi: this.$gettext('One or more route could not be processed:'),\n        interpolateValue: this.$gettext('Interpolate value should be a number > 0'),\n        tooMuchPoints: this.$gettext(\n          'One or more line chunks will generate more than 3000 points. Adjust distance to generate less points.'\n        ),\n      },\n    };\n  },\n  computed: {\n    areas() {\n      return Yetix.areas;\n    },\n    fetchWpsAlti() {\n      return Yetix.fetchWpsAlti;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n    atLeastOneLineChunkHasTooMuchPoints() {\n      if (this.interpolateValueInvalid) {\n        return false;\n      }\n      return this.data.filter((d) => {\n        return (d[d.length - 1].localD * 1000) / this.interpolateValue > 3000;\n      }).length;\n    },\n    interpolateValueInvalid() {\n      // type number is empty string when not number\n      return this.interpolateValue === 0 || this.interpolateValue === '';\n    },\n    routeIntersectsYetiAreas() {\n      if (this.areas.length) {\n        for (let feature of this.features) {\n          let coords = feature.getGeometry().getCoordinates();\n          // will simplify coords to improve compute time\n          // if no z, add 0 (simplify not working)\n          coords = coords.map((coord) => {\n            if (!coord[2]) {\n              coord[2] = 0;\n            }\n            return coord;\n          });\n          // and simplify\n          coords = simplify(coords, 200, true);\n          for (let coord of coords) {\n            let inside = this.areas[0].geometry.intersectsCoordinate(coord);\n            // return when at least one point if outside\n            if (!inside) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    },\n  },\n  watch: {\n    features() {\n      this.updateChart(true);\n    },\n  },\n  mounted() {\n    // debounce creating chart\n    debounce(() => {\n      d3.then(this.createChart);\n    }, 10)();\n\n    this.debouncedOnResize = debounce(this.onResize, 100);\n\n    Yetix.$on('showFeature', this.showFeature);\n    Yetix.$on('hideFeature', this.hideFeature);\n  },\n  beforeDestroy() {\n    this.resizeObserver?.unobserve(this.$refs.graph);\n  },\n  methods: {\n    onCalculateElevations() {\n      // deal with errors first\n      if (this.validSimplifyTolerance) {\n        return window.alert(this.errors.actionDisabled);\n      }\n      if (this.atLeastOneLineChunkHasTooMuchPoints) {\n        return window.alert(this.errors.tooMuchPoints);\n      }\n      if (this.interpolateValueInvalid) {\n        return window.alert(this.errors.interpolateValue);\n      }\n      // start loading\n      this.loading = true;\n      // and defer (next cycle)\n      setTimeout(() => {\n        // start by removing all elevations\n        this.removeAllElevations();\n        // interpolateValue is 5 meters min, or 0 if not checked\n        let interpolateValue = this.interpolate ? Math.max(MIN_INTERPOLATE_VALUE, this.interpolateValue) : 0;\n\n        // build promises for each http request (one per line chunk)\n        let promises = [];\n        // for each filtered features\n        this.features.forEach((feature) => {\n          let points = feature.getGeometry().clone().transform('EPSG:3857', 'EPSG:4326').getCoordinates();\n          promises.push(\n            this.fetchWpsAlti(points, interpolateValue).then(({ data }) => {\n              // if we got features from api, set new geometry to feature\n              if (data.features) {\n                // first transform coords\n                let coords = data.features[0].geometry.coordinates.map((coord) => {\n                  return ol.proj.transform(coord, 'EPSG:4326', 'EPSG:3857');\n                });\n                // replace this feature coordinates\n                feature.getGeometry().setCoordinates(coords);\n              }\n              // return promise (to deal with errors)\n              return data;\n            })\n          );\n        });\n        // when all requests finished\n        Promise.all(promises).then((promises) => {\n          // stop loading\n          this.loading = false;\n          // emit featureUpdated: routeLayer will update state.features\n          Yetix.$emit('featureUpdated');\n\n          // errors ?\n          // if we got status=error, concatenate all errors, and alert\n          let errors = promises\n            .filter((promise) => promise.status && promise.status === 'error')\n            .map((error) => {\n              return error.message;\n            });\n          if (errors.length) {\n            window.alert(this.errors.fromApi + '\\n' + errors.join('\\n'));\n          }\n        });\n      }, 10);\n    },\n    removeAllElevations() {\n      this.features.forEach((feature) => {\n        let coords = feature.getGeometry().getCoordinates();\n        coords = coords.map((coord) => {\n          coord[2] = 0;\n          return coord;\n        });\n        feature.getGeometry().setCoordinates(coords);\n      });\n      Yetix.$emit('featureUpdated');\n    },\n    showFeature(index) {\n      this.container\n        .selectAll('.area')\n        .select(function (d, i) {\n          if (index === i) {\n            return this;\n          }\n        })\n        .classed('area-highlighted', true);\n    },\n    hideFeature() {\n      this.container.selectAll('.area').classed('area-highlighted', false);\n    },\n    computeCoords() {\n      this.coords = this.features.map((feature) => {\n        return feature.getGeometry().getCoordinates();\n      });\n      this.concatCoords = this.coords.flat();\n\n      this.updateData();\n    },\n    updateData() {\n      let totalDist = 0;\n      this.data = this.coords.map((c) => {\n        let localTotalDist = 0;\n        return c.map((coord, i, coords) => {\n          let d = 0;\n\n          if (i > 0) {\n            // convert from web mercator to lng/lat\n            const deg1 = ol.proj.transform([coords[i][0], coords[i][1]], 'EPSG:3857', 'EPSG:4326');\n            const deg2 = ol.proj.transform([coords[i - 1][0], coords[i - 1][1]], 'EPSG:3857', 'EPSG:4326');\n            // arc distance x earth radius\n            d = d3.geoDistance(deg1, deg2) * 6371;\n          }\n          totalDist += d;\n          localTotalDist += d;\n\n          return {\n            ele: coord[2] ?? 0,\n            d: totalDist,\n            localD: localTotalDist,\n          };\n        });\n      });\n\n      this.concatData = this.data.flat();\n\n      this.areasData = this.data\n        .map((d) => {\n          return {\n            min: d[0].d,\n            max: d[d.length - 1].d,\n          };\n        })\n        .map((d) => {\n          // need to duplicate data for d3\n          return [d, d];\n        });\n    },\n    createChart() {\n      // first, compute coords\n      this.computeCoords();\n\n      const wrapper = this.$refs.graph;\n\n      this.size = {\n        width: wrapper.offsetWidth,\n        height: wrapper.offsetHeight,\n      };\n\n      this.margin = {\n        top: 8,\n        right: 10,\n        bottom: 25,\n        left: 15,\n      };\n\n      const width = this.size.width - this.margin.left - this.margin.right;\n      const height = this.size.height - this.margin.top - this.margin.bottom;\n\n      // Add an SVG element with the desired dimensions and margin\n      this.svg = d3.select(this.$refs.graph).append('svg').attr('width', '100%').attr('height', this.size.height);\n      this.container = this.svg\n        .append('g')\n        .attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\n      // areas container\n      this.container.append('g').attr('class', 'areas');\n      this.container.append('g').attr('class', 'areas-lines');\n\n      // Scales and axes\n      this.scaleX = d3.scaleLinear().range([0, width]);\n      this.axisX = d3.axisBottom().scale(this.scaleX);\n\n      this.scaleY = d3.scaleLinear().range([height, 0]);\n      this.axisY = d3.axisRight().scale(this.scaleY).ticks(5).tickFormat(d3.format('.0f'));\n\n      // scales containers\n      this.container.append('g').attr('class', 'y axis');\n      this.container.append('g').attr('class', 'x axis');\n\n      // scales legends\n      this.container\n        .select('.axis.x')\n        .attr('transform', 'translate(0,' + height + ')')\n        .call(this.axisX)\n        .append('text')\n        .attr('x', this.size.width - this.margin.left - this.margin.right)\n        .attr('dy', '-.5em')\n        .attr('class', 'legend')\n        .style('text-anchor', 'end')\n        .text(this.i18n_.distance_legend);\n\n      this.container\n        .select('.axis.y')\n        //.attr('transform', 'translate(0, 10)')\n        .call(this.axisY)\n        .append('text')\n        .attr('transform', 'rotate(-90)')\n        .attr('y', 6)\n        .attr('dy', '-1em')\n        .attr('class', 'legend')\n        .style('text-anchor', 'end')\n        .text(this.i18n_.elevation_legend);\n\n      // lines container\n      this.container.append('g').attr('class', 'elevation-lines');\n\n      // then, update chart\n      this.updateChart();\n\n      this.focus = this.container.append('circle').attr('class', 'circle').attr('r', 4.5).style('display', 'none');\n\n      // altitude popup\n      this.popupAltitude = this.container\n        .append('g')\n        .attr('class', 'popup')\n        .attr('x', this.margin.left + 5)\n        .style('display', 'none');\n      this.popupAltitudeRect = this.popupAltitude.append('rect').attr('y', -8);\n      this.popupAltitudeText = this.popupAltitude.append('text').attr('dx', 5).attr('dy', 4);\n\n      this.container\n        .append('rect')\n        .attr('class', 'overlay')\n        .attr('width', width)\n        .attr('height', height)\n        .on(\n          'mouseover',\n          () => {\n            this.focus.style('display', null);\n            this.popupAltitude.style('display', null);\n          },\n          { passive: true }\n        )\n        .on(\n          'mouseout',\n          () => {\n            this.focus.style('display', 'none');\n            this.popupAltitude.style('display', 'none');\n            this.emitCursorEndEvent();\n          },\n          { passive: true }\n        )\n        .on('mousemove', this.setCursor, { passive: true });\n\n      // update the graph when it is resized\n      this.resizeObserver = new ResizeObserver(([entry]) => {\n        if (entry.contentBoxSize) {\n          // Firefox implements `contentBoxSize` as a single content rect, rather than an array\n          const contentBoxSize = Array.isArray(entry.contentBoxSize) ? entry.contentBoxSize[0] : entry.contentBoxSize;\n          this.debouncedOnResize(contentBoxSize.inlineSize, contentBoxSize.blockSize);\n        } else {\n          this.debouncedOnResize(entry.contentRect.width, entry.contentRect.height);\n        }\n      });\n      this.resizeObserver.observe(this.$refs.graph);\n    },\n    updateChart(force = false) {\n      if (force) {\n        this.computeCoords();\n      }\n\n      // update axes\n      this.scaleX.domain(d3.extent(this.concatData, (d) => d.d)).nice();\n      this.container.select('.axis.x').call(this.axisX);\n\n      this.scaleY.domain(d3.extent(this.concatData, (d) => d.ele)).nice();\n      this.container.select('.axis.y').call(this.axisY);\n      // remove zeroes from y axis\n      this.container\n        .select('.axis.y')\n        .select('.tick')\n        .filter((d, a, b) => {\n          let first = b[0];\n          if (first) {\n            let transform = first.attributes.transform.value;\n            transform = transform.replace('transform(', '').replace(')', '');\n            let values = transform.split(',');\n            let posy = values[1];\n            if (posy > this.size.height - this.margin.top - this.margin.bottom) {\n              return true;\n            }\n          }\n        })\n        .remove();\n\n      this.line = d3\n        .line()\n        .x((d) => this.scaleX(d.d))\n        .y((d) => this.scaleY(d.ele));\n\n      this.area = d3\n        .area()\n        .x0((d) => this.scaleX(d.min))\n        .x1((d) => {\n          // set minimum width for lines\n          let minWidth = d.max - d.min < 1 ? 5 : 0;\n          return this.scaleX(d.max) + minWidth;\n        })\n        .y((d, i) => (i === 0 ? 0 : this.size.height - this.margin.top - this.margin.bottom));\n\n      this.areaLine = d3\n        .line()\n        .x((d) => Math.round(this.scaleX(d.max)) + 0.5)\n        .y((d, i) => (i === 0 ? 0 : this.size.height - this.margin.top - this.margin.bottom));\n\n      // build areas\n      this.container\n        .select('.areas')\n        .selectAll('path')\n        .data(this.areasData)\n        .join('path')\n        .attr('class', 'area')\n        .attr('d', this.area);\n\n      // build areas line (dashed)\n      let areasDataForLines = structuredClone(this.areasData);\n      // remove last one\n      areasDataForLines.pop();\n      this.container\n        .select('.areas-lines')\n        .selectAll('path')\n        .data(areasDataForLines)\n        .join('path')\n        .attr('d', this.areaLine);\n\n      // build lines\n      this.container\n        .select('.elevation-lines')\n        .selectAll('path')\n        .data(this.data)\n        .join('path')\n        .attr('class', 'line')\n        .attr('d', this.line);\n    },\n    onResize(graphWidth, graphHeight) {\n      const width = graphWidth - this.margin.left - this.margin.right;\n      const height = graphHeight - this.margin.top - this.margin.bottom;\n\n      // recompute axes, lines and resize elements\n      this.scaleX.range([0, width]);\n      this.scaleY.range([height, 0]);\n      // update overlay\n      this.container.select('rect.overlay').attr('width', width);\n\n      this.updateChart();\n    },\n    setCursor(mouseMoveEvent) {\n      const bisectDistance = d3.bisector((d) => d.d).left;\n\n      const x0 = this.scaleX.invert(d3.pointer(mouseMoveEvent, this.container.node())[0]);\n\n      const i = bisectDistance(this.concatData, x0, 1, this.concatData.length - 1);\n      const d0 = this.concatData[i - 1];\n      const d1 = this.concatData[i];\n\n      const d = x0 - d0.d > d1.d - x0 ? d1 : d0;\n\n      const dy = Math.round(this.scaleY(d.ele));\n      const dx = Math.round(this.scaleX(d.d));\n\n      this.focus.attr('transform', 'translate(' + dx + ',' + dy + ')');\n      this.popupAltitude.attr('transform', 'translate(0,' + dy + ')');\n      let bbox = this.popupAltitudeText.node().getBBox();\n      this.popupAltitudeRect.attr('width', Math.round(bbox.width + 10)).attr('height', Math.round(bbox.height));\n\n      this.popupAltitudeText.text(Math.round(d.ele) + ' m');\n\n      this.emitCursorMoveEvent(this.concatCoords[d === d0 ? i - 1 : i]);\n    },\n    emitCursorEndEvent() {\n      Yetix.$emit('elevationProfile', 'cursor_end');\n    },\n    emitCursorMoveEvent(coord) {\n      Yetix.$emit('elevationProfile', 'cursor_move', coord);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/sass/variables';\n\n$C2C-orange: red;\n\n:deep(.elevation-profile-chart) {\n  height: 150px; // default height on page\n\n  .axis {\n    pointer-events: none;\n  }\n\n  .axis path,\n  .axis line {\n    fill: none;\n    stroke: $grey;\n    shape-rendering: crispEdges;\n  }\n\n  .axis .legend {\n    fill: $grey;\n  }\n\n  .axis .tick {\n    color: $grey;\n  }\n\n  .axis.x .tick line {\n    display: none;\n  }\n\n  .line {\n    fill: none;\n    stroke: $C2C-orange;\n    stroke-width: 3px;\n    stroke-linejoin: round;\n  }\n\n  .circle {\n    fill: yellow;\n    stroke: $C2C-orange;\n    stroke-width: 2px;\n  }\n\n  .popup {\n    font-size: 12px;\n    font-weight: bold;\n    fill: $primary;\n  }\n\n  .popup text {\n    fill: yellow;\n  }\n\n  .overlay {\n    fill: none;\n    pointer-events: all;\n  }\n\n  .area {\n    fill: none;\n  }\n\n  .area-highlighted {\n    fill: rgba(255, 255, 0, 0.75);\n  }\n\n  .areas-lines {\n    stroke: $grey;\n    stroke-width: 1px;\n    stroke-dasharray: 5;\n  }\n}\n\n.elevation-generate-panel {\n  margin-top: 1rem;\n  margin-left: -0.75rem;\n  margin-right: -0.75rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  border-top: 1px solid lightgray;\n}\n\n.input-interpolate {\n  width: 100px;\n  margin-right: 0.75rem;\n}\n\n.control-subpanel {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  line-height: 2;\n  margin-left: 0.75rem;\n  margin-bottom: 0.75rem;\n  padding-left: 2rem;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  border-left: solid 1px $primary;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ElevationProfile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ElevationProfile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ElevationProfile.vue?vue&type=template&id=2c076170&scoped=true\"\nimport script from \"./ElevationProfile.vue?vue&type=script&lang=js\"\nexport * from \"./ElevationProfile.vue?vue&type=script&lang=js\"\nimport style0 from \"./ElevationProfile.vue?vue&type=style&index=0&id=2c076170&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c076170\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"featureslist\"},_vm._l((_vm.features),function(feature,i){return _c('li',{key:i,staticClass:\"featureslist-item tag\",on:{\"mouseenter\":function($event){return _vm.showFeature(feature, i)},\"mouseleave\":function($event){return _vm.hideFeature(feature, i)}}},[_c('span',[_vm._v(_vm._s(_vm.nbPointsOnFeature(feature))+\" points\")]),_vm._v(\" \"),_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){return _vm.removeFeature(feature)}}},[_vm._v(\"x\")])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"featureslist\">\n    <li\n      v-for=\"(feature, i) of features\"\n      :key=\"i\"\n      class=\"featureslist-item tag\"\n      @mouseenter=\"showFeature(feature, i)\"\n      @mouseleave=\"hideFeature(feature, i)\"\n    >\n      <span>{{ nbPointsOnFeature(feature) }} points</span>\n      <button class=\"delete is-small\" @click=\"removeFeature(feature)\">x</button>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  props: {\n    features: {\n      type: Array,\n      required: true,\n    },\n  },\n  methods: {\n    removeFeature(feature) {\n      Yetix.$emit('removeFeature', feature);\n    },\n    showFeature(feature, index) {\n      feature.setStyle(feature.get('highlightedStyle'));\n      Yetix.$emit('showFeature', index);\n    },\n    hideFeature(feature, index) {\n      feature.setStyle(feature.get('normalStyle'));\n      Yetix.$emit('hideFeature', index);\n    },\n    nbPointsOnFeature(feature) {\n      return feature.getGeometry().getCoordinates().length;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.featureslist {\n  margin: 0 -0.5rem;\n\n  &-item {\n    margin: 0.25rem;\n    font-size: 0.7em;\n\n    &:hover,\n    &:focus {\n      background: $grey-lighter;\n      cursor: default;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FeaturesList.vue?vue&type=template&id=1830b904&scoped=true\"\nimport script from \"./FeaturesList.vue?vue&type=script&lang=js\"\nexport * from \"./FeaturesList.vue?vue&type=script&lang=js\"\nimport style0 from \"./FeaturesList.vue?vue&type=style&index=0&id=1830b904&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1830b904\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('dropdown-content',{staticClass:\"mb-5\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Select tolerance (preview result on map)\")]),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-center is-flex-wrap-wrap mt-3 mb-4\"},_vm._l((_vm.tolerances),function(tolerance,i){return _c('div',{key:tolerance,staticClass:\"mb-2 is-flex-grow-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toleranceDistance),expression:\"toleranceDistance\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'tolerance' + i,\"type\":\"radio\",\"name\":\"tolerances\"},domProps:{\"value\":tolerance,\"checked\":_vm._q(_vm.toleranceDistance,tolerance)},on:{\"change\":[function($event){_vm.toleranceDistance=tolerance},_vm.onPreviewSimplify]}}),_vm._v(\" \"),_c('label',{staticClass:\"mr-0\",attrs:{\"for\":'tolerance' + i}},[_vm._v(_vm._s(_vm.tolerancesText[i]))])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-flex-end is-align-items-center\"},[_c('info',{attrs:{\"inline\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.featuresLength)+\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points\")]),_vm._v(\" \"),(_vm.validToleranceDistance)?_c('strong',[_vm._v(\"\\n          (\"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"after:\")]),_vm._v(\" \"+_vm._s(_vm.featuresSimplifiedLength)+\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points\")]),_vm._v(\")\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('div',[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button\",attrs:{\"disabled\":!_vm.validToleranceDistance},on:{\"click\":_vm.initialize}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",attrs:{\"disabled\":!_vm.validToleranceDistance},on:{\"click\":_vm.onSimplify}},[_vm._v(\"\\n          Simplify\\n        \")])])],1),_vm._v(\" \"),(_vm.validToleranceDistance)?_c('info',{attrs:{\"type\":\"warning\"}},[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Be careful,\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        this is a preview. Geometry is not simplified yet. Map interactions and export are disabled.\\n      \")])]):_vm._e(),_vm._v(\" \"),_c('info',{staticClass:\"mt-5\",attrs:{\"type\":\"help\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Create a simplified version of the geometry by reducing the amount of points\")])])]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Simplify\")]),_vm._v(\" \"),(_vm.validToleranceDistance)?_c('fa-icon',{staticClass:\"has-text-danger ml-1\",attrs:{\"icon\":\"exclamation-circle\",\"title\":_vm.$gettext('Not simplified yet')}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <dropdown-content class=\"mb-5\">\n    <span v-translate>Simplify</span>\n    <fa-icon\n      icon=\"exclamation-circle\"\n      v-if=\"validToleranceDistance\"\n      class=\"has-text-danger ml-1\"\n      :title=\"$gettext('Not simplified yet')\"\n    />\n    <template #content>\n      <p v-translate>Select tolerance (preview result on map)</p>\n      <div class=\"is-flex is-justify-content-center is-flex-wrap-wrap mt-3 mb-4\">\n        <div v-for=\"(tolerance, i) of tolerances\" :key=\"tolerance\" class=\"mb-2 is-flex-grow-1\">\n          <input\n            :id=\"'tolerance' + i\"\n            class=\"is-checkradio is-primary\"\n            type=\"radio\"\n            name=\"tolerances\"\n            :value=\"tolerance\"\n            v-model=\"toleranceDistance\"\n            @change=\"onPreviewSimplify\"\n          />\n          <label :for=\"'tolerance' + i\" class=\"mr-0\">{{ tolerancesText[i] }}</label>\n        </div>\n      </div>\n      <div class=\"is-flex is-justify-content-flex-end is-align-items-center\">\n        <info inline>\n          {{ featuresLength }} <span v-translate>points</span>\n          <strong v-if=\"validToleranceDistance\">\n            (<span v-translate>after:</span> {{ featuresSimplifiedLength }} <span v-translate>points</span>)\n          </strong>\n        </info>\n        <div>\n          <button class=\"button\" :disabled=\"!validToleranceDistance\" @click=\"initialize\" v-translate>Cancel</button>\n          <button class=\"button is-primary\" :disabled=\"!validToleranceDistance\" @click=\"onSimplify\" v-translate>\n            Simplify\n          </button>\n        </div>\n      </div>\n      <info type=\"warning\" v-if=\"validToleranceDistance\">\n        <strong v-translate>Be careful,</strong>\n        <span v-translate>\n          this is a preview. Geometry is not simplified yet. Map interactions and export are disabled.\n        </span>\n      </info>\n      <info type=\"help\" class=\"mt-5\">\n        <span v-translate>Create a simplified version of the geometry by reducing the amount of points</span>\n      </info>\n    </template>\n  </dropdown-content>\n</template>\n\n<script>\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport Info from '@/components/yeti/Info.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: { DropdownContent, Info },\n  data() {\n    return {\n      tolerances: [0, 25, 50, 100, 200],\n      tolerancesText: [this.$gettext('No'), '25m', '50m', '100m', '200m'],\n      toleranceDistance: 0,\n    };\n  },\n  computed: {\n    features() {\n      return Yetix.features;\n    },\n    featuresLength() {\n      return Yetix.featuresLength;\n    },\n    featuresSimplifiedLength() {\n      return this.features\n        .map((feature) => {\n          return feature.getGeometry().getCoordinates().length;\n        })\n        .reduce((acc, value) => acc + value);\n    },\n    validToleranceDistance() {\n      return this.toleranceDistance !== 0;\n    },\n  },\n  watch: {\n    toleranceDistance() {\n      if (this.validToleranceDistance) {\n        Yetix.setValidSimplifyTolerance(true);\n      } else {\n        Yetix.setValidSimplifyTolerance(false);\n      }\n    },\n  },\n  destroyed() {\n    // set validSimplifyTolerance to false\n    // go back to normal case for simplify tool\n    // and retrieve default value for edit mode\n    Yetix.setValidSimplifyTolerance(false);\n  },\n  methods: {\n    onPreviewSimplify() {\n      Yetix.$emit('previewSimplify', this.toleranceDistance);\n    },\n    onSimplify() {\n      Yetix.$emit('simplify');\n      // go back to init\n      this.initialize();\n    },\n    initialize() {\n      this.toleranceDistance = 0;\n      this.onPreviewSimplify();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SimplifyTool.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SimplifyTool.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SimplifyTool.vue?vue&type=template&id=7af77b24\"\nimport script from \"./SimplifyTool.vue?vue&type=script&lang=js\"\nexport * from \"./SimplifyTool.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Route</span></sub-panel-title>\n    <edit-mode-button class=\"edit-mode-button\" />\n    <div v-if=\"features.length\">\n      <div class=\"columns is-mobile\">\n        <div class=\"column\">\n          <p class=\"features-title\">\n            <icon-route class=\"icon document-icon\" />\n            <fa-icon icon=\"pen\" class=\"icon edit-icon\" />\n            <span\n              v-show=\"!hasFeaturesTitle\"\n              class=\"features-title-text features-title-placeholder\"\n              @click=\"onEditNewFeaturesTitle\"\n              v-translate\n            >\n              Add title\n            </span>\n            <span\n              v-show=\"hasFeaturesTitle\"\n              class=\"features-title-text features-title-content\"\n              ref=\"featuresTitle\"\n              tabindex=\"0\"\n              contenteditable\n              spellcheck=\"false\"\n              @blur=\"onEditFeaturesTitle\"\n              @keypress.13.prevent\n              >{{ featuresTitle }}</span\n            >\n          </p>\n        </div>\n        <div class=\"column is-narrow\">\n          <button class=\"button is-secondary is-small\" @click=\"onRemoveFeatures\">\n            <fa-icon icon=\"trash\" class=\"trash-icon\" />\n            <span v-translate>Delete route</span>\n          </button>\n        </div>\n      </div>\n      <div class=\"ml-5 mb-5\">\n        <p class=\"is-size-7 is-italic mb-1 has-text-grey\" v-translate>Lines chunks</p>\n        <features-list :features=\"features\" />\n      </div>\n      <dropdown-content class=\"mb-5\">\n        <span v-translate>Elevation profile</span>\n        <template #content>\n          <elevation-profile :features=\"features\" />\n        </template>\n      </dropdown-content>\n      <simplify-tool ref=\"simplifyTool\" />\n      <info type=\"help\">\n        <p v-translate>Drawing tips</p>\n        <ul class=\"content-ul\">\n          <li><strong v-translate translate-context=\"yeti\">Draw</strong> <span v-translate>new lines chunks</span></li>\n          <li>\n            <strong v-translate translate-context=\"yeti\">Delete</strong>\n            <span v-translate>last point with the Backspace key</span>\n          </li>\n        </ul>\n        <p v-translate>On a drawn line</p>\n        <ul class=\"content-ul\">\n          <li>\n            <strong v-translate translate-context=\"yeti\">Edit</strong> <span v-translate>points by moving them</span>\n          </li>\n          <li>\n            <strong v-translate translate-context=\"yeti\">Create</strong>\n            <span v-translate>a new point on an existing line</span>\n          </li>\n          <li><strong v-translate>Delete a point</strong> <span v-translate>with Alt + clic</span></li>\n        </ul>\n        <p v-translate>From the interface</p>\n        <ul class=\"content-ul\">\n          <li><strong v-translate>Delete a line chunk</strong></li>\n          <li><strong v-translate>Delete route</strong> <span v-translate>to start or load a new one</span></li>\n        </ul>\n      </info>\n      <sub-panel-title><span v-translate>Export</span></sub-panel-title>\n      <div class=\"columns is-vcentered is-mobile\">\n        <div class=\"column\">\n          <ul class=\"form-export\">\n            <li v-for=\"f of formats\" :key=\"f\" class=\"control is-flex\">\n              <input\n                :id=\"'format' + f\"\n                type=\"radio\"\n                name=\"exportFormat\"\n                class=\"is-checkradio is-primary\"\n                :value=\"f\"\n                v-model=\"format\"\n              />\n              <label :for=\"'format' + f\">{{ f }}</label>\n            </li>\n          </ul>\n        </div>\n        <div class=\"column is-narrow\">\n          <button\n            class=\"button is-primary\"\n            :class=\"{ 'is-disabled': validSimplifyTolerance }\"\n            @click=\"downloadCourse\"\n            v-translate\n          >\n            Export route\n          </button>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <p v-translate>No route right now</p>\n      <div class=\"load-gpx\">\n        <button\n          class=\"button is-primary\"\n          :class=\"{ 'is-loading': loading }\"\n          :disabled=\"loading\"\n          @click=\"onLoadGpx\"\n          v-translate\n        >\n          Upload a GPS track\n        </button>\n        <div class=\"control upload-button\">\n          <input ref=\"gpxFileInput\" type=\"file\" @change=\"uploadGpx\" accept=\".gpx\" />\n        </div>\n        <info type=\"help\" class=\"mt-5\">\n          <p>\n            <strong v-translate>To draw (and edit) directly on the map</strong>\n            <span v-translate>you need to activate edit mode</span>\n          </p>\n        </info>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport EditModeButton from '@/components/yeti/EditModeButton.vue';\nimport ElevationProfile from '@/components/yeti/ElevationProfile.vue';\nimport FeaturesList from '@/components/yeti/FeaturesList.vue';\nimport Info from '@/components/yeti/Info.vue';\nimport SimplifyTool from '@/components/yeti/SimplifyTool.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\nimport utils from '@/js/utils';\n\nexport default {\n  components: {\n    DropdownContent,\n    EditModeButton,\n    ElevationProfile,\n    FeaturesList,\n    Info,\n    SimplifyTool,\n    SubPanelTitle,\n  },\n  data() {\n    return {\n      newFeaturesTitle: false,\n      loading: false,\n      formats: ['GPX', 'KML'],\n      format: 'GPX',\n    };\n  },\n  computed: {\n    editMode() {\n      return Yetix.editMode;\n    },\n    features() {\n      return Yetix.features;\n    },\n    featuresTitle() {\n      return Yetix.featuresTitle;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n    hasFeaturesTitle() {\n      return !(!this.featuresTitle.length && !this.newFeaturesTitle);\n    },\n  },\n  methods: {\n    onEditFeaturesTitle(e) {\n      if (!e.target.innerText.length) {\n        this.newFeaturesTitle = false;\n      }\n      Yetix.setFeaturesTitle(e.target.innerText);\n    },\n    onEditNewFeaturesTitle() {\n      this.newFeaturesTitle = true;\n      this.$nextTick(() => {\n        this.$refs.featuresTitle.focus();\n      });\n    },\n    onLoadGpx() {\n      this.$refs.gpxFileInput.click();\n    },\n    onRemoveFeatures() {\n      if (confirm(this.$gettext('Confirm delete'))) {\n        Yetix.$emit('removeFeatures');\n        // initialize simplify tool (go back to init state)\n        this.$refs.simplifyTool.initialize();\n      }\n    },\n    uploadGpx(event) {\n      this.loading = true;\n\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        this.loading = false;\n        Yetix.$emit('gpx', reader.result);\n      };\n\n      reader.readAsText(event.target.files[0]);\n\n      // empty the input, because if user wants to upload same trace\n      // change event is not fired\n      // and emit gpx event\n      this.$refs.gpxFileInput.value = '';\n      Yetix.$emit('gpx', null);\n    },\n    downloadCourse() {\n      if (this.validSimplifyTolerance) {\n        return window.alert(this.$gettext('Action is disabled. You must confirm simplified geometry first.'));\n      }\n      if (this.format === 'GPX') {\n        this.downloadFeatures(new ol.format.GPX(), '.gpx', 'application/gpx+xml');\n      } else if (this.format === 'KML') {\n        this.downloadFeatures(new ol.format.KML(), '.kml', 'application/vnd.google-earth.kml+xml');\n      }\n    },\n    downloadFeatures(olFormat, extension, mimetype) {\n      const features = this.features;\n      features[0].set('name', this.featuresTitle);\n\n      const filename = this.setFilename(extension);\n\n      const content = olFormat.writeFeatures(features, {\n        featureProjection: 'EPSG:3857',\n        decimals: 7,\n      });\n\n      utils.download(content, filename, mimetype + ';charset=utf-8');\n    },\n    setFilename(ext) {\n      return this.$dateUtils.toLocalizedString(new Date(), 'YYYY-MM-DD_HH-mm-ss') + ext;\n    },\n    setEditMode() {\n      Yetix.setEditMode(!this.editMode);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.features-title {\n  display: flex;\n  line-height: 1.4;\n\n  &-text {\n    min-width: 100px;\n    border: solid 1px transparent;\n    border-radius: 2px;\n    padding: 2px 2em 2px 2px;\n    box-decoration-break: clone;\n\n    &:hover,\n    &:focus {\n      border-color: #b5b5b5;\n    }\n  }\n\n  &-placeholder {\n    font-style: italic;\n  }\n\n  &-content {\n    font-weight: bold;\n  }\n}\n\n.icon {\n  margin-top: 2px;\n}\n\n.edit-icon {\n  order: 1;\n  opacity: 0;\n  margin-left: -1.5em;\n  pointer-events: none;\n  transform: scale(0.75);\n}\n\n.features-title:hover .edit-icon {\n  opacity: 0.75;\n}\n\n.document-icon {\n  margin-right: 3px;\n}\n\n.trash-icon {\n  margin-right: 3px;\n}\n\n.upload-button {\n  position: relative;\n}\n\ninput[type='file'] {\n  opacity: 0; /* invisible but it's there! */\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  cursor: pointer;\n}\n\n.load-gpx {\n  margin-top: 2rem;\n}\n\n.form-export {\n  display: flex;\n}\n\n.control {\n  align-items: center;\n\n  .is-checkradio[type='radio'] + label {\n    line-height: 1.2rem;\n  }\n}\n\n@media screen and (max-width: 350px) {\n  .form-export {\n    display: block;\n  }\n}\n\n.edit-mode-button {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  z-index: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelCourse.vue?vue&type=template&id=51d747bc&scoped=true\"\nimport script from \"./SubPanelCourse.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelCourse.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelCourse.vue?vue&type=style&index=0&id=51d747bc&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51d747bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Overlays\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.overlaysLayersSelector),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\",class:{ 'is-small': layer.small }},[_c('layer-button',{attrs:{\"image\":layer.image,\"country\":layer.country},on:{\"change\":layer.action},model:{value:(layer.checked),callback:function ($$v) {_vm.$set(layer, \"checked\", $$v)},expression:\"layer.checked\"}},[_c('span',[_vm._v(_vm._s(layer.title))])])],1)}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',[_vm._v(\"YETI\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.yetiLayersSelector),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\"},[_c('layer-button',{attrs:{\"disabled\":layer.disabled,\"image\":layer.image},on:{\"change\":layer.action},model:{value:(layer.checked),callback:function ($$v) {_vm.$set(layer, \"checked\", $$v)},expression:\"layer.checked\"}},[_c('span',[_vm._v(_vm._s(layer.title))])])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"layer-controls\"},_vm._l((_vm.yetiLayersSelectorChecked),function(layer){return _c('dropdown-content',{key:layer.title,staticClass:\"mb-2\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"layer-control-item\"},[_c('slider',{attrs:{\"min\":0,\"max\":1,\"interval\":0.01},model:{value:(layer.opacity),callback:function ($$v) {_vm.$set(layer, \"opacity\", $$v)},expression:\"layer.opacity\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Opacity\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"layer-control-item\"},[_c('input-checkbox',{model:{value:(layer.blendModes),callback:function ($$v) {_vm.$set(layer, \"blendModes\", $$v)},expression:\"layer.blendModes\"}},[_c('span',[_vm._v(\"Blend pixels\")])])],1)]},proxy:true}],null,true)},[_c('span',[_c('fa-icon',{attrs:{\"icon\":\"gear\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(layer.title))])],1)])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Slopes\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.slopesLayersSelector),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\"},[_c('layer-button',{attrs:{\"image\":layer.image,\"country\":layer.country},model:{value:(layer.checked),callback:function ($$v) {_vm.$set(layer, \"checked\", $$v)},expression:\"layer.checked\"}},[_c('span',[_vm._v(_vm._s(_vm.$gettext(layer.title, 'Map slopes layer')))])])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"layer-controls\"},_vm._l((_vm.slopesLayersSelectorChecked),function(layer){return _c('dropdown-content',{key:layer.title,staticClass:\"mb-2\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"layer-control-item\"},[_c('slider',{attrs:{\"min\":0,\"max\":1,\"interval\":0.01},model:{value:(layer.opacity),callback:function ($$v) {_vm.$set(layer, \"opacity\", $$v)},expression:\"layer.opacity\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Opacity\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"layer-control-item\"},[_c('input-checkbox',{model:{value:(layer.blendModes),callback:function ($$v) {_vm.$set(layer, \"blendModes\", $$v)},expression:\"layer.blendModes\"}},[_c('span',[_vm._v(\"Blend pixels\")])])],1)]},proxy:true}],null,true)},[_c('span',[_c('fa-icon',{attrs:{\"icon\":\"gear\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$gettext(layer.title, 'Map slopes layer')))])],1)])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Base layers\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.baseLayersSelector),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\",class:{ 'is-small': layer.small }},[_c('layer-button',{attrs:{\"type\":\"radio\",\"name\":\"baselayer\",\"model\":layer,\"image\":layer.image,\"country\":layer.country},model:{value:(_vm.selectedBaseLayer),callback:function ($$v) {_vm.selectedBaseLayer=$$v},expression:\"selectedBaseLayer\"}},[_c('span',[_vm._v(_vm._s(_vm.$gettext(layer.title, 'Map layer')))])])],1)}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._g({staticClass:\"layer-button\"},_vm.disabled?.condition ? { click: _vm.warnIfDisabled } : {}),[((_vm.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm._value),expression:\"_value\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'layer-checkbox' + _vm._uid,\"name\":_vm.name,\"disabled\":_vm.disabled?.condition,\"type\":\"checkbox\"},domProps:{\"value\":_vm.model,\"checked\":Array.isArray(_vm._value)?_vm._i(_vm._value,_vm.model)>-1:(_vm._value)},on:{\"change\":[function($event){var $$a=_vm._value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.model,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm._value=$$a.concat([$$v]))}else{$$i>-1&&(_vm._value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm._value=$$c}},function($event){return _vm.$emit('change')}]}}):((_vm.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm._value),expression:\"_value\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'layer-checkbox' + _vm._uid,\"name\":_vm.name,\"disabled\":_vm.disabled?.condition,\"type\":\"radio\"},domProps:{\"value\":_vm.model,\"checked\":_vm._q(_vm._value,_vm.model)},on:{\"change\":[function($event){_vm._value=_vm.model},function($event){return _vm.$emit('change')}]}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm._value),expression:\"_value\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'layer-checkbox' + _vm._uid,\"name\":_vm.name,\"disabled\":_vm.disabled?.condition,\"type\":_vm.type},domProps:{\"value\":_vm.model,\"value\":(_vm._value)},on:{\"change\":function($event){return _vm.$emit('change')},\"input\":function($event){if($event.target.composing)return;_vm._value=$event.target.value}}}),_vm._v(\" \"),_c('label',{staticClass:\"layer-label\",attrs:{\"for\":'layer-checkbox' + _vm._uid}},[_c('div',{staticClass:\"layer-image\",style:({\n        'background-image': _vm.backgroundImage,\n      })},[(_vm.country)?_c('span',{staticClass:\"layer-country\",class:'layer-country-' + _vm.country,style:({ 'background-image': 'url(' + require('../../assets/img/flags/' + _vm.country + '.svg') + ')' })}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"layer-text\",class:{ 'has-text-primary': _vm.model ? _vm.model.checked : _vm._value }},[_vm._t(\"default\")],2)]),_vm._v(\" \"),_c('toast',{ref:\"toast-button\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.disabled?.title))]},proxy:true}])},[_vm._v(\"\\n    \"+_vm._s(_vm.disabled?.message)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-toast\"},[_c('h2',{staticClass:\"title is-6\"},[_vm._t(\"title\")],2),_vm._v(\" \"),_c('p',[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"yeti-toast\">\n    <h2 class=\"title is-6\"><slot name=\"title\" /></h2>\n    <p><slot /></p>\n  </div>\n</template>\n\n<script>\nimport { toast } from 'bulma-toast';\n\nexport default {\n  methods: {\n    toast(props) {\n      // merge props\n      let opts = {\n        ...{\n          duration: 3000,\n          type: 'is-info',\n          pauseOnHover: true,\n          position: 'center',\n          dismissible: true,\n          single: true,\n        },\n        ...props,\n      };\n      // add message\n      opts.message = this.$el;\n      toast(opts);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.yeti-toast {\n  display: none;\n  white-space: normal;\n}\n.notification .yeti-toast {\n  display: block;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Toast.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Toast.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Toast.vue?vue&type=template&id=2029daee&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\nimport style0 from \"./Toast.vue?vue&type=style&index=0&id=2029daee&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2029daee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"layer-button\" v-on=\"disabled?.condition ? { click: warnIfDisabled } : {}\">\n    <input\n      :id=\"'layer-checkbox' + _uid\"\n      class=\"is-checkradio is-primary\"\n      :type=\"type\"\n      :name=\"name\"\n      v-model=\"_value\"\n      :value=\"model\"\n      :disabled=\"disabled?.condition\"\n      @change=\"$emit('change')\"\n    />\n    <label :for=\"'layer-checkbox' + _uid\" class=\"layer-label\">\n      <div\n        class=\"layer-image\"\n        :style=\"{\n          'background-image': backgroundImage,\n        }\"\n      >\n        <span\n          class=\"layer-country\"\n          :class=\"'layer-country-' + country\"\n          v-if=\"country\"\n          :style=\"{ 'background-image': 'url(' + require('../../assets/img/flags/' + country + '.svg') + ')' }\"\n        ></span>\n      </div>\n      <div class=\"layer-text\" :class=\"{ 'has-text-primary': model ? model.checked : _value }\">\n        <slot />\n      </div>\n    </label>\n    <toast ref=\"toast-button\">\n      <template #title>{{ disabled?.title }}</template>\n      {{ disabled?.message }}\n    </toast>\n  </div>\n</template>\n\n<script>\nimport Toast from '@/components/yeti/Toast';\n\nexport default {\n  components: {\n    Toast,\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'checkbox',\n    },\n    name: {\n      type: String,\n      default: null,\n    },\n    value: {\n      type: [Boolean, Object],\n      default: null,\n    },\n    model: {\n      type: Object,\n      default: null,\n    },\n    disabled: {\n      type: Object,\n      default: null,\n    },\n    image: {\n      type: String,\n      default: null,\n    },\n    country: {\n      type: String,\n      default: null,\n    },\n  },\n  computed: {\n    _value: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        this.$emit('input', value);\n      },\n    },\n    backgroundImage() {\n      let img;\n      try {\n        img = require('../../assets/img/yeti/layers/' + this.image);\n        img = 'url(' + img + ')';\n      } catch (e) {\n        img = 'none';\n      }\n      return img;\n    },\n  },\n  methods: {\n    warnIfDisabled() {\n      this.$refs['toast-button'].toast();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$width: calc(70 / 14 * 1rem);\n$height: calc(50 / 14 * 1rem);\n\n.layer-image {\n  position: relative;\n  width: $width;\n  min-height: $height;\n  background: #dbdbdb;\n  box-shadow: 0 0 0 2px white, 0 0 0 3px #dbdbdb;\n  border-radius: 4px;\n  margin-bottom: 0.5rem;\n  background-position: center;\n}\n.layer-label {\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 !important;\n  margin: 0 !important;\n}\n.layer-text {\n  margin: 0 -8px;\n}\n.layer-country {\n  position: absolute;\n  bottom: 4px;\n  right: 4px;\n  width: 16px;\n  height: 12px;\n  background-size: cover;\n  background-position: center;\n}\n.layer-country-ch {\n  width: 12px;\n}\n.layer-button {\n  text-align: center;\n\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before,\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    z-index: 1;\n    left: calc(50% - ($width / 2));\n  }\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before {\n    background: #0000;\n    border-color: #0000;\n  }\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    left: calc(50% - ($width / 2) + 0.5rem) !important;\n  }\n  .is-checkradio:hover:not([disabled]) + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:focus-visible + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:checked:not([disabled]) + label::before {\n    box-shadow: 0 0 0 2px $white;\n  }\n  .is-checkradio:not(:checked):hover:not([disabled]) + label::before {\n    border-width: 1px;\n    border-color: #dbdbdb !important;\n    background: white;\n    box-shadow: none;\n  }\n  .is-checkradio:not(:checked):focus-visible + label::before {\n    border-width: 1px;\n    border-color: #dbdbdb !important;\n    background: white;\n    box-shadow: none;\n  }\n  .is-checkradio:checked:not([disabled]) + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:checked:focus-visible + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary, 0 0 0 6px $secondary !important;\n  }\n}\n.is-small {\n  .layer-image {\n    width: 1.5rem;\n    min-height: 1.5rem;\n    margin-bottom: 0;\n    background-size: 220%;\n  }\n  .layer-label {\n    flex-direction: row;\n    align-items: flex-start;\n  }\n  .layer-text {\n    margin-left: 0.5rem;\n    text-align: left;\n    white-space: nowrap;\n  }\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before {\n    left: 0;\n  }\n  .is-checkradio:not(:checked):hover:not([disabled]) + label::before {\n    opacity: 0;\n  }\n  .is-checkradio:not(:checked):focus-visible + label::before {\n    opacity: 0;\n  }\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    left: 0.5rem !important;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./LayerButton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./LayerButton.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LayerButton.vue?vue&type=template&id=4e6be6e1&scoped=true\"\nimport script from \"./LayerButton.vue?vue&type=script&lang=js\"\nexport * from \"./LayerButton.vue?vue&type=script&lang=js\"\nimport style0 from \"./LayerButton.vue?vue&type=style&index=0&id=4e6be6e1&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e6be6e1\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('span',{staticClass:\"label\",attrs:{\"id\":'slider_' + _vm._uid},on:{\"click\":_vm.focus}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('vue-slider',{ref:\"slider\",attrs:{\"dot-attrs\":{ 'aria-labelledby': 'slider_' + _vm._uid },\"min\":_vm.min,\"max\":_vm.max,\"interval\":_vm.interval,\"tooltip\":\"none\",\"duration\":0,\"contained\":true},on:{\"change\":function($event){return _vm.$emit('change')}},model:{value:(_vm._value),callback:function ($$v) {_vm._value=$$v},expression:\"_value\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <span :id=\"'slider_' + _uid\" @click=\"focus\" class=\"label\">\n      <slot></slot>\n    </span>\n    <vue-slider\n      ref=\"slider\"\n      v-model=\"_value\"\n      :dot-attrs=\"{ 'aria-labelledby': 'slider_' + _uid }\"\n      :min=\"min\"\n      :max=\"max\"\n      :interval=\"interval\"\n      tooltip=\"none\"\n      :duration=\"0\"\n      :contained=\"true\"\n      @change=\"$emit('change')\"\n    />\n  </div>\n</template>\n\n<script>\nimport 'vue-slider-component/theme/default.css';\nimport VueSlider from 'vue-slider-component';\n\nexport default {\n  components: {\n    VueSlider,\n  },\n  props: {\n    value: {\n      type: Number,\n      default: null,\n    },\n    min: {\n      type: Number,\n      default: null,\n    },\n    max: {\n      type: Number,\n      default: null,\n    },\n    interval: {\n      type: Number,\n      default: null,\n    },\n  },\n  computed: {\n    _value: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        this.$emit('input', value);\n      },\n    },\n  },\n  methods: {\n    focus() {\n      this.$refs.slider.$el.querySelector('.vue-slider-dot').focus({ focusVisible: true });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.yeti-app {\n  /* customization of vue-slider */\n  $dotSize: 14px;\n  .vue-slider-process {\n    background: $primary;\n    box-shadow: calc(-1 * $dotSize / 2) 0 $primary;\n  }\n  .vue-slider-rail {\n    background: $grey-lighter;\n    box-shadow: calc(-1 * $dotSize / 2) 0 $grey-lighter, calc($dotSize / 2) 0 $grey-lighter;\n  }\n  .vue-slider-dot-handle {\n    box-shadow: 0 0 0 2px $primary;\n  }\n  .vue-slider-dot:focus-visible {\n    box-shadow: 0 0 0 4px $secondary;\n    border-radius: $dotSize;\n  }\n}\n</style>\n\n<style scoped>\n.label {\n  cursor: pointer;\n  font-weight: normal;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Slider.vue?vue&type=template&id=d7c55170&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=js\"\nexport * from \"./Slider.vue?vue&type=script&lang=js\"\nimport style0 from \"./Slider.vue?vue&type=style&index=0&id=d7c55170&prod&lang=scss\"\nimport style1 from \"./Slider.vue?vue&type=style&index=1&id=d7c55170&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7c55170\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <div class=\"layers-group\">\n      <sub-panel-title><span v-translate>Overlays</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div\n          v-for=\"layer of overlaysLayersSelector\"\n          :key=\"layer.title\"\n          class=\"layer-item\"\n          :class=\"{ 'is-small': layer.small }\"\n        >\n          <layer-button v-model=\"layer.checked\" :image=\"layer.image\" :country=\"layer.country\" @change=\"layer.action\">\n            <span>{{ layer.title }}</span>\n          </layer-button>\n        </div>\n      </div>\n    </div>\n    <div class=\"layers-group\">\n      <sub-panel-title><span>YETI</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div v-for=\"layer of yetiLayersSelector\" :key=\"layer.title\" class=\"layer-item\">\n          <layer-button v-model=\"layer.checked\" :disabled=\"layer.disabled\" :image=\"layer.image\" @change=\"layer.action\">\n            <span>{{ layer.title }}</span>\n          </layer-button>\n        </div>\n      </div>\n      <div class=\"layer-controls\">\n        <dropdown-content v-for=\"layer of yetiLayersSelectorChecked\" :key=\"layer.title\" class=\"mb-2\">\n          <span>\n            <fa-icon icon=\"gear\" />\n            <span>{{ layer.title }}</span>\n          </span>\n          <template #content>\n            <div class=\"layer-control-item\">\n              <slider v-model=\"layer.opacity\" :min=\"0\" :max=\"1\" :interval=\"0.01\">\n                <span v-translate>Opacity</span>\n              </slider>\n            </div>\n            <div class=\"layer-control-item\">\n              <input-checkbox v-model=\"layer.blendModes\">\n                <span>Blend pixels</span>\n              </input-checkbox>\n            </div>\n          </template>\n        </dropdown-content>\n      </div>\n    </div>\n    <div class=\"layers-group\">\n      <sub-panel-title><span v-translate>Slopes</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div v-for=\"layer of slopesLayersSelector\" :key=\"layer.title\" class=\"layer-item\">\n          <layer-button v-model=\"layer.checked\" :image=\"layer.image\" :country=\"layer.country\">\n            <span>{{ $gettext(layer.title, 'Map slopes layer') }}</span>\n          </layer-button>\n        </div>\n      </div>\n      <div class=\"layer-controls\">\n        <dropdown-content v-for=\"layer of slopesLayersSelectorChecked\" :key=\"layer.title\" class=\"mb-2\">\n          <span>\n            <fa-icon icon=\"gear\" />\n            <span>{{ $gettext(layer.title, 'Map slopes layer') }}</span>\n          </span>\n          <template #content>\n            <div class=\"layer-control-item\">\n              <slider v-model=\"layer.opacity\" :min=\"0\" :max=\"1\" :interval=\"0.01\">\n                <span v-translate>Opacity</span>\n              </slider>\n            </div>\n            <div class=\"layer-control-item\">\n              <input-checkbox v-model=\"layer.blendModes\">\n                <span>Blend pixels</span>\n              </input-checkbox>\n            </div>\n          </template>\n        </dropdown-content>\n      </div>\n    </div>\n    <div class=\"layers-group\">\n      <sub-panel-title><span v-translate>Base layers</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div\n          v-for=\"layer of baseLayersSelector\"\n          :key=\"layer.title\"\n          class=\"layer-item\"\n          :class=\"{ 'is-small': layer.small }\"\n        >\n          <layer-button\n            type=\"radio\"\n            name=\"baselayer\"\n            v-model=\"selectedBaseLayer\"\n            :model=\"layer\"\n            :image=\"layer.image\"\n            :country=\"layer.country\"\n          >\n            <span>{{ $gettext(layer.title, 'Map layer') }}</span>\n          </layer-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport LayerButton from '@/components/yeti/LayerButton';\nimport Slider from '@/components/yeti/Slider.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: {\n    DropdownContent,\n    LayerButton,\n    Slider,\n    SubPanelTitle,\n  },\n  data() {\n    return {\n      showAreasWasTrue: null,\n    };\n  },\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    baseLayersSelector() {\n      return Yetix.baseLayersSelector;\n    },\n    selectedBaseLayer: {\n      get() {\n        return this.baseLayersSelector.find((layer) => layer.checked);\n      },\n      set(layer) {\n        this.baseLayersSelector.map((layer) => (layer.checked = false));\n        layer.checked = true;\n      },\n    },\n    slopesLayersSelector() {\n      return Yetix.slopesLayersSelector;\n    },\n    slopesLayersSelectorChecked() {\n      return this.slopesLayersSelector.filter((layer) => {\n        return layer.checked;\n      });\n    },\n    overlaysLayersSelector() {\n      return Yetix.overlaysLayersSelector;\n    },\n    yetiLayersSelector() {\n      return Yetix.yetiLayersSelector;\n    },\n    yetiLayersSelectorChecked() {\n      return this.yetiLayersSelector.filter((layer) => {\n        return layer.checked && layer.opacity;\n      });\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n  },\n  watch: {\n    mapZoom() {\n      // uncheck yeti extent checkbox when zoom is reached\n      // store old state if true, and revert back when zoom is valid\n      // (good for perf because only 2 layers max will be visible instead of 4)\n      if (this.mapZoom > Yetix.BLEND_MODES_MAX_ZOOM) {\n        if (this.showAreas) {\n          this.showAreasWasTrue = this.showAreas;\n        }\n        Yetix.setShowAreas(false);\n      } else if (this.showAreasWasTrue) {\n        Yetix.setShowAreas(true);\n        this.showAreasWasTrue = null;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$width: calc(70 / 14 * 1rem);\n$height: calc(50 / 14 * 1rem);\n\n.layers-group {\n  margin-bottom: 1.5rem;\n}\n.layer-items {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, $width);\n  grid-template-rows: repeat(auto-fill, 1.429rem);\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: 1rem;\n  margin-left: 3px;\n  margin-right: 3px;\n}\n.layer-item {\n  grid-row-end: span 4;\n}\n.is-small {\n  grid-column-end: span 2;\n  grid-row-end: span 1;\n}\n.layer-controls {\n  margin-top: 1rem;\n}\n.layer-control-item {\n  margin: 0.5rem 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelLayers.vue?vue&type=template&id=354335f9&scoped=true\"\nimport script from \"./SubPanelLayers.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelLayers.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelLayers.vue?vue&type=style&index=0&id=354335f9&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"354335f9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Methods\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile yetitabs\"},_vm._l((Object.keys(_vm.methods)),function(item){return _c('div',{key:item,staticClass:\"column yetitab\"},[_c('div',{staticClass:\"control yetitab-control\",class:{ 'yetitab-control--selected': _vm.method.type === item }},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-method-' + item,\"type\":\"radio\",\"name\":\"method\",\"disabled\":item === 'mrd' ? _vm.bra.high == 4 || _vm.bra.low == 4 : false},domProps:{\"value\":item,\"checked\":item === _vm.method.type},on:{\"change\":function($event){return _vm.onChange($event, 'type')}}}),_vm._v(\" \"),_c('label',{staticClass:\"yetitab-label\",attrs:{\"for\":'c2c-method-' + item},on:{\"click\":function($event){return _vm.warnAboutMethodBra(item)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.methods[item][0])+\"\\n          \"),_c('span',{staticClass:\"is-size-7\",class:{ 'has-text-grey': item !== _vm.method.type }},[_vm._v(_vm._s(_vm.methods[item][1]))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrd'),expression:\"method.type == 'mrd'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Beginner Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\\n        important. No parameter other than the danger level is specified. Orientation is ignored.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',[_vm._m(0),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',[_vm._m(1),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(2),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(3),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high to very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mre'),expression:\"method.type == 'mre'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Elementary Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('input-orientation',{staticClass:\"has-text-centered mb-2\",attrs:{\"value\":_vm.method.orientation},on:{\"input\":function($event){return _vm.onChange($event, 'orientation')}}}),_vm._v(\" \"),(_vm.method.orientation.length != 0)?_c('info',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Orientations\")]),_vm._v(\": \"+_vm._s(_vm.method.orientation.join(', '))+\"\\n    \")]):_c('info',{attrs:{\"type\":\"warning\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No orientation selected\")])]),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\\n        critical sectors presenting an increased risk.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',{staticClass:\"multiline\"},[_vm._m(4),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Stay careful while skiing\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"risk of a rough fall on hard snow\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(5),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(6),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(7),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(8),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrp'),expression:\"method.type == 'mrp'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Professional Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\\n      \")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Hazard potential\")]),_vm._v(\" \"),_c('ul',{staticClass:\"potential-danger-labels has-text-black\"},_vm._l((_vm.potentialDangerLabels),function(label){return _c('li',{key:label.text,staticClass:\"potential-danger-label is-size-5\",attrs:{\"disabled\":!_vm.bra.high || label.text < _vm.potentialDangerOptions.min || label.text > _vm.potentialDangerOptions.max,\"selected\":_vm.method.potentialDanger == label.text},on:{\"click\":function($event){return _vm.onChange(label.text, 'potentialDanger')}}},[_c('span',{class:{ 'is-size-3 has-text-weight-bold': label.val }},[_vm._v(\"\\n          \"+_vm._s(label.text)+\"\\n        \")])])}),0),_vm._v(\" \"),(_vm.method.potentialDanger)?_c('info',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Hazard potential:\")]),_vm._v(\"\\n      \"+_vm._s(_vm.method.potentialDanger)+\"\\n      (\"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level:\")]),_vm._v(\" \"+_vm._s(_vm.bra.high)+\")\\n    \")]):_c('info',{attrs:{\"type\":\"warning\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No selected hazard potential. Set danger level first.\")])]),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\\n        selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\\n        evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\\n      \")])]),_vm._v(\" \"),_c('p',[_c('input-checkbox',{attrs:{\"value\":_vm.method.wetSnow},on:{\"input\":function($event){return _vm.onChange($event, 'wetSnow')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Wet snow: orientation not taken into account\")])])],1),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.\")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Group\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.groupSizes),function(item,i){return _c('li',{key:i,staticClass:\"control\"},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-group-size-' + i,\"type\":\"radio\",\"name\":\"groupSize\"},domProps:{\"value\":item.value,\"checked\":item.value === _vm.method.groupSize},on:{\"change\":function($event){return _vm.onChange($event, 'groupSize')}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'c2c-group-size-' + i}},[_vm._v(_vm._s(item.text))])])}),0),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Group size\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Large group = 5 people and more\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Small group = 2 to 4 people\")])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Load shedding distance\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"10 meters minimum while ascending\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"50 meters while descending\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n      The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\\n      ascertain when preparing for an outing.\\n    \")])],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Methods</span></sub-panel-title>\n    <div class=\"columns is-mobile yetitabs\">\n      <div v-for=\"item of Object.keys(methods)\" :key=\"item\" class=\"column yetitab\">\n        <div class=\"control yetitab-control\" :class=\"{ 'yetitab-control--selected': method.type === item }\">\n          <input\n            :id=\"'c2c-method-' + item\"\n            type=\"radio\"\n            name=\"method\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item\"\n            :checked=\"item === method.type\"\n            :disabled=\"item === 'mrd' ? bra.high == 4 || bra.low == 4 : false\"\n            @change=\"onChange($event, 'type')\"\n          />\n          <label :for=\"'c2c-method-' + item\" class=\"yetitab-label\" @click=\"warnAboutMethodBra(item)\">\n            {{ methods[item][0] }}\n            <span class=\"is-size-7\" :class=\"{ 'has-text-grey': item !== method.type }\">{{ methods[item][1] }}</span>\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"method.type == 'mrd'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Beginner Reduction Method</strong>\n        <span v-translate>\n          (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\n        </span>\n      </p>\n      <info type=\"help\">\n        <p v-translate>\n          As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\n          important. No parameter other than the danger level is specified. Orientation is ignored.\n        </p>\n      </info>\n\n      <table class=\"yetiform-danger\">\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 35</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high to very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mre'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Elementary Reduction Method</strong>\n        <span v-translate>\n          (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\n        </span>\n      </p>\n\n      <input-orientation\n        :value=\"method.orientation\"\n        @input=\"onChange($event, 'orientation')\"\n        class=\"has-text-centered mb-2\"\n      />\n\n      <info v-if=\"method.orientation.length != 0\">\n        <span v-translate key=\"tr1\">Orientations</span>: {{ method.orientation.join(', ') }}\n      </info>\n      <info type=\"warning\" v-else>\n        <span v-translate key=\"tr2\">No orientation selected</span>\n      </info>\n\n      <info type=\"help\">\n        <p v-translate>\n          Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\n          critical sectors presenting an increased risk.\n        </p>\n      </info>\n\n      <table class=\"yetiform-danger\">\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td>\n            <span v-translate>Stay careful while skiing</span>\n            <br />\n            <small v-translate>risk of a rough fall on hard snow</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 35</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mrp'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Professional Reduction Method</strong>\n        <span v-translate>\n          (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\n        </span>\n      </p>\n\n      <h3 class=\"title is-3\" v-translate>Hazard potential</h3>\n      <ul class=\"potential-danger-labels has-text-black\">\n        <li\n          v-for=\"label of potentialDangerLabels\"\n          :key=\"label.text\"\n          :disabled=\"!bra.high || label.text < potentialDangerOptions.min || label.text > potentialDangerOptions.max\"\n          :selected=\"method.potentialDanger == label.text\"\n          class=\"potential-danger-label is-size-5\"\n          @click=\"onChange(label.text, 'potentialDanger')\"\n        >\n          <span :class=\"{ 'is-size-3 has-text-weight-bold': label.val }\">\n            {{ label.text }}\n          </span>\n        </li>\n      </ul>\n\n      <info v-if=\"method.potentialDanger\">\n        <span v-translate key=\"tr1\">Hazard potential:</span>\n        {{ method.potentialDanger }}\n        (<span v-translate>Danger level:</span> {{ bra.high }})\n      </info>\n      <info type=\"warning\" v-else>\n        <span v-translate key=\"tr2\">No selected hazard potential. Set danger level first.</span>\n      </info>\n\n      <info type=\"help\">\n        <p v-translate>\n          The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\n          selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\n          evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\n        </p>\n      </info>\n\n      <p>\n        <input-checkbox :value=\"method.wetSnow\" @input=\"onChange($event, 'wetSnow')\">\n          <span v-translate>Wet snow: orientation not taken into account</span>\n        </input-checkbox>\n      </p>\n\n      <info type=\"help\">\n        <p v-translate>Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.</p>\n      </info>\n\n      <h3 class=\"title is-3\" v-translate>Group</h3>\n\n      <ul>\n        <li class=\"control\" v-for=\"(item, i) of groupSizes\" :key=\"i\">\n          <input\n            :id=\"'c2c-group-size-' + i\"\n            type=\"radio\"\n            name=\"groupSize\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item.value\"\n            :checked=\"item.value === method.groupSize\"\n            @change=\"onChange($event, 'groupSize')\"\n          />\n          <label :for=\"'c2c-group-size-' + i\">{{ item.text }}</label>\n        </li>\n      </ul>\n\n      <info type=\"help\">\n        <p v-translate>Group size</p>\n        <ul class=\"content-ul\">\n          <li v-translate>Large group = 5 people and more</li>\n          <li v-translate>Small group = 2 to 4 people</li>\n        </ul>\n        <p v-translate>Load shedding distance</p>\n        <ul class=\"content-ul\">\n          <li v-translate>10 meters minimum while ascending</li>\n          <li v-translate>50 meters while descending</li>\n        </ul>\n      </info>\n\n      <p v-translate>\n        The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\n        ascertain when preparing for an outing.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Info from '@/components/yeti/Info.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nconst DANGER = {\n  min: 1,\n  max: 16,\n  bra: [\n    { min: 1, max: 2, val: 2 },\n    { min: 3, max: 6, val: 4 },\n    { min: 6, max: 12, val: 8 },\n    { min: 13, max: 16, val: 16 },\n  ],\n};\n\nexport default {\n  components: { Info, SubPanelTitle },\n  data() {\n    return {\n      methods: {\n        mrd: ['MRD', this.$gettext('Beginner')],\n        mre: ['MRE', this.$gettext('Elementary')],\n        mrp: ['MRP', this.$gettext('Expert')],\n      },\n      groupSizes: [\n        {\n          value: 1,\n          text: this.$gettext('No reduction factor'),\n        },\n        {\n          value: 2.1,\n          text: this.$gettext('Large group with load shedding distance'),\n        },\n        {\n          value: 2.2,\n          text: this.$gettext('Small group without distance'),\n        },\n        {\n          value: 3,\n          text: this.$gettext('Small group with load shedding distance'),\n        },\n      ],\n    };\n  },\n  computed: {\n    bra() {\n      return Yetix.bra;\n    },\n    method() {\n      return Yetix.method;\n    },\n    potentialDangerLabels() {\n      const result = [];\n      for (let i = DANGER.min; i <= DANGER.max; i++) {\n        const data = { text: i };\n        if (i === 2 || i === 4 || i === 8 || i === 16) {\n          data.val = i;\n        }\n        result.push(data);\n      }\n\n      return result;\n    },\n    potentialDangerOptions() {\n      if (!this.bra.high) {\n        return { val: undefined, min: 1, max: 16 };\n      }\n\n      return DANGER.bra[this.bra.high - 1];\n    },\n  },\n  watch: {\n    'bra.high': 'onBraChange',\n  },\n  methods: {\n    onChange(event, prop) {\n      let value = null;\n      if (prop === 'orientation' || prop === 'wetSnow' || prop === 'potentialDanger') {\n        value = event;\n      } else {\n        value = event.target.value;\n      }\n      Yetix.setMethod(prop, value);\n    },\n    warnAboutMethodBra(item) {\n      this.$emit('warn-about-method-bra', item);\n    },\n    onBraChange() {\n      this.onChange(this.potentialDangerOptions.val, 'potentialDanger');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\np:not(:last-child),\nul:not(:last-child),\ntable:not(:last-child) {\n  margin-bottom: 1rem;\n}\n\n.yetiform-danger {\n  width: 100%;\n  table-layout: fixed;\n  color: $dark;\n\n  tr + tr {\n    border-top: 1px solid $grey-lighter;\n  }\n\n  td {\n    vertical-align: middle;\n    height: 45px;\n  }\n\n  .multiline td {\n    vertical-align: baseline;\n  }\n\n  td:first-child {\n    width: 60px;\n  }\n\n  td:first-child + td {\n    width: 40%;\n  }\n\n  td img {\n    vertical-align: -12px;\n    height: 35px;\n  }\n}\n\n.yetitabs {\n  margin: 0;\n  padding: 0.75rem 0;\n}\n\n.yetitab {\n  padding: 0;\n}\n\n.yetitab-control {\n  .yetitab-label {\n    display: block;\n    margin: 0;\n    padding: 0.25rem;\n    padding-left: 2rem;\n    border: 1px solid transparent;\n    border-radius: 4px;\n\n    &:hover,\n    &:focus {\n      border-color: $grey-lighter;\n    }\n\n    &.yetitab-label:before {\n      top: 0.25rem !important;\n      left: 0.25rem !important;\n    }\n    &.yetitab-label:after {\n      top: 0.75rem !important;\n      left: 0.75rem !important;\n    }\n  }\n}\n\n.yetitab-control--selected {\n  .yetitab-label {\n    color: $primary;\n    border-color: $primary;\n\n    &:hover,\n    &:focus {\n      border-color: $primary;\n    }\n  }\n}\n\n@media screen and (max-width: 490px),\n  screen and (min-width: $tablet) and (max-width: 970px),\n  screen and (min-width: $desktop) and (max-width: 1180px),\n  screen and (min-width: $widescreen) and (max-width: 1370px),\n  screen and (min-width: $fullhd) and (max-width: 1650px) {\n  .yetitabs {\n    flex-wrap: wrap;\n  }\n  .yetitab {\n    flex: 0 0 50%;\n  }\n  .yetiform-danger {\n    tr,\n    td {\n      display: block;\n    }\n    tr {\n      padding: 0.5em 0;\n    }\n    td:first-child {\n      float: left;\n    }\n    td:first-child ~ td {\n      height: auto;\n      width: calc(100% - 60px);\n      margin-left: 60px;\n    }\n  }\n}\n\n.potential-danger-labels {\n  display: flex;\n  align-items: stretch;\n  user-select: none;\n  background: linear-gradient(\n    to right,\n    #bfe12b,\n    #bfe12b 12%,\n    #fff200 20%,\n    #fff200 32%,\n    #f68712 40%,\n    #f68712 72%,\n    #ed1c24 80%,\n    #ed1c24 95%,\n    #c01a2c\n  );\n\n  .potential-danger-label {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1 1 20px;\n    text-align: center;\n    border: 3px solid transparent;\n\n    &[disabled] {\n      cursor: not-allowed;\n      pointer-events: none;\n      background-color: rgba(255, 255, 255, 0.8);\n      color: grey;\n    }\n\n    &[selected] {\n      border-color: black;\n    }\n  }\n}\n</style>\n","var render, staticRenderFns\nimport script from \"./BaseLayers.vue?vue&type=script&lang=js\"\nexport * from \"./BaseLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./SlopesLayers.vue?vue&type=script&lang=js\"\nexport * from \"./SlopesLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelMethods.vue?vue&type=template&id=df4fbf92&scoped=true\"\nimport script from \"./SubPanelMethods.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelMethods.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelMethods.vue?vue&type=style&index=0&id=df4fbf92&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df4fbf92\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column pb-0 mb-0 tabs is-boxed yetitabs\"},[_c('ul',{attrs:{\"role\":\"tablist\"}},_vm._l((_vm.tabs),function(tab,i){return _c('li',{key:tab.name,class:{ 'is-active': _vm.activeTab === i },attrs:{\"role\":\"presentation\"}},[_c('a',{ref:\"tab\",refInFor:true,staticClass:\"yetitabs-link\",attrs:{\"role\":\"tab\",\"href\":'#panel' + i,\"id\":'tab' + i,\"aria-selected\":_vm.activeTab === i,\"tabindex\":_vm.activeTab === i ? false : -1,\"title\":tab.title},on:{\"click\":function($event){$event.preventDefault();return _vm.setActiveTab(i)},\"keydown\":function($event){return _vm.setActiveTabKeyboard($event, i)}}},[_c('fa-icon',{attrs:{\"icon\":tab.icon}}),_vm._v(\" \"),(tab.name)?_c('span',{staticClass:\"ml-1\"},[_vm._v(_vm._s(tab.name))]):_c('span',[_vm._v(\"\")]),_vm._v(\" \"),(tab.counter)?_c('counter',{attrs:{\"is-primary\":\"\",\"title\":tab.counter.title}},[_vm._v(\"\\n          \"+_vm._s(tab.counter.text)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(tab.problemIcon)?_c('fa-icon',{staticClass:\"has-text-danger ml-1\",attrs:{\"icon\":\"exclamation-circle\",\"title\":tab.problemIcon.title}}):_vm._e()],1)])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"column pb-0 mb-0 tabs is-boxed yetitabs\">\n    <ul role=\"tablist\">\n      <li v-for=\"(tab, i) in tabs\" role=\"presentation\" :key=\"tab.name\" :class=\"{ 'is-active': activeTab === i }\">\n        <a\n          class=\"yetitabs-link\"\n          role=\"tab\"\n          :href=\"'#panel' + i\"\n          :id=\"'tab' + i\"\n          ref=\"tab\"\n          :aria-selected=\"activeTab === i\"\n          :tabindex=\"activeTab === i ? false : -1\"\n          :title=\"tab.title\"\n          @click.prevent=\"setActiveTab(i)\"\n          @keydown=\"setActiveTabKeyboard($event, i)\"\n        >\n          <fa-icon :icon=\"tab.icon\" />\n          <span v-if=\"tab.name\" class=\"ml-1\">{{ tab.name }}</span>\n          <span v-else>&ZeroWidthSpace;</span>\n          <counter v-if=\"tab.counter\" is-primary :title=\"tab.counter.title\">\n            {{ tab.counter.text }}\n          </counter>\n          <fa-icon\n            v-if=\"tab.problemIcon\"\n            icon=\"exclamation-circle\"\n            class=\"has-text-danger ml-1\"\n            :title=\"tab.problemIcon.title\"\n          />\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: {\n    Counter,\n  },\n  props: {\n    tabs: {\n      type: Array,\n      required: true,\n    },\n  },\n  computed: {\n    activeTab() {\n      return Yetix.activeTab;\n    },\n  },\n  watch: {\n    activeTab(index) {\n      // focus active tab\n      this.$refs.tab[index].focus();\n    },\n  },\n  methods: {\n    setActiveTab(index) {\n      Yetix.setActiveTab(index);\n    },\n    setActiveTabKeyboard(event, index) {\n      // Set arrow keys: left/right = switch active tabs / down = focus panel\n      const ARROW_LEFT = 37;\n      const ARROW_RIGHT = 39;\n      const ARROW_DOWN = 40;\n      let dir =\n        event.which === ARROW_LEFT\n          ? index - 1\n          : event.which === ARROW_RIGHT\n          ? index + 1\n          : event.which === ARROW_DOWN\n          ? 'down'\n          : null;\n\n      if (dir !== null) {\n        event.preventDefault();\n\n        // If the down key is pressed, move focus to the open panel,\n        // otherwise switch to the adjacent tab\n        dir === 'down'\n          ? this.$parent.$refs['panel' + index].$el.focus()\n          : this.tabs[dir]\n          ? this.setActiveTab(dir)\n          : void 0;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yetitabs {\n  margin: 0 0 0 -1px !important;\n  overflow: visible;\n\n  &-link {\n    font-size: 0.9em;\n    padding: 0.25em 1em;\n  }\n\n  li,\n  a {\n    height: 100%;\n    outline: none;\n  }\n\n  li {\n    margin-right: 1px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=b23ffb6c&scoped=true\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=b23ffb6c&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b23ffb6c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column has-text-right\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading,\"tabindex\":_vm.tabindex},on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._v(\"\\n      Compute risk\\n    \")]),_vm._v(\" \"),(_vm.currentError)?_c('div',{staticClass:\"info\"},[_c('info',{attrs:{\"inline\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.currentError))])])],1):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"columns\">\n    <div class=\"column has-text-right\">\n      <button\n        class=\"button is-primary\"\n        :class=\"{ 'is-loading': loading }\"\n        :disabled=\"loading\"\n        :tabindex=\"tabindex\"\n        @click=\"$emit('click')\"\n        v-translate\n      >\n        Compute risk\n      </button>\n      <div v-if=\"currentError\" class=\"info\">\n        <info inline>\n          <span>{{ currentError }}</span>\n        </info>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Info from '@/components/yeti/Info.vue';\n\nexport default {\n  components: { Info },\n  props: {\n    currentError: {\n      type: String,\n      default: '',\n    },\n    loading: {\n      type: [Promise, Object],\n      default: null,\n    },\n    tabindex: {\n      type: String,\n      default: '0',\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.info {\n  margin-top: 0.25rem;\n  margin-right: -0.75rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ValidationButton.vue?vue&type=template&id=2ac8c7c9&scoped=true\"\nimport script from \"./ValidationButton.vue?vue&type=script&lang=js\"\nexport * from \"./ValidationButton.vue?vue&type=script&lang=js\"\nimport style0 from \"./ValidationButton.vue?vue&type=style&index=0&id=2ac8c7c9&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ac8c7c9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column map-container\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('yeti-map-legend'),_vm._v(\" \"),_c('div',{ref:\"map\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}}),_vm._v(\" \"),_c('map-layers'),_vm._v(\" \"),_c('yeti-layers'),_vm._v(\" \"),_c('overlays-layers'),_vm._v(\" \"),_c('route-layer'),_vm._v(\" \"),_c('div',{ref:\"layerSwitcherButton\",staticClass:\"ol-control ol-control-layer-switcher-button\",attrs:{\"title\":_vm.$gettext('Layers', 'Map controls')}},[_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.activeLayersTab.apply(null, arguments)}}},[_c('fa-icon',{attrs:{\"icon\":\"layer-group\",\"width\":\"100%\"}})],1)]),_vm._v(\" \"),_c('div',{ref:\"recenterOnControl\",staticClass:\"ol-control ol-control-recenter-on\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$gettext('Recenter on...')},on:{\"input\":_vm.searchRecenterPropositions}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRecenterOnPropositions),expression:\"showRecenterOnPropositions\"}],ref:\"recenterOnPropositions\",staticClass:\"ol-control ol-control-recenter-on-propositions\"},[(_vm.recenterPropositions && _vm.recenterPropositions.data && _vm.recenterPropositions.data.features)?_c('ul',_vm._l((_vm.recenterPropositions.data.features),function(item,i){return _c('li',{key:i,on:{\"click\":function($event){return _vm.recenterOn(item)}}},[_vm._v(\"\\n          \"+_vm._s(item.properties.name)+\",\\n          \"),_c('small',[_vm._v(_vm._s(item.properties.state)+\", \"+_vm._s(item.properties.country))])])}),0):_vm._e()]),_vm._v(\" \"),_c('div',{ref:\"centerOnGeolocation\",staticClass:\"ol-control ol-control-center-on-geolocation\",attrs:{\"title\":_vm.$gettext('Recenter on your current position')}},[_c('button',{on:{\"click\":_vm.activateCenterOnGeolocation}},[_c('fa-icon',{attrs:{\"icon\":\"bullseye\"}})],1)]),_vm._v(\" \"),_c('div',{ref:\"editMode\"},[_c('edit-mode-button')],1)],1),_vm._v(\" \"),_c('toast',{ref:\"toast-layer\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Layers have moved\")])]},proxy:true}])},[_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Now on the left, on the Layers tab\")]),_vm._v(\" \"),_c('fa-icon',{attrs:{\"icon\":\"layer-group\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('base-layers',{on:{\"layers\":_vm.onBaseLayers}}),_vm._v(\" \"),_c('slopes-layers',{on:{\"layers\":_vm.onSlopesLayers}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ol from '@/js/libs/ol';\n\nexport default {\n  computed: {\n    map() {\n      // store parent map\n      return this.$parent.map || this.$parent.$parent.map;\n    },\n    view() {\n      return this.map.getView();\n    },\n  },\n  methods: {\n    getExtent(projection) {\n      return this.$parent.getExtent(projection);\n    },\n    getFeaturesFromData(data) {\n      let features = data.data;\n      // read geoJSON, and project to 3857 (geoJSON is 4326 by default)\n      return new ol.format.GeoJSON().readFeatures(features, { featureProjection: 'EPSG:3857' });\n    },\n    getPropertiesFromFeatures(features) {\n      return features.map((feature) => {\n        return feature.getProperties();\n      });\n    },\n  },\n};\n","<script>\nimport { cartoLayers } from '@/components/map/map-layers';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    baseLayersSelector() {\n      return Yetix.baseLayersSelector;\n    },\n  },\n  watch: {\n    baseLayersSelector: {\n      handler(layers) {\n        this.baseLayers.map((layer, i) => layer.setVisible(layers[i].checked));\n      },\n      deep: true,\n    },\n  },\n  created() {\n    this.baseLayers = cartoLayers();\n\n    // filter UK (remove)\n    this.baseLayers = this.baseLayers.filter((layer) => {\n      return layer.get('country') !== 'gb';\n    });\n\n    this.baseLayers = this.baseLayers.map((layer) => {\n      // set maxzoom to 16 for IGN maps\n      if (layer.get('title') === 'IGN maps') {\n        layer.getSource().tileGrid.maxZoom = 16;\n      }\n      // disable animation on load\n      layer.getSource().tileOptions.transition = 0;\n\n      return layer;\n    });\n\n    // create layers selector\n    let baseLayersSelector = this.baseLayers.map((layer) => {\n      return {\n        title: layer.get('title'),\n        checked: layer.get('visible'),\n        opacity: layer.getOpacity(),\n        image: layer.get('image'),\n        country: layer.get('country'),\n      };\n    });\n\n    Yetix.setBaseLayersSelector(baseLayersSelector);\n  },\n  mounted() {\n    // emit new layers\n    this.$emit('layers', this.baseLayers);\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./BaseLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./BaseLayers.vue?vue&type=script&lang=js\"","<script>\nimport { dataLayers } from '@/components/map/map-layers';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    slopesLayersSelector() {\n      return Yetix.slopesLayersSelector;\n    },\n  },\n  watch: {\n    slopesLayersSelector: {\n      handler(layers) {\n        layers.map((layer, index) => {\n          let slopeLayer = this.slopesLayers[index];\n          this.setVisible(slopeLayer, layer.checked);\n          this.setLayerOpacity(slopeLayer, layer.opacity);\n          this.setLayerBlendModes(slopeLayer, layer.blendModes);\n        });\n      },\n      deep: true,\n    },\n  },\n  created() {\n    this.slopesLayers = dataLayers();\n\n    // set our style\n    this.slopesLayers = this.slopesLayers.map((layer) => {\n      return this.setBlendModes(layer);\n    });\n\n    let slopesLayersSelector = this.slopesLayers.map((layer) => {\n      return {\n        title: layer.get('title'),\n        checked: false,\n        opacity: layer.getOpacity(),\n        blendModes: true,\n        image: layer.get('image'),\n        country: layer.get('country'),\n      };\n    });\n\n    Yetix.setSlopesLayersSelector(slopesLayersSelector);\n  },\n  mounted() {\n    // emit new layers\n    this.$emit('layers', this.slopesLayers);\n  },\n  methods: {\n    setVisible(layer, visible) {\n      layer.setVisible(visible);\n    },\n    setLayerOpacity(layer, opacity) {\n      layer.setOpacity(opacity);\n    },\n    setLayerBlendModes(layer, isBlend) {\n      layer.on('prerender', (evt) => {\n        evt.context.globalCompositeOperation = isBlend ? 'multiply' : 'source-over';\n      });\n      // force re-render\n      layer.setOpacity(layer.getOpacity() + 0.01);\n    },\n    setBlendModes(layer) {\n      layer.setOpacity(0.9);\n      layer.on('prerender', (evt) => {\n        evt.context.globalCompositeOperation = 'multiply';\n      });\n      layer.on('postrender', (evt) => {\n        evt.context.globalCompositeOperation = 'source-over';\n      });\n      return layer;\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SlopesLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SlopesLayers.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <base-layers @layers=\"onBaseLayers\"></base-layers>\n    <slopes-layers @layers=\"onSlopesLayers\"></slopes-layers>\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport BaseLayers from '@/components/yeti/map-layers/BaseLayers';\nimport SlopesLayers from '@/components/yeti/map-layers/SlopesLayers';\n\nexport default {\n  components: {\n    BaseLayers,\n    SlopesLayers,\n  },\n  mixins: [layerMixin],\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n  },\n  watch: {\n    showAreas() {\n      this.updateCartoLayersOpacity();\n    },\n  },\n  created() {\n    this.baseLayers = [];\n    this.slopesLayers = [];\n  },\n  mounted() {\n    Yetix.$on('mapMoveEnd', this.onMapMoveEnd);\n  },\n  methods: {\n    onBaseLayers(baseLayers) {\n      this.baseLayers = baseLayers;\n      baseLayers.map((layer) => this.map.addLayer(layer));\n    },\n    onSlopesLayers(slopesLayers) {\n      this.slopesLayers = slopesLayers;\n      slopesLayers.map((layer) => this.map.addLayer(layer));\n    },\n    onMapMoveEnd() {\n      // if Yeti extent is here, update (on zooming for example)\n      if (this.showAreas) {\n        this.updateCartoLayersOpacity();\n      }\n    },\n    updateCartoLayersOpacity() {\n      const MIN_ZOOM = Yetix.BLEND_MODES_MIN_ZOOM;\n      const MAX_ZOOM = Yetix.BLEND_MODES_MAX_ZOOM;\n      const MIN_OPACITY = 0.25;\n      const MAX_OPACITY = 1;\n      const DELTA_OPACITY = MAX_OPACITY - MIN_OPACITY;\n\n      let opacity = MIN_OPACITY;\n      // opacity should increase gradually between min and max zooms\n      if (this.mapZoom >= MIN_ZOOM && this.mapZoom <= MAX_ZOOM) {\n        // opacity is between 1 and 0\n        opacity = (MAX_ZOOM - this.mapZoom) * (MAX_OPACITY / (MAX_ZOOM - MIN_ZOOM));\n        // map value to min/max opacity\n        opacity = Math.abs(1 - opacity) * DELTA_OPACITY + MIN_OPACITY;\n      } else if (this.mapZoom > MAX_ZOOM) {\n        opacity = MAX_OPACITY;\n      }\n\n      // for each carto layers, set opacity if yeti extent is shown\n      this.baseLayers.forEach((layer) => {\n        layer.setOpacity(this.showAreas ? opacity : 1);\n      });\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./MapLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./MapLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MapLayers.vue?vue&type=template&id=c784b39c\"\nimport script from \"./MapLayers.vue?vue&type=script&lang=js\"\nexport * from \"./MapLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('winter-route-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 1)}}}),_vm._v(\" \"),_c('avalanche-bulletins-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 0)}}}),_vm._v(\" \"),_c('data-avalanche-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 5)}}}),_vm._v(\" \"),_c('flowcapt-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 4)}}}),_vm._v(\" \"),_c('nivoses-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 2)}}}),_vm._v(\" \"),_c('romma-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 3)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"bulletinsOverlay\",staticClass:\"bulletins-overlay\"},[_c('button',{staticClass:\"delete is-small button-close\",on:{\"click\":_vm.closeOverlay}},[_vm._v(\"x\")]),_vm._v(\" \"),_c('div',{staticClass:\"bulletins-header pb-3 has-text-centered\"},[_c('p',{staticClass:\"title is-5 mb-1\"},[_vm._v(\"\\n      \"+_vm._s(_vm.overlayData.mountainName)+\"\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"title is-7 country-name\"},[_vm._v(\"\\n      \"+_vm._s(_vm.overlayData.country)+\"\\n    \")]),_vm._v(\" \"),(_vm.overlayData.fullName)?_c('dl',{staticClass:\"is-size-7 px-3 has-text-left is-italic regions-list\"},[_c('dt',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Regions:\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.overlayData.fullName))])]):_vm._e()]),_vm._v(\" \"),(_vm.overlayData.danger.low)?_c('div',{staticClass:\"py-2\"},[_c('p',{staticClass:\"is-size-7 px-3 pb-5\"},[_c('span',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Validity date:\")]),_vm._v(\" \"+_vm._s(_vm.overlayValidUntil))]),_vm._v(\" \"),(_vm.overlayValidUntilExpired)?_c('strong',{staticClass:\"is-block has-text-danger\"},[_c('fa-icon',{attrs:{\"icon\":\"exclamation-circle\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"id1\"},[_vm._v(\"Validity date expired\")])],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-space-around is-align-items-center px-3\"},[_c('danger-level',{attrs:{\"danger\":_vm.overlayData.danger}}),_vm._v(\" \"),_c('input-orientation',{attrs:{\"disabled\":\"\",\"value\":_vm.overlayOrientations}})],1),_vm._v(\" \"),(_vm.overlayDangerComment || _vm.overlayOrientationsComment)?_c('dl',{staticClass:\"is-size-6 px-3 pt-3\"},[(_vm.overlayDangerComment)?[_c('dt',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger:\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.overlayDangerComment))])]:_vm._e(),_vm._v(\" \"),(_vm.overlayOrientationsComment)?[_c('dt',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Orientations:\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.overlayOrientationsComment))])]:_vm._e()],2):_vm._e()]):_c('div',{staticClass:\"py-2\"},[_c('p',{staticClass:\"is-size-6 p-3\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"id2\"},[_vm._v(\"No avalanche bulletin right now\")])])]),_vm._v(\" \"),(_vm.overlayData.urls.length)?_c('div',{staticClass:\"is-size-7 px-3 pt-2 pb-2 bulletins-footer\"},_vm._l((_vm.overlayData.urls),function(url,i){return _c('p',{key:i},[_c('strong',[_vm._v(\"\"+_vm._s(url.title))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":url.url,\"target\":\"_blank\"}},[_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Full bulletin\")])],1)])}),0):_vm._e(),_vm._v(\" \"),_c('img',{staticClass:\"bulletins-overlay-danger-icon\",attrs:{\"src\":_vm.overlayDangerIcon,\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// lib/geojson-equality.ts\nimport equal from \"deep-equal\";\nvar _GeojsonEquality = class _GeojsonEquality {\n  constructor(opts) {\n    this.direction = false;\n    this.compareProperties = true;\n    var _a, _b, _c;\n    this.precision = 10 ** -((_a = opts == null ? void 0 : opts.precision) != null ? _a : 17);\n    this.direction = (_b = opts == null ? void 0 : opts.direction) != null ? _b : false;\n    this.compareProperties = (_c = opts == null ? void 0 : opts.compareProperties) != null ? _c : true;\n  }\n  compare(g1, g2) {\n    if (g1.type !== g2.type) {\n      return false;\n    }\n    if (!sameLength(g1, g2)) {\n      return false;\n    }\n    switch (g1.type) {\n      case \"Point\":\n        return this.compareCoord(g1.coordinates, g2.coordinates);\n      case \"LineString\":\n        return this.compareLine(g1.coordinates, g2.coordinates);\n      case \"Polygon\":\n        return this.comparePolygon(g1, g2);\n      case \"GeometryCollection\":\n        return this.compareGeometryCollection(g1, g2);\n      case \"Feature\":\n        return this.compareFeature(g1, g2);\n      case \"FeatureCollection\":\n        return this.compareFeatureCollection(g1, g2);\n      default:\n        if (g1.type.startsWith(\"Multi\")) {\n          const g1s = explode(g1);\n          const g2s = explode(\n            g2\n          );\n          return g1s.every(\n            (g1part) => g2s.some((g2part) => this.compare(g1part, g2part))\n          );\n        }\n    }\n    return false;\n  }\n  compareCoord(c1, c2) {\n    return c1.length === c2.length && c1.every((c, i) => Math.abs(c - c2[i]) < this.precision);\n  }\n  compareLine(path1, path2, ind = 0, isPoly = false) {\n    if (!sameLength(path1, path2)) {\n      return false;\n    }\n    const p1 = path1;\n    let p2 = path2;\n    if (isPoly && !this.compareCoord(p1[0], p2[0])) {\n      const startIndex = this.fixStartIndex(p2, p1);\n      if (!startIndex) {\n        return false;\n      } else {\n        p2 = startIndex;\n      }\n    }\n    const sameDirection = this.compareCoord(p1[ind], p2[ind]);\n    if (this.direction || sameDirection) {\n      return this.comparePath(p1, p2);\n    } else {\n      if (this.compareCoord(p1[ind], p2[p2.length - (1 + ind)])) {\n        return this.comparePath(p1.slice().reverse(), p2);\n      }\n      return false;\n    }\n  }\n  fixStartIndex(sourcePath, targetPath) {\n    let correctPath, ind = -1;\n    for (let i = 0; i < sourcePath.length; i++) {\n      if (this.compareCoord(sourcePath[i], targetPath[0])) {\n        ind = i;\n        break;\n      }\n    }\n    if (ind >= 0) {\n      correctPath = [].concat(\n        sourcePath.slice(ind, sourcePath.length),\n        sourcePath.slice(1, ind + 1)\n      );\n    }\n    return correctPath;\n  }\n  comparePath(p1, p2) {\n    return p1.every((c, i) => this.compareCoord(c, p2[i]));\n  }\n  comparePolygon(g1, g2) {\n    if (this.compareLine(g1.coordinates[0], g2.coordinates[0], 1, true)) {\n      const holes1 = g1.coordinates.slice(1, g1.coordinates.length);\n      const holes2 = g2.coordinates.slice(1, g2.coordinates.length);\n      return holes1.every(\n        (h1) => holes2.some((h2) => this.compareLine(h1, h2, 1, true))\n      );\n    }\n    return false;\n  }\n  compareGeometryCollection(g1, g2) {\n    return sameLength(g1.geometries, g2.geometries) && this.compareBBox(g1, g2) && g1.geometries.every((g, i) => this.compare(g, g2.geometries[i]));\n  }\n  compareFeature(g1, g2) {\n    return g1.id === g2.id && (this.compareProperties ? equal(g1.properties, g2.properties) : true) && this.compareBBox(g1, g2) && this.compare(g1.geometry, g2.geometry);\n  }\n  compareFeatureCollection(g1, g2) {\n    return sameLength(g1.features, g2.features) && this.compareBBox(g1, g2) && g1.features.every((f, i) => this.compare(f, g2.features[i]));\n  }\n  compareBBox(g1, g2) {\n    return Boolean(!g1.bbox && !g2.bbox) || (g1.bbox && g2.bbox ? this.compareCoord(g1.bbox, g2.bbox) : false);\n  }\n};\n__name(_GeojsonEquality, \"GeojsonEquality\");\nvar GeojsonEquality = _GeojsonEquality;\nfunction sameLength(g1, g2) {\n  return g1.coordinates ? g1.coordinates.length === g2.coordinates.length : g1.length === g2.length;\n}\n__name(sameLength, \"sameLength\");\nfunction explode(g) {\n  return g.coordinates.map((part) => ({\n    type: g.type.replace(\"Multi\", \"\"),\n    coordinates: part\n  }));\n}\n__name(explode, \"explode\");\n\n// index.ts\nvar earthRadius = 63710088e-1;\nvar factors = {\n  centimeters: earthRadius * 100,\n  centimetres: earthRadius * 100,\n  degrees: 360 / (2 * Math.PI),\n  feet: earthRadius * 3.28084,\n  inches: earthRadius * 39.37,\n  kilometers: earthRadius / 1e3,\n  kilometres: earthRadius / 1e3,\n  meters: earthRadius,\n  metres: earthRadius,\n  miles: earthRadius / 1609.344,\n  millimeters: earthRadius * 1e3,\n  millimetres: earthRadius * 1e3,\n  nauticalmiles: earthRadius / 1852,\n  radians: 1,\n  yards: earthRadius * 1.0936\n};\nvar areaFactors = {\n  acres: 247105e-9,\n  centimeters: 1e4,\n  centimetres: 1e4,\n  feet: 10.763910417,\n  hectares: 1e-4,\n  inches: 1550.003100006,\n  kilometers: 1e-6,\n  kilometres: 1e-6,\n  meters: 1,\n  metres: 1,\n  miles: 386e-9,\n  nauticalmiles: 29155334959812285e-23,\n  millimeters: 1e6,\n  millimetres: 1e6,\n  yards: 1.195990046\n};\nfunction feature(geom, properties, options = {}) {\n  const feat = { type: \"Feature\" };\n  if (options.id === 0 || options.id) {\n    feat.id = options.id;\n  }\n  if (options.bbox) {\n    feat.bbox = options.bbox;\n  }\n  feat.properties = properties || {};\n  feat.geometry = geom;\n  return feat;\n}\n__name(feature, \"feature\");\nfunction geometry(type, coordinates, _options = {}) {\n  switch (type) {\n    case \"Point\":\n      return point(coordinates).geometry;\n    case \"LineString\":\n      return lineString(coordinates).geometry;\n    case \"Polygon\":\n      return polygon(coordinates).geometry;\n    case \"MultiPoint\":\n      return multiPoint(coordinates).geometry;\n    case \"MultiLineString\":\n      return multiLineString(coordinates).geometry;\n    case \"MultiPolygon\":\n      return multiPolygon(coordinates).geometry;\n    default:\n      throw new Error(type + \" is invalid\");\n  }\n}\n__name(geometry, \"geometry\");\nfunction point(coordinates, properties, options = {}) {\n  if (!coordinates) {\n    throw new Error(\"coordinates is required\");\n  }\n  if (!Array.isArray(coordinates)) {\n    throw new Error(\"coordinates must be an Array\");\n  }\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be at least 2 numbers long\");\n  }\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n    throw new Error(\"coordinates must contain numbers\");\n  }\n  const geom = {\n    type: \"Point\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(point, \"point\");\nfunction points(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return point(coords, properties);\n    }),\n    options\n  );\n}\n__name(points, \"points\");\nfunction polygon(coordinates, properties, options = {}) {\n  for (const ring of coordinates) {\n    if (ring.length < 4) {\n      throw new Error(\n        \"Each LinearRing of a Polygon must have 4 or more Positions.\"\n      );\n    }\n    if (ring[ring.length - 1].length !== ring[0].length) {\n      throw new Error(\"First and last Position are not equivalent.\");\n    }\n    for (let j = 0; j < ring[ring.length - 1].length; j++) {\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\n        throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n  }\n  const geom = {\n    type: \"Polygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(polygon, \"polygon\");\nfunction polygons(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return polygon(coords, properties);\n    }),\n    options\n  );\n}\n__name(polygons, \"polygons\");\nfunction lineString(coordinates, properties, options = {}) {\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be an array of two or more positions\");\n  }\n  const geom = {\n    type: \"LineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(lineString, \"lineString\");\nfunction lineStrings(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return lineString(coords, properties);\n    }),\n    options\n  );\n}\n__name(lineStrings, \"lineStrings\");\nfunction featureCollection(features, options = {}) {\n  const fc = { type: \"FeatureCollection\" };\n  if (options.id) {\n    fc.id = options.id;\n  }\n  if (options.bbox) {\n    fc.bbox = options.bbox;\n  }\n  fc.features = features;\n  return fc;\n}\n__name(featureCollection, \"featureCollection\");\nfunction multiLineString(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiLineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(multiLineString, \"multiLineString\");\nfunction multiPoint(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPoint\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(multiPoint, \"multiPoint\");\nfunction multiPolygon(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPolygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(multiPolygon, \"multiPolygon\");\nfunction geometryCollection(geometries, properties, options = {}) {\n  const geom = {\n    type: \"GeometryCollection\",\n    geometries\n  };\n  return feature(geom, properties, options);\n}\n__name(geometryCollection, \"geometryCollection\");\nfunction round(num, precision = 0) {\n  if (precision && !(precision >= 0)) {\n    throw new Error(\"precision must be a positive number\");\n  }\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(num * multiplier) / multiplier;\n}\n__name(round, \"round\");\nfunction radiansToLength(radians, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return radians * factor;\n}\n__name(radiansToLength, \"radiansToLength\");\nfunction lengthToRadians(distance, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return distance / factor;\n}\n__name(lengthToRadians, \"lengthToRadians\");\nfunction lengthToDegrees(distance, units) {\n  return radiansToDegrees(lengthToRadians(distance, units));\n}\n__name(lengthToDegrees, \"lengthToDegrees\");\nfunction bearingToAzimuth(bearing) {\n  let angle = bearing % 360;\n  if (angle < 0) {\n    angle += 360;\n  }\n  return angle;\n}\n__name(bearingToAzimuth, \"bearingToAzimuth\");\nfunction radiansToDegrees(radians) {\n  const degrees = radians % (2 * Math.PI);\n  return degrees * 180 / Math.PI;\n}\n__name(radiansToDegrees, \"radiansToDegrees\");\nfunction degreesToRadians(degrees) {\n  const radians = degrees % 360;\n  return radians * Math.PI / 180;\n}\n__name(degreesToRadians, \"degreesToRadians\");\nfunction convertLength(length, originalUnit = \"kilometers\", finalUnit = \"kilometers\") {\n  if (!(length >= 0)) {\n    throw new Error(\"length must be a positive number\");\n  }\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n__name(convertLength, \"convertLength\");\nfunction convertArea(area, originalUnit = \"meters\", finalUnit = \"kilometers\") {\n  if (!(area >= 0)) {\n    throw new Error(\"area must be a positive number\");\n  }\n  const startFactor = areaFactors[originalUnit];\n  if (!startFactor) {\n    throw new Error(\"invalid original units\");\n  }\n  const finalFactor = areaFactors[finalUnit];\n  if (!finalFactor) {\n    throw new Error(\"invalid final units\");\n  }\n  return area / startFactor * finalFactor;\n}\n__name(convertArea, \"convertArea\");\nfunction isNumber(num) {\n  return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n__name(isNumber, \"isNumber\");\nfunction isObject(input) {\n  return input !== null && typeof input === \"object\" && !Array.isArray(input);\n}\n__name(isObject, \"isObject\");\nfunction validateBBox(bbox) {\n  if (!bbox) {\n    throw new Error(\"bbox is required\");\n  }\n  if (!Array.isArray(bbox)) {\n    throw new Error(\"bbox must be an Array\");\n  }\n  if (bbox.length !== 4 && bbox.length !== 6) {\n    throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n  }\n  bbox.forEach((num) => {\n    if (!isNumber(num)) {\n      throw new Error(\"bbox must only contain numbers\");\n    }\n  });\n}\n__name(validateBBox, \"validateBBox\");\nfunction validateId(id) {\n  if (!id) {\n    throw new Error(\"id is required\");\n  }\n  if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n    throw new Error(\"id must be a number or a string\");\n  }\n}\n__name(validateId, \"validateId\");\nexport {\n  GeojsonEquality,\n  areaFactors,\n  bearingToAzimuth,\n  convertArea,\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  factors,\n  feature,\n  featureCollection,\n  geometry,\n  geometryCollection,\n  isNumber,\n  isObject,\n  lengthToDegrees,\n  lengthToRadians,\n  lineString,\n  lineStrings,\n  multiLineString,\n  multiPoint,\n  multiPolygon,\n  point,\n  points,\n  polygon,\n  polygons,\n  radiansToDegrees,\n  radiansToLength,\n  round,\n  validateBBox,\n  validateId\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// index.js\nimport { feature, point, lineString, isObject } from \"@turf/helpers\";\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  if (geojson === null)\n    return;\n  var j, k, l, geometry, stopG, coords, geometryMaybeCollection, wrapShrink = 0, coordIndex = 0, isGeometryCollection, type = geojson.type, isFeatureCollection = type === \"FeatureCollection\", isFeature = type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[featureIndex].geometry : isFeature ? geojson.geometry : geojson;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n      if (geometry === null)\n        continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n      wrapShrink = excludeWrapCoord && (geomType === \"Polygon\" || geomType === \"MultiPolygon\") ? 1 : 0;\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (callback(\n            coords,\n            coordIndex,\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (callback(\n              coords[j],\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false)\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\")\n              multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\")\n            multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (callback(\n                coords[j][k],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false)\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\")\n              multiFeatureIndex++;\n            if (geomType === \"Polygon\")\n              geometryIndex++;\n          }\n          if (geomType === \"Polygon\")\n            multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (callback(\n                  coords[j][k][l],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false)\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false)\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n__name(coordEach, \"coordEach\");\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function(currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (coordIndex === 0 && initialValue === void 0)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n__name(coordReduce, \"coordReduce\");\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false)\n          break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n__name(propEach, \"propEach\");\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function(currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n__name(propReduce, \"propReduce\");\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false)\n        break;\n    }\n  }\n}\n__name(featureEach, \"featureEach\");\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function(currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentFeature;\n    else\n      previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n__name(featureReduce, \"featureReduce\");\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function(coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n__name(coordAll, \"coordAll\");\nfunction geomEach(geojson, callback) {\n  var i, j, g, geometry, stopG, geometryMaybeCollection, isGeometryCollection, featureProperties, featureBBox, featureId, featureIndex = 0, isFeatureCollection = geojson.type === \"FeatureCollection\", isFeature = geojson.type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[i].geometry : isFeature ? geojson.geometry : geojson;\n    featureProperties = isFeatureCollection ? geojson.features[i].properties : isFeature ? geojson.properties : {};\n    featureBBox = isFeatureCollection ? geojson.features[i].bbox : isFeature ? geojson.bbox : void 0;\n    featureId = isFeatureCollection ? geojson.features[i].id : isFeature ? geojson.id : void 0;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n      if (geometry === null) {\n        if (callback(\n          null,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        ) === false)\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (callback(\n            geometry,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false)\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (callback(\n              geometry.geometries[j],\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false)\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    featureIndex++;\n  }\n}\n__name(geomEach, \"geomEach\");\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function(currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n__name(geomReduce, \"geomReduce\");\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function(geometry, featureIndex, properties, bbox, id) {\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (callback(\n          feature(geometry, properties, { bbox, id }),\n          featureIndex,\n          0\n        ) === false)\n          return false;\n        return;\n    }\n    var geomType;\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n    for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate\n      };\n      if (callback(feature(geom, properties), featureIndex, multiFeatureIndex) === false)\n        return false;\n    }\n  });\n}\n__name(flattenEach, \"flattenEach\");\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function(currentFeature, featureIndex, multiFeatureIndex) {\n      if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === void 0)\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n__name(flattenReduce, \"flattenReduce\");\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n    if (!feature2.geometry)\n      return;\n    var type = feature2.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\")\n      return;\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (coordEach(\n      feature2,\n      function(currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n        if (previousCoords === void 0 || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n          previousCoords = currentCoord;\n          previousFeatureIndex = featureIndex;\n          previousMultiIndex = multiPartIndexCoord;\n          prevGeomIndex = geometryIndex;\n          segmentIndex = 0;\n          return;\n        }\n        var currentSegment = lineString(\n          [previousCoords, currentCoord],\n          feature2.properties\n        );\n        if (callback(\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        ) === false)\n          return false;\n        segmentIndex++;\n        previousCoords = currentCoord;\n      }\n    ) === false)\n      return false;\n  });\n}\n__name(segmentEach, \"segmentEach\");\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n      if (started === false && initialValue === void 0)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n__name(segmentReduce, \"segmentReduce\");\nfunction lineEach(geojson, callback) {\n  if (!geojson)\n    throw new Error(\"geojson is required\");\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    if (feature2.geometry === null)\n      return;\n    var type = feature2.geometry.type;\n    var coords = feature2.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature2, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n          if (callback(\n            lineString(coords[geometryIndex], feature2.properties),\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n        }\n        break;\n    }\n  });\n}\n__name(lineEach, \"lineEach\");\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function(currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n__name(lineReduce, \"lineReduce\");\nfunction findSegment(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0)\n        segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n__name(findSegment, \"findSegment\");\nfunction findPoint(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0)\n        coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n__name(findPoint, \"findPoint\");\nexport {\n  coordAll,\n  coordEach,\n  coordReduce,\n  featureEach,\n  featureReduce,\n  findPoint,\n  findSegment,\n  flattenEach,\n  flattenReduce,\n  geomEach,\n  geomReduce,\n  lineEach,\n  lineReduce,\n  propEach,\n  propReduce,\n  segmentEach,\n  segmentReduce\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// index.ts\nimport polygonClipping from \"polygon-clipping\";\nimport { polygon, multiPolygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nfunction difference(features) {\n  const geoms = [];\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must have at least two features\");\n  }\n  const properties = features.features[0].properties || {};\n  const differenced = polygonClipping.difference(geoms[0], ...geoms.slice(1));\n  if (differenced.length === 0)\n    return null;\n  if (differenced.length === 1)\n    return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\n__name(difference, \"difference\");\nvar turf_difference_default = difference;\nexport {\n  turf_difference_default as default,\n  difference\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// lib/geojson-equality.ts\nimport equal from \"deep-equal\";\nvar _GeojsonEquality = class _GeojsonEquality {\n  constructor(opts) {\n    this.direction = false;\n    this.compareProperties = true;\n    var _a, _b, _c;\n    this.precision = 10 ** -((_a = opts == null ? void 0 : opts.precision) != null ? _a : 17);\n    this.direction = (_b = opts == null ? void 0 : opts.direction) != null ? _b : false;\n    this.compareProperties = (_c = opts == null ? void 0 : opts.compareProperties) != null ? _c : true;\n  }\n  compare(g1, g2) {\n    if (g1.type !== g2.type) {\n      return false;\n    }\n    if (!sameLength(g1, g2)) {\n      return false;\n    }\n    switch (g1.type) {\n      case \"Point\":\n        return this.compareCoord(g1.coordinates, g2.coordinates);\n      case \"LineString\":\n        return this.compareLine(g1.coordinates, g2.coordinates);\n      case \"Polygon\":\n        return this.comparePolygon(g1, g2);\n      case \"GeometryCollection\":\n        return this.compareGeometryCollection(g1, g2);\n      case \"Feature\":\n        return this.compareFeature(g1, g2);\n      case \"FeatureCollection\":\n        return this.compareFeatureCollection(g1, g2);\n      default:\n        if (g1.type.startsWith(\"Multi\")) {\n          const g1s = explode(g1);\n          const g2s = explode(\n            g2\n          );\n          return g1s.every(\n            (g1part) => g2s.some((g2part) => this.compare(g1part, g2part))\n          );\n        }\n    }\n    return false;\n  }\n  compareCoord(c1, c2) {\n    return c1.length === c2.length && c1.every((c, i) => Math.abs(c - c2[i]) < this.precision);\n  }\n  compareLine(path1, path2, ind = 0, isPoly = false) {\n    if (!sameLength(path1, path2)) {\n      return false;\n    }\n    const p1 = path1;\n    let p2 = path2;\n    if (isPoly && !this.compareCoord(p1[0], p2[0])) {\n      const startIndex = this.fixStartIndex(p2, p1);\n      if (!startIndex) {\n        return false;\n      } else {\n        p2 = startIndex;\n      }\n    }\n    const sameDirection = this.compareCoord(p1[ind], p2[ind]);\n    if (this.direction || sameDirection) {\n      return this.comparePath(p1, p2);\n    } else {\n      if (this.compareCoord(p1[ind], p2[p2.length - (1 + ind)])) {\n        return this.comparePath(p1.slice().reverse(), p2);\n      }\n      return false;\n    }\n  }\n  fixStartIndex(sourcePath, targetPath) {\n    let correctPath, ind = -1;\n    for (let i = 0; i < sourcePath.length; i++) {\n      if (this.compareCoord(sourcePath[i], targetPath[0])) {\n        ind = i;\n        break;\n      }\n    }\n    if (ind >= 0) {\n      correctPath = [].concat(\n        sourcePath.slice(ind, sourcePath.length),\n        sourcePath.slice(1, ind + 1)\n      );\n    }\n    return correctPath;\n  }\n  comparePath(p1, p2) {\n    return p1.every((c, i) => this.compareCoord(c, p2[i]));\n  }\n  comparePolygon(g1, g2) {\n    if (this.compareLine(g1.coordinates[0], g2.coordinates[0], 1, true)) {\n      const holes1 = g1.coordinates.slice(1, g1.coordinates.length);\n      const holes2 = g2.coordinates.slice(1, g2.coordinates.length);\n      return holes1.every(\n        (h1) => holes2.some((h2) => this.compareLine(h1, h2, 1, true))\n      );\n    }\n    return false;\n  }\n  compareGeometryCollection(g1, g2) {\n    return sameLength(g1.geometries, g2.geometries) && this.compareBBox(g1, g2) && g1.geometries.every((g, i) => this.compare(g, g2.geometries[i]));\n  }\n  compareFeature(g1, g2) {\n    return g1.id === g2.id && (this.compareProperties ? equal(g1.properties, g2.properties) : true) && this.compareBBox(g1, g2) && this.compare(g1.geometry, g2.geometry);\n  }\n  compareFeatureCollection(g1, g2) {\n    return sameLength(g1.features, g2.features) && this.compareBBox(g1, g2) && g1.features.every((f, i) => this.compare(f, g2.features[i]));\n  }\n  compareBBox(g1, g2) {\n    return Boolean(!g1.bbox && !g2.bbox) || (g1.bbox && g2.bbox ? this.compareCoord(g1.bbox, g2.bbox) : false);\n  }\n};\n__name(_GeojsonEquality, \"GeojsonEquality\");\nvar GeojsonEquality = _GeojsonEquality;\nfunction sameLength(g1, g2) {\n  return g1.coordinates ? g1.coordinates.length === g2.coordinates.length : g1.length === g2.length;\n}\n__name(sameLength, \"sameLength\");\nfunction explode(g) {\n  return g.coordinates.map((part) => ({\n    type: g.type.replace(\"Multi\", \"\"),\n    coordinates: part\n  }));\n}\n__name(explode, \"explode\");\n\n// index.ts\nvar earthRadius = 63710088e-1;\nvar factors = {\n  centimeters: earthRadius * 100,\n  centimetres: earthRadius * 100,\n  degrees: 360 / (2 * Math.PI),\n  feet: earthRadius * 3.28084,\n  inches: earthRadius * 39.37,\n  kilometers: earthRadius / 1e3,\n  kilometres: earthRadius / 1e3,\n  meters: earthRadius,\n  metres: earthRadius,\n  miles: earthRadius / 1609.344,\n  millimeters: earthRadius * 1e3,\n  millimetres: earthRadius * 1e3,\n  nauticalmiles: earthRadius / 1852,\n  radians: 1,\n  yards: earthRadius * 1.0936\n};\nvar areaFactors = {\n  acres: 247105e-9,\n  centimeters: 1e4,\n  centimetres: 1e4,\n  feet: 10.763910417,\n  hectares: 1e-4,\n  inches: 1550.003100006,\n  kilometers: 1e-6,\n  kilometres: 1e-6,\n  meters: 1,\n  metres: 1,\n  miles: 386e-9,\n  nauticalmiles: 29155334959812285e-23,\n  millimeters: 1e6,\n  millimetres: 1e6,\n  yards: 1.195990046\n};\nfunction feature(geom, properties, options = {}) {\n  const feat = { type: \"Feature\" };\n  if (options.id === 0 || options.id) {\n    feat.id = options.id;\n  }\n  if (options.bbox) {\n    feat.bbox = options.bbox;\n  }\n  feat.properties = properties || {};\n  feat.geometry = geom;\n  return feat;\n}\n__name(feature, \"feature\");\nfunction geometry(type, coordinates, _options = {}) {\n  switch (type) {\n    case \"Point\":\n      return point(coordinates).geometry;\n    case \"LineString\":\n      return lineString(coordinates).geometry;\n    case \"Polygon\":\n      return polygon(coordinates).geometry;\n    case \"MultiPoint\":\n      return multiPoint(coordinates).geometry;\n    case \"MultiLineString\":\n      return multiLineString(coordinates).geometry;\n    case \"MultiPolygon\":\n      return multiPolygon(coordinates).geometry;\n    default:\n      throw new Error(type + \" is invalid\");\n  }\n}\n__name(geometry, \"geometry\");\nfunction point(coordinates, properties, options = {}) {\n  if (!coordinates) {\n    throw new Error(\"coordinates is required\");\n  }\n  if (!Array.isArray(coordinates)) {\n    throw new Error(\"coordinates must be an Array\");\n  }\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be at least 2 numbers long\");\n  }\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n    throw new Error(\"coordinates must contain numbers\");\n  }\n  const geom = {\n    type: \"Point\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(point, \"point\");\nfunction points(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return point(coords, properties);\n    }),\n    options\n  );\n}\n__name(points, \"points\");\nfunction polygon(coordinates, properties, options = {}) {\n  for (const ring of coordinates) {\n    if (ring.length < 4) {\n      throw new Error(\n        \"Each LinearRing of a Polygon must have 4 or more Positions.\"\n      );\n    }\n    if (ring[ring.length - 1].length !== ring[0].length) {\n      throw new Error(\"First and last Position are not equivalent.\");\n    }\n    for (let j = 0; j < ring[ring.length - 1].length; j++) {\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\n        throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n  }\n  const geom = {\n    type: \"Polygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(polygon, \"polygon\");\nfunction polygons(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return polygon(coords, properties);\n    }),\n    options\n  );\n}\n__name(polygons, \"polygons\");\nfunction lineString(coordinates, properties, options = {}) {\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be an array of two or more positions\");\n  }\n  const geom = {\n    type: \"LineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(lineString, \"lineString\");\nfunction lineStrings(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return lineString(coords, properties);\n    }),\n    options\n  );\n}\n__name(lineStrings, \"lineStrings\");\nfunction featureCollection(features, options = {}) {\n  const fc = { type: \"FeatureCollection\" };\n  if (options.id) {\n    fc.id = options.id;\n  }\n  if (options.bbox) {\n    fc.bbox = options.bbox;\n  }\n  fc.features = features;\n  return fc;\n}\n__name(featureCollection, \"featureCollection\");\nfunction multiLineString(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiLineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(multiLineString, \"multiLineString\");\nfunction multiPoint(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPoint\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(multiPoint, \"multiPoint\");\nfunction multiPolygon(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPolygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\n__name(multiPolygon, \"multiPolygon\");\nfunction geometryCollection(geometries, properties, options = {}) {\n  const geom = {\n    type: \"GeometryCollection\",\n    geometries\n  };\n  return feature(geom, properties, options);\n}\n__name(geometryCollection, \"geometryCollection\");\nfunction round(num, precision = 0) {\n  if (precision && !(precision >= 0)) {\n    throw new Error(\"precision must be a positive number\");\n  }\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(num * multiplier) / multiplier;\n}\n__name(round, \"round\");\nfunction radiansToLength(radians, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return radians * factor;\n}\n__name(radiansToLength, \"radiansToLength\");\nfunction lengthToRadians(distance, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return distance / factor;\n}\n__name(lengthToRadians, \"lengthToRadians\");\nfunction lengthToDegrees(distance, units) {\n  return radiansToDegrees(lengthToRadians(distance, units));\n}\n__name(lengthToDegrees, \"lengthToDegrees\");\nfunction bearingToAzimuth(bearing) {\n  let angle = bearing % 360;\n  if (angle < 0) {\n    angle += 360;\n  }\n  return angle;\n}\n__name(bearingToAzimuth, \"bearingToAzimuth\");\nfunction radiansToDegrees(radians) {\n  const degrees = radians % (2 * Math.PI);\n  return degrees * 180 / Math.PI;\n}\n__name(radiansToDegrees, \"radiansToDegrees\");\nfunction degreesToRadians(degrees) {\n  const radians = degrees % 360;\n  return radians * Math.PI / 180;\n}\n__name(degreesToRadians, \"degreesToRadians\");\nfunction convertLength(length, originalUnit = \"kilometers\", finalUnit = \"kilometers\") {\n  if (!(length >= 0)) {\n    throw new Error(\"length must be a positive number\");\n  }\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n__name(convertLength, \"convertLength\");\nfunction convertArea(area, originalUnit = \"meters\", finalUnit = \"kilometers\") {\n  if (!(area >= 0)) {\n    throw new Error(\"area must be a positive number\");\n  }\n  const startFactor = areaFactors[originalUnit];\n  if (!startFactor) {\n    throw new Error(\"invalid original units\");\n  }\n  const finalFactor = areaFactors[finalUnit];\n  if (!finalFactor) {\n    throw new Error(\"invalid final units\");\n  }\n  return area / startFactor * finalFactor;\n}\n__name(convertArea, \"convertArea\");\nfunction isNumber(num) {\n  return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n__name(isNumber, \"isNumber\");\nfunction isObject(input) {\n  return input !== null && typeof input === \"object\" && !Array.isArray(input);\n}\n__name(isObject, \"isObject\");\nfunction validateBBox(bbox) {\n  if (!bbox) {\n    throw new Error(\"bbox is required\");\n  }\n  if (!Array.isArray(bbox)) {\n    throw new Error(\"bbox must be an Array\");\n  }\n  if (bbox.length !== 4 && bbox.length !== 6) {\n    throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n  }\n  bbox.forEach((num) => {\n    if (!isNumber(num)) {\n      throw new Error(\"bbox must only contain numbers\");\n    }\n  });\n}\n__name(validateBBox, \"validateBBox\");\nfunction validateId(id) {\n  if (!id) {\n    throw new Error(\"id is required\");\n  }\n  if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n    throw new Error(\"id must be a number or a string\");\n  }\n}\n__name(validateId, \"validateId\");\nexport {\n  GeojsonEquality,\n  areaFactors,\n  bearingToAzimuth,\n  convertArea,\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  factors,\n  feature,\n  featureCollection,\n  geometry,\n  geometryCollection,\n  isNumber,\n  isObject,\n  lengthToDegrees,\n  lengthToRadians,\n  lineString,\n  lineStrings,\n  multiLineString,\n  multiPoint,\n  multiPolygon,\n  point,\n  points,\n  polygon,\n  polygons,\n  radiansToDegrees,\n  radiansToLength,\n  round,\n  validateBBox,\n  validateId\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// index.js\nimport { feature, point, lineString, isObject } from \"@turf/helpers\";\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  if (geojson === null)\n    return;\n  var j, k, l, geometry, stopG, coords, geometryMaybeCollection, wrapShrink = 0, coordIndex = 0, isGeometryCollection, type = geojson.type, isFeatureCollection = type === \"FeatureCollection\", isFeature = type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[featureIndex].geometry : isFeature ? geojson.geometry : geojson;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n      if (geometry === null)\n        continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n      wrapShrink = excludeWrapCoord && (geomType === \"Polygon\" || geomType === \"MultiPolygon\") ? 1 : 0;\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (callback(\n            coords,\n            coordIndex,\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (callback(\n              coords[j],\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false)\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\")\n              multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\")\n            multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (callback(\n                coords[j][k],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false)\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\")\n              multiFeatureIndex++;\n            if (geomType === \"Polygon\")\n              geometryIndex++;\n          }\n          if (geomType === \"Polygon\")\n            multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (callback(\n                  coords[j][k][l],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false)\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false)\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n__name(coordEach, \"coordEach\");\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function(currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (coordIndex === 0 && initialValue === void 0)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n__name(coordReduce, \"coordReduce\");\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false)\n          break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n__name(propEach, \"propEach\");\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function(currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n__name(propReduce, \"propReduce\");\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false)\n        break;\n    }\n  }\n}\n__name(featureEach, \"featureEach\");\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function(currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentFeature;\n    else\n      previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n__name(featureReduce, \"featureReduce\");\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function(coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n__name(coordAll, \"coordAll\");\nfunction geomEach(geojson, callback) {\n  var i, j, g, geometry, stopG, geometryMaybeCollection, isGeometryCollection, featureProperties, featureBBox, featureId, featureIndex = 0, isFeatureCollection = geojson.type === \"FeatureCollection\", isFeature = geojson.type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[i].geometry : isFeature ? geojson.geometry : geojson;\n    featureProperties = isFeatureCollection ? geojson.features[i].properties : isFeature ? geojson.properties : {};\n    featureBBox = isFeatureCollection ? geojson.features[i].bbox : isFeature ? geojson.bbox : void 0;\n    featureId = isFeatureCollection ? geojson.features[i].id : isFeature ? geojson.id : void 0;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n      if (geometry === null) {\n        if (callback(\n          null,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        ) === false)\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (callback(\n            geometry,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false)\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (callback(\n              geometry.geometries[j],\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false)\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    featureIndex++;\n  }\n}\n__name(geomEach, \"geomEach\");\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function(currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n__name(geomReduce, \"geomReduce\");\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function(geometry, featureIndex, properties, bbox, id) {\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (callback(\n          feature(geometry, properties, { bbox, id }),\n          featureIndex,\n          0\n        ) === false)\n          return false;\n        return;\n    }\n    var geomType;\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n    for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate\n      };\n      if (callback(feature(geom, properties), featureIndex, multiFeatureIndex) === false)\n        return false;\n    }\n  });\n}\n__name(flattenEach, \"flattenEach\");\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function(currentFeature, featureIndex, multiFeatureIndex) {\n      if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === void 0)\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n__name(flattenReduce, \"flattenReduce\");\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n    if (!feature2.geometry)\n      return;\n    var type = feature2.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\")\n      return;\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (coordEach(\n      feature2,\n      function(currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n        if (previousCoords === void 0 || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n          previousCoords = currentCoord;\n          previousFeatureIndex = featureIndex;\n          previousMultiIndex = multiPartIndexCoord;\n          prevGeomIndex = geometryIndex;\n          segmentIndex = 0;\n          return;\n        }\n        var currentSegment = lineString(\n          [previousCoords, currentCoord],\n          feature2.properties\n        );\n        if (callback(\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        ) === false)\n          return false;\n        segmentIndex++;\n        previousCoords = currentCoord;\n      }\n    ) === false)\n      return false;\n  });\n}\n__name(segmentEach, \"segmentEach\");\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n      if (started === false && initialValue === void 0)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n__name(segmentReduce, \"segmentReduce\");\nfunction lineEach(geojson, callback) {\n  if (!geojson)\n    throw new Error(\"geojson is required\");\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    if (feature2.geometry === null)\n      return;\n    var type = feature2.geometry.type;\n    var coords = feature2.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature2, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n          if (callback(\n            lineString(coords[geometryIndex], feature2.properties),\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n        }\n        break;\n    }\n  });\n}\n__name(lineEach, \"lineEach\");\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function(currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n__name(lineReduce, \"lineReduce\");\nfunction findSegment(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0)\n        segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n__name(findSegment, \"findSegment\");\nfunction findPoint(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0)\n        coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n__name(findPoint, \"findPoint\");\nexport {\n  coordAll,\n  coordEach,\n  coordReduce,\n  featureEach,\n  featureReduce,\n  findPoint,\n  findSegment,\n  flattenEach,\n  flattenReduce,\n  geomEach,\n  geomReduce,\n  lineEach,\n  lineReduce,\n  propEach,\n  propReduce,\n  segmentEach,\n  segmentReduce\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// index.ts\nimport { multiPolygon, polygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nimport polygonClipping from \"polygon-clipping\";\nfunction intersect(features, options = {}) {\n  const geoms = [];\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must specify at least 2 geometries\");\n  }\n  const intersection = polygonClipping.intersection(\n    geoms[0],\n    ...geoms.slice(1)\n  );\n  if (intersection.length === 0)\n    return null;\n  if (intersection.length === 1)\n    return polygon(intersection[0], options.properties);\n  return multiPolygon(intersection, options.properties);\n}\n__name(intersect, \"intersect\");\nvar turf_intersect_default = intersect;\nexport {\n  turf_intersect_default as default,\n  intersect\n};\n//# sourceMappingURL=index.js.map","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('svg',{attrs:{\"viewBox\":_vm.danger.altitude ? '0 0 165 100' : '0 0 100 100',\"width\":_vm.danger.altitude ? 130 : 80,\"height\":\"80\"}},[_c('polygon',{attrs:{\"points\":\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5\"}}),_vm._v(\" \"),(_vm.danger.locLow && !_vm.danger.altitude)?_c('g',[_c('text',{staticClass:\"small\",attrs:{\"x\":_vm.locLowIsEast ? 80 : 5,\"y\":\"40\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.locLow)+\"\\n      \")]),_vm._v(\" \"),_c('text',{staticClass:\"small\",attrs:{\"x\":!_vm.locLowIsEast ? 80 : 5,\"y\":\"40\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.locHigh)+\"\\n      \")]),_vm._v(\" \"),_c('text',{attrs:{\"x\":_vm.locLowIsEast ? 66 : 33,\"y\":\"68\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.low)+\"\\n      \")]),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"50\",\"y1\":\"50\",\"y2\":\"70\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":!_vm.locLowIsEast ? 66 : 33,\"y\":\"68\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.high)+\"\\n      \")])]):_c('g',[_c('text',{attrs:{\"x\":\"50\",\"y\":_vm.danger.high ? 82 : 65}},[_c('tspan',[_vm._v(_vm._s(_vm.danger.low))]),_vm._v(\" \"),(_vm.danger.lowEvol)?_c('tspan',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(_vm.danger.lowEvol)?_c('tspan',[_vm._v(_vm._s(_vm.danger.lowEvol))]):_vm._e()]),_vm._v(\" \"),(_vm.danger.lowEvol)?_c('g',[_c('line',{attrs:{\"x1\":\"45\",\"x2\":\"55\",\"y1\":_vm.danger.high ? 75 : 58,\"y2\":_vm.danger.high ? 75 : 58}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":_vm.danger.high ? 70 : 53,\"y2\":_vm.danger.high ? 75 : 58}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":_vm.danger.high ? 80 : 63,\"y2\":_vm.danger.high ? 75 : 58}})]):_vm._e(),_vm._v(\" \"),_c('g',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.danger.high),expression:\"danger.high\"}]},[_c('line',{attrs:{\"x1\":\"10\",\"y1\":\"61.5\",\"x2\":\"90\",\"y2\":\"61.5\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"50\",\"y\":\"54\"}},[_c('tspan',[_vm._v(_vm._s(_vm.danger.high))]),_vm._v(\" \"),(_vm.danger.highEvol)?_c('tspan',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(_vm.danger.highEvol)?_c('tspan',[_vm._v(_vm._s(_vm.danger.highEvol))]):_vm._e()]),_vm._v(\" \"),(_vm.danger.highEvol)?_c('g',[_c('line',{attrs:{\"x1\":\"45\",\"x2\":\"55\",\"y1\":\"46\",\"y2\":\"46\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":\"41\",\"y2\":\"46\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":\"51\",\"y2\":\"46\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.danger.altitude)?_c('text',{staticClass:\"small\",attrs:{\"x\":\"92\",\"y\":\"65\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.altitude)+\"\\n      \")]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <svg :viewBox=\"danger.altitude ? '0 0 165 100' : '0 0 100 100'\" :width=\"danger.altitude ? 130 : 80\" height=\"80\">\n      <polygon points=\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5\" />\n      <g v-if=\"danger.locLow && !danger.altitude\">\n        <text :x=\"locLowIsEast ? 80 : 5\" y=\"40\" class=\"small\">\n          {{ danger.locLow }}\n        </text>\n        <text :x=\"!locLowIsEast ? 80 : 5\" y=\"40\" class=\"small\">\n          {{ danger.locHigh }}\n        </text>\n        <text :x=\"locLowIsEast ? 66 : 33\" y=\"68\">\n          {{ danger.low }}\n        </text>\n        <line x1=\"50\" x2=\"50\" y1=\"50\" y2=\"70\" />\n        <text :x=\"!locLowIsEast ? 66 : 33\" y=\"68\">\n          {{ danger.high }}\n        </text>\n      </g>\n      <g v-else>\n        <text x=\"50\" :y=\"danger.high ? 82 : 65\">\n          <tspan>{{ danger.low }}</tspan>\n          <tspan v-if=\"danger.lowEvol\">&ensp;</tspan>\n          <tspan v-if=\"danger.lowEvol\">{{ danger.lowEvol }}</tspan>\n        </text>\n        <g v-if=\"danger.lowEvol\">\n          <line x1=\"45\" x2=\"55\" :y1=\"danger.high ? 75 : 58\" :y2=\"danger.high ? 75 : 58\" />\n          <line x1=\"50\" x2=\"55\" :y1=\"danger.high ? 70 : 53\" :y2=\"danger.high ? 75 : 58\" />\n          <line x1=\"50\" x2=\"55\" :y1=\"danger.high ? 80 : 63\" :y2=\"danger.high ? 75 : 58\" />\n        </g>\n        <g v-show=\"danger.high\">\n          <line x1=\"10\" y1=\"61.5\" x2=\"90\" y2=\"61.5\" />\n          <text x=\"50\" y=\"54\">\n            <tspan>{{ danger.high }}</tspan>\n            <tspan v-if=\"danger.highEvol\">&ensp;</tspan>\n            <tspan v-if=\"danger.highEvol\">{{ danger.highEvol }}</tspan>\n          </text>\n          <g v-if=\"danger.highEvol\">\n            <line x1=\"45\" x2=\"55\" y1=\"46\" y2=\"46\" />\n            <line x1=\"50\" x2=\"55\" y1=\"41\" y2=\"46\" />\n            <line x1=\"50\" x2=\"55\" y1=\"51\" y2=\"46\" />\n          </g>\n        </g>\n        <text v-if=\"danger.altitude\" x=\"92\" y=\"65\" class=\"small\">\n          {{ danger.altitude }}\n        </text>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    danger: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    locLowIsEast() {\n      return this.danger.locLow === 'E';\n    },\n  },\n};\n</script>\n\n<style scoped>\nline,\npolygon {\n  fill: none;\n  stroke: #000;\n  stroke-width: 2;\n}\ntext {\n  font-family: sans-serif;\n  font-size: 20px;\n  font-weight: bold;\n  text-anchor: middle;\n}\ntext.small {\n  font-size: 16px;\n  font-weight: normal;\n  text-anchor: start;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DangerLevel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DangerLevel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DangerLevel.vue?vue&type=template&id=31f693da&scoped=true\"\nimport script from \"./DangerLevel.vue?vue&type=script&lang=js\"\nexport * from \"./DangerLevel.vue?vue&type=script&lang=js\"\nimport style0 from \"./DangerLevel.vue?vue&type=style&index=0&id=31f693da&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31f693da\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div ref=\"bulletinsOverlay\" class=\"bulletins-overlay\">\n    <button class=\"delete is-small button-close\" @click=\"closeOverlay\">x</button>\n    <div class=\"bulletins-header pb-3 has-text-centered\">\n      <p class=\"title is-5 mb-1\">\n        {{ overlayData.mountainName }}\n      </p>\n      <p class=\"title is-7 country-name\">\n        {{ overlayData.country }}\n      </p>\n      <dl v-if=\"overlayData.fullName\" class=\"is-size-7 px-3 has-text-left is-italic regions-list\">\n        <dt v-translate>Regions:</dt>\n        <dd>{{ overlayData.fullName }}</dd>\n      </dl>\n    </div>\n    <div v-if=\"overlayData.danger.low\" class=\"py-2\">\n      <p class=\"is-size-7 px-3 pb-5\">\n        <span><strong v-translate>Validity date:</strong> {{ overlayValidUntil }}</span>\n        <strong v-if=\"overlayValidUntilExpired\" class=\"is-block has-text-danger\">\n          <fa-icon icon=\"exclamation-circle\" />\n          <span v-translate key=\"id1\">Validity date expired</span>\n        </strong>\n      </p>\n      <div class=\"is-flex is-justify-content-space-around is-align-items-center px-3\">\n        <danger-level :danger=\"overlayData.danger\" />\n        <input-orientation disabled :value=\"overlayOrientations\" />\n      </div>\n      <dl v-if=\"overlayDangerComment || overlayOrientationsComment\" class=\"is-size-6 px-3 pt-3\">\n        <template v-if=\"overlayDangerComment\">\n          <dt v-translate>Danger:</dt>\n          <dd>{{ overlayDangerComment }}</dd>\n        </template>\n        <template v-if=\"overlayOrientationsComment\">\n          <dt v-translate>Orientations:</dt>\n          <dd>{{ overlayOrientationsComment }}</dd>\n        </template>\n      </dl>\n    </div>\n    <div v-else class=\"py-2\">\n      <p class=\"is-size-6 p-3\"><span v-translate key=\"id2\">No avalanche bulletin right now</span></p>\n    </div>\n    <div class=\"is-size-7 px-3 pt-2 pb-2 bulletins-footer\" v-if=\"overlayData.urls.length\">\n      <p v-for=\"(url, i) in overlayData.urls\" :key=\"i\">\n        <strong>{{ url.title }}</strong>\n        <a :href=\"url.url\" target=\"_blank\">\n          <fa-icon icon=\"external-link-alt\" />\n          <span v-translate>Full bulletin</span>\n        </a>\n      </p>\n    </div>\n    <img :src=\"overlayDangerIcon\" alt=\"\" class=\"bulletins-overlay-danger-icon\" />\n  </div>\n</template>\n<script>\nimport { buffer as turfBuffer } from '@turf/buffer';\nimport { difference as turfDifference } from '@turf/difference';\nimport { intersect as turfIntersect } from '@turf/intersect';\n\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport DangerLevel from '@/components/yeti/map-layers/DangerLevel';\nimport ol from '@/js/libs/ol';\n\n// min and max zooms for layers styles\nconst MIN_ZOOM = 8;\nconst MAX_ZOOM = 10;\n\nlet mountainsStyle = (feature, mapZoom, danger) => {\n  const MIN_OPACITY = 0;\n  const MAX_OPACITY = 0.9;\n\n  let opacity = MAX_OPACITY;\n  let strokeWidth = 1;\n\n  let bufferedGeometryValue = 'bufferedGeometry_0';\n\n  if (mapZoom) {\n    // opacity should be gradually decreasing between min and max zooms\n    // also, set buffered geometry based on zoom\n    if (mapZoom >= MIN_ZOOM && mapZoom <= MAX_ZOOM) {\n      opacity = (MAX_ZOOM - mapZoom) * (MAX_OPACITY / (MAX_ZOOM - MIN_ZOOM));\n    } else if (mapZoom > MAX_ZOOM) {\n      opacity = MIN_OPACITY;\n      bufferedGeometryValue = 'bufferedGeometry_1';\n      // increase stroke when zoom > max\n      strokeWidth = 2;\n    }\n  }\n\n  danger = danger || 0;\n\n  // #fff, #cbdb45, #fff100, #f6921e, #ec1c24, #ec1c24\n  let dangerFill = ['255, 255, 255', '203, 219, 69', '255, 241, 0', '246, 146, 30', '236, 28, 36', '236, 28, 36'];\n\n  let styles = [\n    new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: `rgba(${dangerFill[danger]}, ${opacity})`,\n      }),\n    }),\n  ];\n\n  if (feature && mapZoom < Yetix.VALID_MINIMUM_MAP_ZOOM) {\n    styles.push(\n      new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: `rgba(${dangerFill[danger]}, 0.75)`,\n        }),\n        geometry: feature.get(bufferedGeometryValue),\n      })\n    );\n  }\n\n  // add stroke on top\n  styles.push(\n    new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.85)',\n        width: strokeWidth,\n      }),\n    })\n  );\n\n  return styles;\n};\n\nlet iconSize = 80;\n\nlet bulletinsIcon = (danger) => {\n  danger = danger || 0;\n\n  // #999, #cbdb45, #fff100, #f6921e, #ec1c24, #ec1c24\n  let dangerFill = ['153, 153, 153', '203, 219, 69', '255, 241, 0', '246, 146, 30', '236, 28, 36', '236, 28, 36'];\n\n  let svg = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${iconSize}\" height=\"${iconSize}\" viewBox=\"-50 0 200 100\">\n      <path d=\"M5,50L50,5L95,50\" fill=\"white\" />\n      <path d=\"M5,50L50,95L95,50\" fill=\"rgb(${dangerFill[danger]})\" />\n      <path d=\"m50,0l50,50-50,50-50-50zv5L21,33l19-10L50,26l9-8L80,38l2-1L50,5M5,50L50,95L95,50\" />\n  `;\n\n  if (danger === 0) {\n    svg += `\n      <g stroke-width=\"5\" stroke=\"black\">\n        <line x1=\"40\" x2=\"60\" y1=\"58\" y2=\"78\" />\n        <line x1=\"40\" x2=\"60\" y1=\"78\" y2=\"58\" />\n      </g>\n    `;\n  }\n  if (danger === 1) {\n    svg += `\n      <path d=\"m54 84h-6l-0.1-21.1c-2.3 2.1-4.9 4-8 5v-5.6c1.6-0.5 3.2-2 5.1-3.4 1.9-1.5 3.1-3 3.8-4.9h5z\" />\n    `;\n  }\n  if (danger === 2) {\n    svg += `\n      <path d=\"m60 77v5.1l-20 0.1c0.2-2.1 1-3.9 2.1-5.7q1.6-2.7 6.4-7.2 3.9-3.6 4.8-4.9 1.2-1.8 1.2-3.5 0-2-1.1-3-1-1-2.8-1-1.8 0-2.8 1.1c-0.7 0.7-1.6 1.3-1.7 3h-5.9c0.4-3.1 2-5.5 3.8-6.8q2.7-2.1 6.7-2.1 4.5 0 7 2.4 2.6 2.4 2.6 5.9 0 2.1-0.8 3.9-0.7 1.8-2.3 3.8-1 1.4-3.7 3.9-2.8 2.5-3.5 3.3c-0.5 0.5-0.8 1.3-1.1 1.8 0 0 11.1-0.1 11.1-0.1z\" />\n\n      <path d=\"M86,45a7,7,0,106.5-13.5a7,7,0,00-10.5-8a5.4,5.4,0,00-10.2,3\" />\n      <path d=\"M69,27L86,44a5,5,0,104-12a5,5,0,10-9-5a3,3,0,10-8,0\" fill=\"white\" />\n      <path d=\"M85,32a1,1,0,110,8v-2a1,1,0,100-4\" />\n    `;\n  }\n  if (danger === 3) {\n    svg += `\n      <path d=\"m58 81q-2.9 2.8-7.2 2.8-4.1 0-6.7-2.3c-1.8-1.6-2.1-4.2-2.4-6.7h5c0.2 1.4 0.5 2.4 1.2 3.1q1.2 1.1 2.9 1.1 1.7 0 3-1.3 1.2-1.4 1.2-3.7c0-1.4 0.1-1.6-0.7-2.4-0.8-0.9-1.3-1.8-2.7-1.8-1.4-0.1-2.6 0-3.9 0l0.1-4c3.3 0 3.9-1 4.7-1.7q1.2-1.1 1.2-2.8 0-1.5-0.9-2.4-0.9-0.9-2.3-0.9-1.5 0-2.5 1c-0.7 0.7-1.2 1.5-1.4 2.8h-5c0.4-1.8 0.7-4 1.5-5.1q1.1-1.6 3.1-2.6 2-0.9 4.4-0.9 4.3 0 6.8 2.7 2.1 2.2 2.1 5 0 3.9-4.3 6.3 2.6 0.5 4.1 2.5 1.6 1.9 1.6 4.6 0 3.9-2.9 6.7z\" />\n\n      <path d=\"M54,22L79,50h33a5,5,0,10-4-22.3a11.3,11.3,0,00-20,0q-8-2,-14,6\" />\n      <path d=\"M55,21L82,48h30a5,5,0,10-5-18a9.7,9.7,0,00-18,0q-7-2,-11,3L60,16\" fill=\"white\" />\n      <path d=\"M59,18l25,25-1.5,1.5-25-25M87,38a1,1,0,1110,5l-2-1a1,1,0,10-6-3\" />\n    `;\n  }\n  if (danger === 4) {\n    svg += `\n      <path d=\"m60 78h-3l-0.1 6-4.9-0.1 0.1-5.9h-13.1v-4.9l13.1-19.1h4.8l0.1 19 3-0.1zm-7.9-4.9l-0.1-10.1-7.9 10.1z\" />\n    `;\n  }\n  if (danger === 5) {\n    svg += `\n      <path d=\"m58 80q-2.8 3.8-7.9 3.8-4.1 0-6.6-2.2-2.6-2.1-3.1-5.8h5.6c0.1 1.2 0.7 1.7 1.4 2.4q1.2 1.1 2.7 1.1 1.8 0 3-1.4 1.2-1.4 1.2-4.3 0-2.7-1.2-4.1-1.2-1.3-3.1-1.3c-1.6 0-2.7 0.2-4 1.6h-5l3.1-15.9h14.9v4.9h-10.9l-1 6c1.2-0.6 2.8-1.1 4.1-1.1q3.7 0 6.3 2.7 2.6 2.8 2.6 7.1 0 3.6-2.1 6.5z\" />\n    `;\n  }\n  if (danger === 4 || danger === 5) {\n    svg += `\n      <path d=\"M54,22L79,50h52a12.5,12.5,0,001.5-24.4a7,7,0,00-8.2-7a11.9,11.9,0,00-22.5-2q-11-1,-14,7q-10-2-14,4\" />\n      <path d=\"M52,24L77,48h50a5,5,0,103-21a5,5,0,00-7-6a10.3,10.3,0,00-20-2q-11-2,-14,7q-10-3-14,4L60,16\" fill=\"white\" />\n      <path d=\"M59,18l25,25-1.5,1.5-25-25m-1.5,1.5l22.5,22.5-1.5,1.5-22.5-22.5M87,38a1,1,0,1110,5l-2-1a1,1,0,10-6-3M96,29a1,1,0,1115,14l-1.7-1.7A1,1,0,1097.7,30.7\" />\n    `;\n  }\n\n  svg += '</svg>';\n\n  return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n};\n\nlet bulletinsStyle = (mapZoom, danger) => {\n  // no icon when zoom < MIN_ZOOM\n  if (mapZoom < MIN_ZOOM) {\n    return new ol.style.Style({});\n  }\n  return new ol.style.Style({\n    image: new ol.style.Icon({\n      src: bulletinsIcon(danger),\n      size: [iconSize, iconSize],\n    }),\n  });\n};\n\nlet mountainsLayer = new ol.layer.VectorImage({\n  source: new ol.source.Vector(),\n  style: mountainsStyle(),\n});\nlet bulletinsLayer = new ol.layer.Vector({\n  source: new ol.source.Vector(),\n});\nlet mountainsLayerGroup = new ol.layer.Group({\n  layers: [mountainsLayer, bulletinsLayer],\n});\nlet bulletinsOverlay = new ol.Overlay({\n  positioning: 'top-center',\n  offset: [0, 0],\n  className: 'bulletins-overlay-container',\n});\nlet bulletinsOverlayPanOptions = {\n  animation: {\n    duration: 250,\n  },\n  margin: 10,\n};\n\nexport default {\n  components: {\n    DangerLevel,\n  },\n  mixins: [layerMixin],\n  data() {\n    return {\n      overlayData: {\n        country: null,\n        mountainName: null,\n        fullName: null,\n        validUntil: null,\n        danger: {},\n        orientations: [],\n        urls: [],\n      },\n      panIntoView: false,\n    };\n  },\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    showAvalancheBulletins() {\n      return Yetix.showAvalancheBulletins;\n    },\n    bulletinsLoaded() {\n      return Yetix.bulletinsLoaded;\n    },\n    editMode() {\n      return Yetix.editMode;\n    },\n    overlayOrientations() {\n      // return truthy orientations, in uppercase\n      return Object.keys(this.overlayData.orientations)\n        .filter((key) => key !== 'comment')\n        .filter((key) => this.overlayData.orientations[key])\n        .map((val) => val.toUpperCase());\n    },\n    overlayValidUntil() {\n      return this.$dateUtils.toLocalizedString(new Date(this.overlayData.validUntil), 'DD/MM/YYYY HH:mm');\n    },\n    overlayValidUntilExpired() {\n      // return true when validUntil is expired (warn user)\n      return new Date() - new Date(this.overlayData.validUntil) > 0;\n    },\n    overlayDangerIcon() {\n      return bulletinsIcon(this.overlayData.danger.max);\n    },\n    overlayDangerComment() {\n      return this.overlayData.danger.low ? this.overlayData.danger.comment : null;\n    },\n    overlayOrientationsComment() {\n      return this.overlayData.orientations.comment;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Avalanche bulletins'),\n        checked: this.showAvalancheBulletins,\n        action: this.onShowAvalancheBulletins,\n        image: 'avalanche.jpg',\n      };\n    },\n  },\n  watch: {\n    showAvalancheBulletins() {\n      this.loadAndUpdateAvalancheBulletins();\n    },\n  },\n  mounted() {\n    // clear layers when mounted (useful when navigating c2c)\n    mountainsLayer.getSource().clear();\n    bulletinsLayer.getSource().clear();\n\n    // data\n    this.activeBulletins = null;\n\n    // bulletins overlay\n    bulletinsOverlay.setElement(this.$refs.bulletinsOverlay);\n    this.map.addOverlay(bulletinsOverlay);\n\n    this.map.addLayer(mountainsLayerGroup);\n    // layers are not visible on load\n    mountainsLayerGroup.setVisible(this.showAvalancheBulletins);\n\n    // only on first mount, if mountains already loaded\n    if (Yetix.mountains.all.length === 0) {\n      Yetix.fetchMountains().then(this.onMountainsResult);\n\n      Yetix.$on('mapMoveEnd', this.onMapMoveEnd);\n      Yetix.$on('mapClick', this.onMapClick);\n\n      let hover = new ol.interaction.Select({\n        layers: [bulletinsLayer],\n        condition: ol.events.condition.pointerMove,\n      });\n      this.map.addInteraction(hover);\n      hover.on('select', (e) => {\n        if (e.selected.length) {\n          let style = e.selected[0].get('normalStyle');\n          let hoveredStyle = style.clone();\n          if (hoveredStyle.getImage()) {\n            hoveredStyle.getImage().setScale(1.2);\n            e.selected[0].setStyle(hoveredStyle);\n          }\n        }\n      });\n    }\n    this.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    onMountainsResult(data) {\n      let mountainsFeatures = this.getFeaturesFromData(data);\n\n      // add to mountains layer\n      mountainsLayer.getSource().addFeatures(mountainsFeatures);\n\n      // build inner strokes for each mountains\n      let format = new ol.format.GeoJSON({ featureProjection: 'EPSG:3857' });\n      let distances = [2, 0.5];\n      mountainsFeatures.forEach((mountain) => {\n        let turfPolygon = format.writeFeatureObject(mountain);\n\n        distances.forEach((distance, i) => {\n          let innerBuffer = turfBuffer(turfPolygon, -distance);\n          let innerDiff;\n          if (innerBuffer) {\n            innerDiff = turfDifference(turfPolygon, innerBuffer);\n          } else {\n            innerDiff = turfPolygon;\n          }\n          let bufferedGeometry = format.readGeometry(innerDiff.geometry);\n          mountain.set(`bufferedGeometry_${i}`, bufferedGeometry);\n        });\n      });\n\n      let mountains = this.getPropertiesFromFeatures(mountainsFeatures);\n      mountains = this.sortMountainsByMassif(mountains);\n\n      Yetix.setAllMountains(mountains);\n\n      this.setVisibleMountains();\n\n      if (this.showAvalancheBulletins) {\n        this.loadAndUpdateAvalancheBulletins();\n      }\n    },\n    sortMountainsByMassif(mountains) {\n      // first, order mountains by massifs\n      let sortedMountains = {};\n      for (let i = 0; i < mountains.length; i++) {\n        if (!sortedMountains[mountains[i].mountain]) {\n          sortedMountains[mountains[i].mountain] = [];\n        }\n        sortedMountains[mountains[i].mountain].push(mountains[i]);\n      }\n\n      // then sort by massif\n      mountains = Object.keys(sortedMountains)\n        .sort()\n        .reduce((obj, key) => {\n          obj[key] = sortedMountains[key];\n          return obj;\n        }, {});\n\n      // then sort mountains inside each massif\n      let key = 'name';\n      for (let i in mountains) {\n        mountains[i].sort((a, b) => {\n          if (a[key] < b[key]) return -1;\n          if (a[key] > b[key]) return 1;\n          return 0;\n        });\n      }\n\n      return mountains;\n    },\n    setVisibleMountains() {\n      let mapExtent = this.getExtent('EPSG:3857');\n      // clone this.mountains first, with no reference\n      let visibleMountains = Object.assign({}, Yetix.mountains.all);\n\n      // then filter if polygon isnt in view\n      for (let massif in visibleMountains) {\n        visibleMountains[massif] = visibleMountains[massif].filter((mountain) => {\n          let polygon = mountain.geometry;\n          return polygon.intersectsExtent(mapExtent);\n        });\n        // unset massif if empty\n        if (visibleMountains[massif].length === 0) {\n          delete visibleMountains[massif];\n        }\n      }\n      // set mountains in visible\n      Yetix.setVisibleMountains(visibleMountains);\n    },\n    updateMountainsStyle() {\n      mountainsLayer\n        .getSource()\n        .getFeatures()\n        .forEach((mountain) => {\n          let bulletin = mountain.get('bulletinsFeature');\n          if (bulletin) {\n            let danger = bulletin.get('overlayData').danger.max;\n            mountain.setStyle(mountainsStyle(mountain, this.mapZoom, danger));\n          }\n        });\n      bulletinsLayer\n        .getSource()\n        .getFeatures()\n        .forEach((bulletin) => {\n          let danger = bulletin.get('overlayData').danger.max;\n          bulletin.setStyle(bulletinsStyle(this.mapZoom, danger));\n          bulletin.set('normalStyle', bulletinsStyle(this.mapZoom, danger));\n        });\n    },\n    onMapMoveEnd() {\n      // set visible mountains\n      this.setVisibleMountains();\n\n      if (this.showAvalancheBulletins) {\n        this.updateMountainsStyle();\n        this.updateBulletinsGeometry();\n      }\n    },\n    onMapClick(evt, clickedFeature) {\n      // do not allow clicks on smaller zoom\n      if (this.mapZoom < MIN_ZOOM) {\n        this.closeOverlay(true);\n        return false;\n      }\n      // this will set bulletins overlay\n      // only when showAvalancheBulletins is true and edit mode is off\n      if (this.showAvalancheBulletins && !this.editMode) {\n        // get feature from bulletins layer where clicked\n        let clickedBulletinFeatures = this.map.getFeaturesAtPixel(evt.pixel, {\n          layerFilter: function (layer) {\n            return layer === bulletinsLayer;\n          },\n        });\n        let clickedBulletinFeature = clickedBulletinFeatures.length ? clickedBulletinFeatures[0] : undefined;\n\n        // get feature from mountains layer where clicked\n        let clickedMountainFeatures = this.map.getFeaturesAtPixel(evt.pixel, {\n          layerFilter: function (layer) {\n            return layer === mountainsLayer;\n          },\n        });\n        let clickedMountainFeature = clickedMountainFeatures.length ? clickedMountainFeatures[0] : undefined;\n\n        // open overlay\n        // if clicked feature is from bulletin layer\n        if (clickedBulletinFeature && clickedBulletinFeature === clickedFeature) {\n          this.setBulletinsOverlay(evt, clickedBulletinFeature);\n        }\n        // or if clicked feature is from mountains layer AND zoom is below min zoom\n        else if (this.mapZoom < MIN_ZOOM && clickedMountainFeature && clickedMountainFeature === clickedFeature) {\n          this.setBulletinsOverlay(evt, clickedMountainFeature.get('bulletinsFeature'));\n        }\n        // else, close overlay\n        else {\n          this.closeOverlay(true);\n        }\n      }\n    },\n    onShowAvalancheBulletins() {\n      Yetix.setShowAvalancheBulletins(!this.showAvalancheBulletins);\n    },\n    loadAndUpdateAvalancheBulletins() {\n      // first time, bulletins are not loaded yet\n      if (!this.bulletinsLoaded) {\n        Yetix.setBulletinsLoaded(true);\n        // so load them\n        Yetix.fetchBulletins().then(this.onBulletinsResult);\n      }\n      // show mountains layer group if needed\n      mountainsLayerGroup.setVisible(this.showAvalancheBulletins);\n      // update styles\n      this.updateMountainsStyle();\n      this.updateBulletinsGeometry();\n    },\n    onBulletinsResult(data) {\n      let bulletinsFeatures = data.data;\n      let mountainsFeatures = mountainsLayer.getSource().getFeatures();\n\n      // match up bulletin data and zone\n      bulletinsFeatures.zones.forEach((zone) => {\n        mountainsFeatures.find((mountain) => {\n          // if name and country match, create bulletin\n          if (mountain.get('name') === zone.zone && mountain.get('country') === zone.country) {\n            // check validity first\n            // if no longer valid (expires 48h), set danger to null\n            if ((new Date() - new Date(zone.validUntil)) / 1000 > 60 * 60 * 24 * 2) {\n              zone.danger = {\n                low: null,\n                max: null,\n              };\n            }\n            let mountainGeometry = mountain.getGeometry();\n            let mountainGeometryType = mountainGeometry.getType();\n\n            let bulletinsGeometry = null;\n\n            if (mountainGeometryType === 'MultiPolygon') {\n              bulletinsGeometry = mountainGeometry.getInteriorPoints();\n            } else {\n              throw new Error('Mountain geometry have to be MultiPolygon.');\n            }\n\n            // create feature (bulletin icons)\n            // geometry have to be MultiPoint\n            let bulletinsFeature = new ol.Feature({\n              geometry: bulletinsGeometry,\n              initialGeometry: bulletinsGeometry,\n              overlayData: {\n                country: mountain.get('country'),\n                mountainName: mountain.get('name'),\n                fullName: mountain.get('fullname'),\n                validUntil: zone.validUntil,\n                danger: zone.danger,\n                orientations: zone.orientations,\n                urls: mountain.get('urls'),\n              },\n            });\n            bulletinsLayer.getSource().addFeature(bulletinsFeature);\n\n            // set styles\n            bulletinsFeature.setStyle(bulletinsStyle(this.mapZoom, zone.danger.max));\n            bulletinsFeature.set('normalStyle', bulletinsStyle(this.mapZoom, zone.danger.max));\n            mountain.setStyle(mountainsStyle(mountain, this.mapZoom, zone.danger.max));\n\n            mountain.setProperties({ bulletinsFeature });\n\n            // break\n            return true;\n          }\n        });\n      });\n      // update in case we're already zoomed in\n      this.updateBulletinsGeometry();\n    },\n    updateBulletinsGeometry() {\n      // return, if bulletins are not loaded\n      if (!this.bulletinsLoaded) {\n        return;\n      }\n\n      // no update if overlay is animating into view when opens\n      // = prevent overlay from moving\n      if (this.panIntoView) {\n        this.panIntoView = false;\n        // update bulletin overlay though (hide/show if needed)\n        this.updateBulletinsOverlay();\n        return;\n      }\n\n      // if zoom > 10\n      //   we will intersect every polygon with the map extent, and update geometry of avalanche bulletin icons (icons will always be visible, even when zoomed)\n      // else\n      //   we set geometry of all points to be the initial geometry (stored during the request)\n      if (this.mapZoom > 10) {\n        let mapExtent = this.getExtent('EPSG:3857');\n        let mapExtentFeature = new ol.Feature(ol.geom.polygonFromExtent(mapExtent));\n\n        let mountainsFeatures = mountainsLayer.getSource().getFeatures();\n\n        mountainsFeatures.forEach((feature) => {\n          let intersect = turfIntersect(\n            new ol.format.GeoJSON().writeFeatureObject(feature),\n            new ol.format.GeoJSON().writeFeatureObject(mapExtentFeature)\n          );\n          if (intersect) {\n            let intersectFeature = new ol.format.GeoJSON().readFeature(intersect);\n\n            let intersectGeometry = intersectFeature.getGeometry();\n            let intersectType = intersectGeometry.getType();\n\n            // if polygon, should be MultiPolygon\n            if (intersectType === 'Polygon') {\n              intersectFeature = new ol.Feature({\n                geometry: new ol.geom.MultiPolygon([intersectGeometry]),\n              });\n            }\n\n            let newBulletinsFeature = intersectFeature.getGeometry().getInteriorPoints();\n\n            let bulletinsFeature = feature.get('bulletinsFeature');\n            if (bulletinsFeature) {\n              bulletinsFeature.setGeometry(newBulletinsFeature);\n            }\n          }\n        });\n      } else {\n        let bulletinsFeatures = bulletinsLayer.getSource().getFeatures();\n        bulletinsFeatures.forEach((feature) => {\n          feature.setGeometry(feature.get('initialGeometry'));\n        });\n      }\n\n      // update bulletin overlay\n      this.updateBulletinsOverlay();\n    },\n    setBulletinsOverlay(evt, clickedBulletinFeature) {\n      // set mountain name\n      this.overlayData = clickedBulletinFeature.get('overlayData');\n      // find the closest point (because it's a MultiPoint)\n      let closestPointCoordinate = clickedBulletinFeature.getGeometry().getClosestPoint(evt.coordinate);\n      // set overlay position\n      this.openOverlay(closestPointCoordinate, true);\n      // store this point\n      this.activeBulletins = {\n        feature: clickedBulletinFeature,\n      };\n      // if there are more than one point in multipoint\n      // find the closest one and store index too\n      let points = clickedBulletinFeature.getGeometry().getPoints();\n      if (points.length > 1) {\n        points.forEach((point, index) => {\n          if (point.getCoordinates().every((coord, i) => coord === closestPointCoordinate[i])) {\n            this.activeBulletins.index = index;\n          }\n        });\n      }\n    },\n    updateBulletinsOverlay() {\n      if (this.activeBulletins && this.showAvalancheBulletins) {\n        let activeFeature = this.activeBulletins.feature;\n        let activeIndex = this.activeBulletins.index || 0;\n        // try to get point\n        let activePoint = activeFeature.getGeometry().getPoint(activeIndex);\n        if (!activePoint) {\n          activePoint = activeFeature.getGeometry().getPoint(0);\n        }\n        this.openOverlay(activePoint.getCoordinates());\n      } else {\n        this.closeOverlay();\n      }\n    },\n    openOverlay(coordinates, panIntoView = false) {\n      this.$nextTick(() => {\n        bulletinsOverlay.setPosition(coordinates);\n\n        if (panIntoView) {\n          this.panIntoView = true;\n          bulletinsOverlay.panIntoView(bulletinsOverlayPanOptions);\n        }\n      });\n    },\n    closeOverlay(force = false) {\n      bulletinsOverlay.setPosition(undefined);\n\n      if (force) {\n        this.activeBulletins = null;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.bulletins-overlay {\n  width: 300px;\n  max-width: 100%;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n}\n.bulletins-header {\n  background: $primary;\n  padding-top: 2rem;\n}\n.bulletins-header * {\n  color: white;\n}\n.bulletins-footer {\n  background: $grey-lighter;\n}\n.bulletins-overlay-danger-icon {\n  position: absolute;\n  top: -40px; /* iconSize / 2 */\n  left: 0;\n  right: 0;\n  margin: auto;\n  z-index: 2;\n  pointer-events: none;\n  transform: scale(1.2);\n}\n.country-name {\n  opacity: 0.75;\n}\n.regions-list {\n  opacity: 0.9;\n}\ndt,\ndd {\n  display: inline;\n}\ndt {\n  font-weight: bold;\n}\n.button-close {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n}\n</style>\n\n<style lang=\"scss\">\n/* Not scoped styles */\n.yeti-app {\n  .bulletins-overlay-container {\n    max-width: 90%;\n  }\n  .bulletins-overlay {\n    .input-orientation {\n      width: 70px;\n      height: 70px;\n    }\n  }\n}\n</style>\n","var render, staticRenderFns\nimport script from \"./WinterRouteLayer.vue?vue&type=script&lang=js\"\nexport * from \"./WinterRouteLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AvalancheBulletinsLayer.vue?vue&type=template&id=330f9cee&scoped=true\"\nimport script from \"./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"\nexport * from \"./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./AvalancheBulletinsLayer.vue?vue&type=style&index=0&id=330f9cee&prod&scoped=true&lang=scss\"\nimport style1 from \"./AvalancheBulletinsLayer.vue?vue&type=style&index=1&id=330f9cee&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"330f9cee\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector,\"icon-style\":_vm.style},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('div',{staticClass:\"data-avalanche-content\"},[(!_vm.isDateValid)?_c('p',{staticClass:\"is-size-7 pl-1 pb-5 has-text-left\"},[_c('span',{staticClass:\"has-text-primary\"},[_c('fa-icon',{attrs:{\"icon\":\"info-circle\"}}),_vm._v(\" \"),_c('em',[_vm._v(\"> \"+_vm._s(_vm.daysValid)+\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"days\")])])],1)]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"is-size-7 px-1 pb-5\"},[_c('span',[_c('strong',[_vm._v(_vm._s(_vm.overlay.title))]),_vm._v(\" \"),_c('em',[_vm._v(_vm._s(_vm.overlay.localisation))])])])]),_vm._v(\" \"),_c('p',{staticClass:\"is-size-7 has-text-left px-3\"},[_c('a',{attrs:{\"href\":_vm.overlay.url,\"target\":\"_blank\"}},[_c('strong',[_vm._v(\"Data-avalanche.org\")]),_vm._v(\" \"),_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}})],1)])]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Data-Avalanche\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"overlay\",staticClass:\"overlay\"},[_c('p',{staticClass:\"overlay-header\",style:({ background: _vm.color })},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"overlay-content\"},[_vm._t(\"overlay\")],2),_vm._v(\" \"),_c('img',{staticClass:\"overlay-icon\",attrs:{\"src\":_vm.icon('$color-text'),\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"overlay\" class=\"overlay\">\n    <p class=\"overlay-header\" :style=\"{ background: color }\">\n      <slot></slot>\n    </p>\n    <div class=\"overlay-content\">\n      <slot name=\"overlay\"></slot>\n    </div>\n    <img :src=\"icon('$color-text')\" alt=\"\" class=\"overlay-icon\" />\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  mixins: [layerMixin],\n  props: {\n    name: {\n      type: String,\n      required: true,\n    },\n    color: {\n      type: String,\n      required: true,\n    },\n    selector: {\n      type: Object,\n      required: true,\n    },\n    iconStyle: {\n      type: Function,\n      default: null,\n    },\n  },\n  computed: {\n    letter() {\n      return this.name.charAt(0).toUpperCase();\n    },\n    capitalizedName() {\n      return this.letter + this.name.slice(1);\n    },\n    dataLayer() {\n      return Yetix[this.name];\n    },\n    showLayer() {\n      return Yetix['show' + this.capitalizedName];\n    },\n    fetch() {\n      return Yetix['fetch' + this.capitalizedName];\n    },\n    setState() {\n      return Yetix['set' + this.capitalizedName];\n    },\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    layerSelector() {\n      return Object.assign(this.selector, {\n        checked: this.showLayer,\n        action: this.onShowLayer,\n      });\n    },\n  },\n  watch: {\n    showLayer() {\n      // on first load\n      if (this.dataLayer.length === 0) {\n        // set data\n        this.fetch().then(this.onResult);\n      }\n      // then, switch visibility\n      this.updateVisibility();\n    },\n  },\n  created() {\n    this.icon = (color) => {\n      let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" viewBox=\"-10 -10 20 20\">\n          <circle r=\"9\" fill=\"${color}\" stroke=\"white\" stroke-width=\"1.5\" />\n          <text y=\"4\" text-anchor=\"middle\" font-family=\"sans-serif\" font-size=\"10px\" font-weight=\"bold\" fill=\"white\">${this.letter}</text>\n        </svg>`;\n      return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n    };\n\n    // style is either a function (if iconStyle is set), or a Style object\n    this.style =\n      this.iconStyle ||\n      new ol.style.Style({\n        image: new ol.style.Icon({\n          src: this.icon(this.color),\n          size: [26, 26],\n        }),\n      });\n\n    this.overlay = new ol.Overlay({\n      positioning: 'top-left',\n      offset: [-4, -6],\n      className: 'overlay-container',\n    });\n  },\n  mounted() {\n    this.layer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: this.style,\n    });\n    this.map.addLayer(this.layer);\n\n    this.overlay.setElement(this.$refs.overlay);\n    this.map.addOverlay(this.overlay);\n    this.activeFeature = false;\n\n    // showLayer checked?\n    this.layer.setVisible(this.showLayer);\n\n    // only in first mount\n    if (this.dataLayer.length === 0) {\n      // events\n      Yetix.$on('mapClick', this.onMapClick);\n    }\n\n    // emit event on parent (this component is not instanciated)\n    this.$parent.$emit('layer', this.layerSelector);\n\n    this.map.addInteraction(\n      new ol.interaction.Select({\n        layers: [this.layer],\n        condition: ol.events.condition.pointerMove,\n        style: (feature) => {\n          // hovered style based on actual style (function or object)\n          let hoveredStyle;\n          if (this.iconStyle) {\n            hoveredStyle = this.style(feature).clone();\n          } else {\n            hoveredStyle = this.style.clone();\n          }\n          hoveredStyle.setZIndex(1);\n          hoveredStyle.getImage().setScale(1.3);\n          return hoveredStyle;\n        },\n      })\n    );\n  },\n  methods: {\n    onResult(data) {\n      let features = this.getFeaturesFromData(data);\n      let props = this.getPropertiesFromFeatures(features);\n\n      // set data in state\n      this.setState(props);\n\n      // add features\n      this.layer.getSource().addFeatures(features);\n    },\n    onShowLayer() {\n      Yetix['setShow' + this.capitalizedName](!this.showLayer);\n    },\n    updateVisibility() {\n      // set layer visibility\n      this.layer.setVisible(this.showLayer);\n      // if a feature is active (selected) and layer is visible\n      // open overlay, else close\n      if (this.activeFeature && this.showLayer) {\n        this.openOverlay(this.activeFeature);\n      } else {\n        this.closeOverlay();\n      }\n    },\n    onMapClick(e, clickedFeature) {\n      this.closeOverlay(true);\n      if (this.layer.getVisible()) {\n        this.map.forEachFeatureAtPixel(\n          e.pixel,\n          (feature) => {\n            if (feature !== clickedFeature) {\n              return false;\n            }\n            this.$parent.setOverlay(feature);\n            this.activeFeature = feature;\n            this.openOverlay(feature);\n\n            // set actual icon for specific feature on click\n            if (this.iconStyle) {\n              this.icon = () => this.style(feature).getImage().getSrc();\n            }\n\n            return true;\n          },\n          {\n            layerFilter: (layer) => {\n              return layer === this.layer;\n            },\n          }\n        );\n      }\n    },\n    openOverlay(feature) {\n      let coordinates = feature.getGeometry().getCoordinates();\n      this.overlay.setPosition(coordinates);\n    },\n    closeOverlay(force = false) {\n      this.overlay.setPosition(undefined);\n\n      if (force) {\n        this.$parent.unsetOverlay();\n        this.activeFeature = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.overlay {\n  min-width: 150px;\n  max-width: 100%;\n  background: $white;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n}\n.overlay-header {\n  font-size: 0.9em;\n  padding: 5px 0;\n  text-align: center;\n  color: $white;\n}\n.overlay-content {\n  text-align: center;\n  padding: 5px;\n  vertical-align: 1px;\n}\n.overlay-content a:hover,\n.overlay-content a:focus {\n  text-decoration: underline;\n}\n.overlay-link-icon {\n  margin-left: 5px;\n}\n.overlay-icon {\n  position: absolute;\n  transform: scale(1.3);\n  top: -7px;\n  left: -9px; /* iconSize / 2 */\n  margin: auto;\n  z-index: 2;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./IconLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./IconLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconLayer.vue?vue&type=template&id=634f76ee&scoped=true\"\nimport script from \"./IconLayer.vue?vue&type=script&lang=js\"\nexport * from \"./IconLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./IconLayer.vue?vue&type=style&index=0&id=634f76ee&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"634f76ee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\" :icon-style=\"style\">\n    <span v-translate>Data-Avalanche</span>\n    <template #overlay>\n      <div class=\"data-avalanche-content\">\n        <p v-if=\"!isDateValid\" class=\"is-size-7 pl-1 pb-5 has-text-left\">\n          <span class=\"has-text-primary\">\n            <fa-icon icon=\"info-circle\" />\n            <em>> {{ daysValid }} <span v-translate>days</span></em>\n          </span>\n        </p>\n\n        <p class=\"is-size-7 px-1 pb-5\">\n          <span>\n            <strong>{{ overlay.title }}</strong>\n            <em>{{ overlay.localisation }}</em>\n          </span>\n        </p>\n      </div>\n      <p class=\"is-size-7 has-text-left px-3\">\n        <a :href=\"overlay.url\" target=\"_blank\">\n          <strong>Data-avalanche.org</strong>\n          <fa-icon icon=\"external-link-alt\" />\n        </a>\n      </p>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\n\nimport ol from '@/js/libs/ol';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  data() {\n    return {\n      name: 'dataAvalanche',\n      color: 'hsl(51, 100%, 45%)',\n      colorExpired: 'lightgray',\n      overlay: {\n        title: null,\n        url: null,\n        date: null,\n        localisation: null,\n      },\n      daysValid: 180,\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('Data-Avalanche'),\n        image: 'data-avalanche.png',\n        small: true,\n      };\n    },\n    isDateValid() {\n      return this.dateValid(this.overlay.date);\n    },\n  },\n  created() {\n    let icon = (color) => {\n      let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" viewBox=\"0 0 26 26\">\n        <path d=\"M10.402 4.742a3 3 0 0 1 5.196 0l7.804 13.516a3 3 0 0 1-2.598 4.5H5.196a3 3 0 0 1-2.598-4.5z\" stroke=\"black\" stroke-width=\"1.25\" fill=\"${color}\" />\n        <path d=\"m11,7.5h4l-1,9l-2,0\"/>\n        <circle cx=\"13\" cy=\"19\" r=\"1.5\"></circle>\n        </svg>`;\n      return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n    };\n    this.style = (feature) => {\n      // expired delay is daysValid (icon color will change)\n      let isDateValid = this.dateValid(feature.get('date'));\n      let color = isDateValid ? this.color : this.colorExpired;\n      return new ol.style.Style({\n        image: new ol.style.Icon({\n          src: icon(color),\n          size: [26, 26],\n        }),\n        zIndex: isDateValid ? 1 : 0,\n      });\n    };\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.url = feature.get('link');\n\n      let fullTitle = feature.get('title');\n      let [title, text] = fullTitle.split(':').map((part) => part.trim());\n      this.overlay.title = title;\n      this.overlay.localisation = text;\n\n      this.overlay.date = feature.get('date');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.url = null;\n      this.overlay.date = null;\n    },\n    dateValid(date) {\n      return (new Date() - new Date(date)) / 1000 < 60 * 60 * 24 * this.daysValid;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.data-avalanche-content {\n  width: 150px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DataAvalancheLayer.vue?vue&type=template&id=4f855369&scoped=true\"\nimport script from \"./DataAvalancheLayer.vue?vue&type=script&lang=js\"\nexport * from \"./DataAvalancheLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./DataAvalancheLayer.vue?vue&type=style&index=0&id=4f855369&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f855369\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('a',{attrs:{\"href\":_vm.overlay.url,\"target\":\"_blank\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.overlay.title)+\"\\n      \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1)]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"FlowCapt sensor\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\">\n    <span v-translate>FlowCapt sensor</span>\n    <template #overlay>\n      <a :href=\"overlay.url\" target=\"_blank\">\n        {{ overlay.title }}\n        <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n      </a>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  data() {\n    return {\n      name: 'flowcapt',\n      color: 'hsl(112, 55%, 42%)',\n      overlay: {\n        title: null,\n        url: null,\n      },\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('FlowCapt sensors'),\n        image: 'flowcapt.png',\n        small: true,\n      };\n    },\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.title = feature.get('name') + ' - ' + feature.get('city');\n      this.overlay.url = feature.get('url');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.url = null;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FlowcaptLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FlowcaptLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FlowcaptLayer.vue?vue&type=template&id=3b57a72e\"\nimport script from \"./FlowcaptLayer.vue?vue&type=script&lang=js\"\nexport * from \"./FlowcaptLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('p',{staticClass:\"overlay-title\"},[_c('strong',[_vm._v(_vm._s(_vm.overlay.title))]),_vm._v(\" - \"),_c('em',[_vm._v(_vm._s(_vm.overlay.massif))])]),_vm._v(\" \"),_c('div',{staticClass:\"overlay-nivoses-icons\"},[_c('a',{attrs:{\"href\":_vm.overlay.url1,\"target\":\"_blank\"}},[_c('div',{staticClass:\"overlay-nivoses-icons-imgs\"},[_c('img',{attrs:{\"src\":_vm.icon,\"alt\":\"\"}}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"5 months\")])]),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.overlay.url2,\"target\":\"_blank\"}},[_c('div',{staticClass:\"overlay-nivoses-icons-imgs\"},[_c('img',{attrs:{\"src\":_vm.icon,\"alt\":\"\"}}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"8 days\")])])])]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Nivose beacon\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\">\n    <span v-translate>Nivose beacon</span>\n    <template #overlay>\n      <p class=\"overlay-title\">\n        <strong>{{ overlay.title }}</strong> - <em>{{ overlay.massif }}</em>\n      </p>\n      <div class=\"overlay-nivoses-icons\">\n        <a :href=\"overlay.url1\" target=\"_blank\">\n          <div class=\"overlay-nivoses-icons-imgs\">\n            <img :src=\"icon\" alt=\"\" />\n            <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n          </div>\n          <p v-translate>5 months</p>\n        </a>\n        <a :href=\"overlay.url2\" target=\"_blank\">\n          <div class=\"overlay-nivoses-icons-imgs\">\n            <img :src=\"icon\" alt=\"\" />\n            <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n          </div>\n          <p v-translate>8 days</p>\n        </a>\n      </div>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  data() {\n    return {\n      name: 'nivoses',\n      color: 'hsl(328, 95%, 50%)',\n      overlay: {\n        title: null,\n        massif: null,\n        url1: null,\n        url2: null,\n      },\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('Nivose beacons'),\n        image: 'nivose.png',\n        small: true,\n      };\n    },\n  },\n  created() {\n    let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 37\" width=\"50\" height=\"37\">\n      <path d=\"m2 2h34v2h-34z\" fill-opacity=\"0.5\" />\n      <path d=\"m2 14l4-7 3 5 3-3 4 5 7-8 2 4 2-3 3 6 1-2 2 3 2-4 6 3 6-7 1 3v6h-46z\" fill=\"#fe8f00\" />\n      <path d=\"m2 17l4 4 3-3 2 2 3-4 3 4 2-2 6 6-23-0zm37 23l3-3 2 3z\" fill=\"#fe0000\" />\n      <path d=\"m48 23l-1 1-3 2-3-3h-2l-4 3-5-1-4-1-3-1z\" fill=\"#0000fe\" />\n      <path d=\"m2 33l7-1 9 1h6l2-1 3-3 4-1 4 1 5 1 3-2 3 2v5h-46z\" fill=\"#03c776\" />\n    </svg>`;\n    this.icon = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.title = feature.get('name');\n      this.overlay.massif = feature.get('massif');\n      this.overlay.url1 = feature.get('url1');\n      this.overlay.url2 = feature.get('url2');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.massif = null;\n      this.overlay.url1 = null;\n      this.overlay.url2 = null;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.overlay-title em {\n  font-size: 0.9em;\n  opacity: 0.8;\n}\n.overlay-nivoses-icons {\n  display: flex;\n  justify-content: center;\n  margin: 10px;\n}\n.overlay-nivoses-icons a {\n  margin: 0 5px;\n  font-size: 0.9em;\n  line-height: 1;\n}\n.overlay-nivoses-icons img {\n  border: solid 1px rgba($black, 0.5);\n}\n.overlay-nivoses-icons-imgs {\n  position: relative;\n}\n.overlay-link-icon {\n  position: absolute;\n  top: 1px;\n  right: 1px;\n  background: white;\n  padding: 2px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./NivosesLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./NivosesLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NivosesLayer.vue?vue&type=template&id=43fa35ab&scoped=true\"\nimport script from \"./NivosesLayer.vue?vue&type=script&lang=js\"\nexport * from \"./NivosesLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./NivosesLayer.vue?vue&type=style&index=0&id=43fa35ab&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43fa35ab\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('a',{attrs:{\"href\":_vm.overlay.url,\"target\":\"_blank\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.overlay.title)+\"\\n      \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1)]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"ROMMA station\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\">\n    <span v-translate>ROMMA station</span>\n    <template #overlay>\n      <a :href=\"overlay.url\" target=\"_blank\">\n        {{ overlay.title }}\n        <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n      </a>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  data() {\n    return {\n      name: 'romma',\n      color: 'hsl(185, 45%, 40%)',\n      overlay: {\n        title: null,\n        url: null,\n      },\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('ROMMA stations'),\n        image: 'romma.png',\n        small: true,\n      };\n    },\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.title = feature.get('name');\n      this.overlay.url = feature.get('url');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.url = null;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RommaLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RommaLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RommaLayer.vue?vue&type=template&id=2758eb24\"\nimport script from \"./RommaLayer.vue?vue&type=script&lang=js\"\nexport * from \"./RommaLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  mixins: [layerMixin],\n  computed: {\n    showWinterRoute() {\n      return Yetix.showWinterRoute;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Winter hiking routes'),\n        checked: this.showWinterRoute,\n        action: this.onShowWinterRoute,\n        image: 'winter-route.png',\n        country: 'fr',\n      };\n    },\n  },\n  watch: {\n    showWinterRoute() {\n      this.updateVisibility();\n    },\n  },\n  created() {\n    this.layer = new ol.layer.Tile({});\n  },\n  mounted() {\n    // add layer first (maintain order)\n    this.map.addLayer(this.layer);\n\n    // then  set source\n    this.layer.setSource(\n      new ol.source.TileWMS({\n        url: 'https://api.ensg.eu/geoserver/yeti/wms',\n        params: { LAYERS: 'yeti:TRACERANDOHIVERNALE' },\n        attributions: '<a href=\"https://www.petzl.com/fondation/s/?language=fr\"> PETZL</a>',\n      })\n    );\n    this.updateVisibility();\n    this.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    onShowWinterRoute() {\n      Yetix.setShowWinterRoute(!this.showWinterRoute);\n    },\n    updateVisibility() {\n      this.layer.setVisible(this.showWinterRoute);\n      if (this.showWinterRoute) {\n        // set legend\n        this.setLegend();\n      } else {\n        Yetix.setWinterRouteLegend(null);\n      }\n    },\n    setLegend() {\n      let legend = [\n        {\n          title: this.$gettext('Winter hiking routes'),\n          image: 'winter-route-icon1.png',\n        },\n        {\n          title: this.$gettext('Tricky sections'),\n          text: this.$gettext(\n            'Some routes feature tricky sections where there is a risk of slipping dangerously (risk of impact or falling from a great height), falling into crevasses, collapsing seracs or drowning after falling through the ice on a mountain lake. To reduce the risk of slipping, it is often advisable to progress on foot, wearing crampons and suitably secured with rope.'\n          ),\n          image: 'winter-route-icon2.png',\n        },\n      ];\n      Yetix.setWinterRouteLegend(legend);\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayer.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <winter-route-layer @layer=\"onLayer($event, 1)\" />\n    <avalanche-bulletins-layer @layer=\"onLayer($event, 0)\" />\n    <data-avalanche-layer @layer=\"onLayer($event, 5)\" />\n    <flowcapt-layer @layer=\"onLayer($event, 4)\" />\n    <nivoses-layer @layer=\"onLayer($event, 2)\" />\n    <romma-layer @layer=\"onLayer($event, 3)\" />\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport AvalancheBulletinsLayer from '@/components/yeti/map-layers/AvalancheBulletinsLayer.vue';\nimport DataAvalancheLayer from '@/components/yeti/map-layers/DataAvalancheLayer.vue';\nimport FlowcaptLayer from '@/components/yeti/map-layers/FlowcaptLayer.vue';\nimport NivosesLayer from '@/components/yeti/map-layers/NivosesLayer.vue';\nimport RommaLayer from '@/components/yeti/map-layers/RommaLayer.vue';\nimport WinterRouteLayer from '@/components/yeti/map-layers/WinterRouteLayer.vue';\n\nexport default {\n  components: {\n    AvalancheBulletinsLayer,\n    FlowcaptLayer,\n    NivosesLayer,\n    RommaLayer,\n    WinterRouteLayer,\n    DataAvalancheLayer,\n  },\n  mixins: [layerMixin],\n  methods: {\n    onLayer(layer, index) {\n      Yetix.addLayerToOverlaysLayersSelector(layer, index);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./OverlaysLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./OverlaysLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OverlaysLayers.vue?vue&type=template&id=56b745c6\"\nimport script from \"./OverlaysLayers.vue?vue&type=script&lang=js\"\nexport * from \"./OverlaysLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport layerMixin from './layer';\nimport simplify from './simplify';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport c2c from '@/js/apis/c2c';\nimport ol from '@/js/libs/ol';\n\nlet normalLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'rgba(0, 0, 0, 0.4)',\n      width: 5,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'yellow',\n      width: 3,\n    }),\n  }),\n];\n\nlet simplifiedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'white',\n      width: 5,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'rgba(0, 0, 0, 0.7)',\n      width: 3,\n    }),\n  }),\n];\n\nlet highlightedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'yellow',\n      width: 9,\n    }),\n    zIndex: 1,\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'red',\n      width: 3,\n    }),\n    zIndex: 1,\n  }),\n];\n\nlet elevationPointStyle = new ol.style.Style({\n  image: new ol.style.Circle({\n    radius: 5,\n    fill: new ol.style.Fill({\n      color: 'yellow',\n    }),\n    stroke: new ol.style.Stroke({\n      color: 'red',\n      width: 2,\n    }),\n  }),\n});\n\nexport default {\n  mixins: [layerMixin],\n  data() {\n    return {\n      visibleSimplifiedLayer: false,\n    };\n  },\n  computed: {\n    features() {\n      return Yetix.features;\n    },\n    featuresLength() {\n      return Yetix.featuresLength;\n    },\n    validMinimumMapZoom() {\n      return Yetix.VALID_MINIMUM_MAP_ZOOM;\n    },\n    editMode() {\n      return Yetix.editMode;\n    },\n  },\n  watch: {\n    editMode() {\n      if (!this.editMode) {\n        this.disableInteractions();\n      } else {\n        this.enableInteractions();\n      }\n    },\n  },\n  mounted() {\n    // features layer\n    this.featuresLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: normalLineStyle,\n    });\n    this.featuresLayerSource = this.featuresLayer.getSource();\n\n    this.map.addLayer(this.featuresLayer);\n\n    // simplified layer (preview)\n    this.simplifiedLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: simplifiedLineStyle,\n    });\n    // get source\n    this.simplifiedSource = this.simplifiedLayer.getSource();\n    // add layer, and hide it\n    this.map.addLayer(this.simplifiedLayer);\n    this.simplifiedLayer.setVisible(false);\n\n    // layer for elevation point\n    this.elevationPointLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: elevationPointStyle,\n    });\n    // add layer, and hide it\n    this.map.addLayer(this.elevationPointLayer);\n    this.elevationPointLayer.setVisible(false);\n    // add one feature for point\n    const elevationPointSource = this.elevationPointLayer.getSource();\n    this.elevationPoint = new ol.Feature();\n    elevationPointSource.addFeature(this.elevationPoint);\n    // react to event\n    Yetix.$on('elevationProfile', this.onElevationProfile);\n\n    // set default featuresTitle\n    this.defaultFeaturesTitle = this.$gettext(Yetix.featuresTitle);\n    Yetix.setFeaturesTitle(this.defaultFeaturesTitle);\n\n    // load camptocamp document\n    let doc = this.$route.params.document_id;\n    let lang = this.$language.current;\n    if (doc) {\n      c2c['route'].getCooked(doc, lang).then(this.addFeaturesFromDocument);\n    }\n\n    // features events (added feature)\n    this.featuresLayerSource.on('addfeature', this.onFeature);\n    this.simplifiedSource.on('addfeature', this.onFeature);\n\n    this.addInteractions();\n\n    Yetix.$on('removeFeature', this.removeFeature);\n    Yetix.$on('removeFeatures', this.removeFeatures);\n    Yetix.$on('gpx', this.addFeaturesFromGpx);\n    Yetix.$on('previewSimplify', this.previewSimplify);\n    Yetix.$on('simplify', this.simplify);\n    Yetix.$on('featureUpdated', this.updateFeaturesFromStore);\n  },\n  methods: {\n    addInteractions() {\n      let source = this.featuresLayerSource;\n\n      this.modifyInteraction = new ol.interaction.Modify({ source });\n      this.map.addInteraction(this.modifyInteraction);\n\n      this.drawInteraction = new ol.interaction.Draw({\n        source,\n        type: 'LineString',\n      });\n      this.map.addInteraction(this.drawInteraction);\n\n      this.snapInteraction = new ol.interaction.Snap({ source });\n      this.map.addInteraction(this.snapInteraction);\n\n      this.drawInteraction.on('drawstart', this.onDrawStart);\n      this.drawInteraction.on('drawend', this.onDrawEnd);\n      this.modifyInteraction.on('modifyend', this.onModifyEnd);\n\n      this.disableInteractions();\n    },\n    enableInteractions() {\n      this.drawInteraction.setActive(true);\n      this.modifyInteraction.setActive(true);\n      this.snapInteraction.setActive(true);\n    },\n    disableInteractions() {\n      this.drawInteraction.setActive(false);\n      this.modifyInteraction.setActive(false);\n      this.snapInteraction.setActive(false);\n    },\n    onDrawStart() {\n      document.addEventListener('keydown', this.onKeyWhileDrawing);\n      document.addEventListener('keypress', this.onKeyWhileDrawing);\n    },\n    onDrawEnd() {\n      document.removeEventListener('keydown', this.onKeyWhileDrawing);\n      document.removeEventListener('keypress', this.onKeyWhileDrawing);\n    },\n    onModifyEnd() {\n      this.updateFeaturesFromStore();\n    },\n    onKeyWhileDrawing(event) {\n      event.preventDefault();\n      // backspace key\n      if (event.key === 'Backspace') {\n        this.drawInteraction.removeLastPoint();\n      }\n    },\n    onFeature(event) {\n      // set features styles\n      event.feature.set('highlightedStyle', highlightedLineStyle);\n      // emit new features, only in normal case (edit/drawing)\n      // not in gpx/document case (prevent multiple update for each lines)\n      if (!this.loadingExternalFeatures) {\n        this.updateFeaturesFromStore();\n      }\n    },\n    updateFeaturesFromStore() {\n      // updates features\n      let features = this.visibleSimplifiedLayer ? this.getSimplifiedFeatures() : this.getFeaturesLayerFeatures();\n      Yetix.setFeatures(features);\n      // update length\n      let featuresLength = this.getFeaturesLayerFeatures()\n        .map((feature) => {\n          return feature.getGeometry().getCoordinates().length;\n        })\n        .reduce((acc, value) => acc + value, 0);\n      Yetix.setFeaturesLength(featuresLength);\n\n      if (features.length === 0) {\n        // if user come from a document url, remove url\n        if (this.$route.params.document_id) {\n          this.$router.replace({ path: '/' + this.$route.name });\n        }\n        // set featuresTitle back to default\n        Yetix.setFeaturesTitle(this.defaultFeaturesTitle);\n      }\n    },\n    getFeaturesLayerFeatures() {\n      return this.getSortedFeatures(this.featuresLayerSource.getFeatures());\n    },\n    getSimplifiedFeatures() {\n      return this.getSortedFeatures(this.simplifiedSource.getFeatures());\n    },\n    getSortedFeatures(features) {\n      return features.sort((a, b) => {\n        return Number(a.ol_uid) > Number(b.ol_uid);\n      });\n    },\n    removeFeature(feature) {\n      // remove feature\n      // when only one left, ask for user to confirm\n      let toBeRemoved = !(\n        this.featuresLayerSource.getFeatures().length === 1 && !confirm(this.$gettext('Confirm delete'))\n      );\n      if (toBeRemoved) {\n        if (this.visibleSimplifiedLayer) {\n          this.simplifiedSource.removeFeature(feature);\n          // remove corresponding feature\n          this.getFeaturesLayerFeatures().forEach((f) => {\n            if (feature.get('id') === f.ol_uid) {\n              this.featuresLayerSource.removeFeature(f);\n            }\n          });\n        } else {\n          this.featuresLayerSource.removeFeature(feature);\n        }\n        this.updateFeaturesFromStore();\n      }\n    },\n    removeFeatures() {\n      // clear both layers\n      this.featuresLayerSource.clear();\n      this.simplifiedSource.clear(true);\n      // set default layer to be visible\n      this.hideSimplifiedLayer();\n      // update features\n      this.updateFeaturesFromStore();\n    },\n    addFeaturesFromGpx(gpx) {\n      // return if no gpx\n      if (!gpx) {\n        return;\n      }\n      // first, clear geometry\n      this.featuresLayerSource.clear();\n\n      // before reading gpx, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      let gpxFormat = new ol.format.GPX();\n      let features = gpxFormat.readFeatures(gpx, { featureProjection: 'EPSG:3857' });\n      features.forEach(this.addFeature);\n      // update store\n      Yetix.setFeaturesTitle(this.getFeaturesTitleFromGpx(features));\n\n      // gpx is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.updateFeaturesFromStore();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n    getFeaturesTitleFromGpx(features) {\n      if (features && features.length) {\n        let properties = features[0].getProperties();\n        if (properties.name) {\n          return properties.name;\n        } else {\n          return this.$gettext('GPX file');\n        }\n      }\n    },\n    addFeaturesFromDocument(doc) {\n      // before reading document, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      let documentGeometry = doc.data.geometry.geom_detail;\n      let feature = new ol.format.GeoJSON().readFeature(documentGeometry);\n      this.addFeature(feature);\n      // update store\n      Yetix.setFeaturesTitle(this.getFeaturesTitleFromDocument(doc));\n\n      // document is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.updateFeaturesFromStore();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n    addFeature(feature) {\n      // split multilinestrings into linestrings\n      if (feature.getGeometry().getType() === 'MultiLineString') {\n        let lines = feature.getGeometry().getLineStrings();\n        lines.map((line) => new ol.Feature({ geometry: line })).forEach(this.addFeature);\n      } else {\n        let nbPointsOnFeature = feature.getGeometry().getCoordinates().length;\n        if (nbPointsOnFeature >= 2) {\n          this.featuresLayerSource.addFeature(feature);\n        }\n      }\n    },\n    getFeaturesTitleFromDocument(document) {\n      return this.$documentUtils.getDocumentTitle(document.data);\n    },\n    fitMapToFeatures() {\n      let extent = ol.extent.createEmpty();\n\n      ol.extent.extend(extent, this.featuresLayerSource.getExtent());\n\n      this.view.fit(extent, { size: this.map.getSize() });\n\n      // set a minimum zoom level\n      this.view.setZoom(Math.max(this.validMinimumMapZoom, this.view.getZoom()));\n    },\n    hideSimplifiedLayer() {\n      this.featuresLayer.setVisible(true);\n      this.simplifiedLayer.setVisible(false);\n      this.visibleSimplifiedLayer = false;\n    },\n    showSimplifiedLayer() {\n      this.featuresLayer.setVisible(false);\n      this.simplifiedLayer.setVisible(true);\n      this.visibleSimplifiedLayer = true;\n    },\n    previewSimplify(tolerance) {\n      // every preview, clear the layer first\n      this.simplifiedSource.clear(true);\n      // show/hide layers based on tolerance\n      if (tolerance === 0) {\n        this.hideSimplifiedLayer();\n      } else {\n        this.showSimplifiedLayer();\n        // get each features, simplify them, and add to simplified layer\n        let features = this.getFeaturesLayerFeatures();\n        features.forEach((feature) => {\n          let geometry = feature.getGeometry();\n\n          // clone geometry\n          let simplifiedGeometry = geometry.clone();\n          let coordinates = simplifiedGeometry.getCoordinates();\n\n          // if no z, add 0\n          coordinates = coordinates.map((coord) => {\n            if (!coord[2]) {\n              coord[2] = 0;\n            }\n            return coord;\n          });\n\n          // check if tolerance is 0 == no simplification\n          if (tolerance !== 0) {\n            coordinates = simplify(coordinates, tolerance, true);\n            simplifiedGeometry.setCoordinates(coordinates);\n          }\n\n          // create feature (store reference of actual feature thanks to ol_uid)\n          let simplifiedFeature = new ol.Feature({ geometry: simplifiedGeometry, id: feature.ol_uid });\n          this.simplifiedSource.addFeature(simplifiedFeature);\n        });\n      }\n      this.updateFeaturesFromStore();\n    },\n    simplify() {\n      // clear features layer\n      this.featuresLayerSource.clear();\n      // get simplified features\n      let simplifiedFeatures = this.getSimplifiedFeatures();\n      // and move them one by one (to keep order of line chunks) in features layer\n      simplifiedFeatures.forEach((feature) => {\n        this.featuresLayerSource.addFeature(feature);\n      });\n      // hide simplified/show features\n      this.hideSimplifiedLayer();\n    },\n    onElevationProfile(event, coord) {\n      switch (event) {\n        case 'cursor_move':\n          this.elevationPointLayer.setVisible(true);\n          this.elevationPoint.setGeometry(new ol.geom.Point(coord));\n          break;\n        case 'cursor_end':\n          this.elevationPointLayer.setVisible(false);\n          break;\n      }\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","var render, staticRenderFns\nimport script from \"./RouteLayer.vue?vue&type=script&lang=js\"\nexport * from \"./RouteLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./YetiLayer.vue?vue&type=script&lang=js\"\nexport * from \"./YetiLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RouteLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RouteLayer.vue?vue&type=script&lang=js\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('area-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 1)}}}),_vm._v(\" \"),_c('yeti-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 0)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('base-layers',{on:{\"layers\":_vm.onBaseLayers}}),_vm._v(\" \"),_c('slopes-layers',{on:{\"layers\":_vm.onSlopesLayers}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  watch: {\n    layerSelector: {\n      handler(layer) {\n        this.$emit('layer', layer);\n      },\n      deep: true,\n    },\n  },\n};\n","<template>\n  <div>\n    <base-layers @layers=\"onBaseLayers\"></base-layers>\n    <slopes-layers @layers=\"onSlopesLayers\"></slopes-layers>\n  </div>\n</template>\n<script>\nimport layerMixin from './layer';\nimport layerSelectorWatcherMixin from './layer-selector-watcher';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport BaseLayers from '@/components/yeti/map-layers/BaseLayers';\nimport SlopesLayers from '@/components/yeti/map-layers/SlopesLayers';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  components: {\n    BaseLayers,\n    SlopesLayers,\n  },\n  mixins: [layerMixin, layerSelectorWatcherMixin],\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    areas() {\n      return Yetix.areas;\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Extent'),\n        checked: this.showAreas,\n        action: this.onShowAreas,\n        disabled: {\n          condition: this.mapZoom > Yetix.BLEND_MODES_MAX_ZOOM,\n          title: this.$gettext('Disabled at this zoom level'),\n          message: this.$gettext('Zoom out and it will be OK'),\n        },\n        image: 'yeti-extent.jpg',\n      };\n    },\n  },\n  watch: {\n    showAreas() {\n      this.updateVisibility();\n    },\n  },\n  created() {\n    // layer for outer stroke of areas\n    this.areasStrokeLayer = new ol.layer.VectorImage({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: `rgba(0, 0, 0, 0.2)`,\n            width: 14,\n          }),\n        }),\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: `rgba(0, 0, 0, 0.75)`,\n            width: 1,\n          }),\n        }),\n      ],\n    });\n    // layer for clip\n    // should set className, this forces ol to create another canvas\n    this.areasLayer = new ol.layer.VectorImage({\n      className: Yetix.BLEND_MODES_CLASS_NAME,\n      source: new ol.source.Vector(),\n      style: new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'white',\n        }),\n      }),\n    });\n    // group for c2c layers, clipped\n    this.groupLayer = new ol.layer.Group({\n      layers: [],\n    });\n\n    this.baseLayers = [];\n    this.slopesLayers = [];\n  },\n  mounted() {\n    // add layers\n    this.map.addLayer(this.areasStrokeLayer);\n    this.map.addLayer(this.areasLayer);\n    this.map.addLayer(this.groupLayer);\n\n    // showAreas checked?\n    this.updateVisibility();\n\n    this.$emit('layer', this.layerSelector);\n\n    // only in first mount\n    if (this.areas.length === 0) {\n      // set areas (yeti valid areas)\n      Yetix.fetchAreas().then(this.onAreasResult);\n      // event\n      Yetix.$on('mapMoveEnd', this.onMapMoveEnd);\n    }\n  },\n  methods: {\n    onAreasResult(data) {\n      let areasFeatures = this.getFeaturesFromData(data);\n      let areas = this.getPropertiesFromFeatures(areasFeatures);\n\n      // set areas in state\n      Yetix.setAreas(areas);\n\n      // add features\n      this.areasLayer.getSource().addFeatures(areasFeatures);\n      this.areasStrokeLayer.getSource().addFeatures(areasFeatures);\n\n      // check is area OK\n      this.isAreaOK();\n    },\n    isAreaOK() {\n      let mapExtent = this.getExtent('EPSG:3857');\n\n      let areaOk = true;\n\n      for (let area in this.areas) {\n        let polygon = this.areas[area].geometry;\n        if (polygon.intersectsExtent(mapExtent)) {\n          break;\n        } else {\n          areaOk = false;\n        }\n      }\n      Yetix.setAreaOk(areaOk);\n    },\n    onShowAreas() {\n      Yetix.setShowAreas(!this.showAreas);\n    },\n    updateVisibility() {\n      this.areasLayer.setVisible(this.showAreas);\n      this.groupLayer.setVisible(this.showAreas);\n      this.areasStrokeLayer.setVisible(this.showAreas);\n    },\n    onMapMoveEnd() {\n      // is area OK ?\n      this.isAreaOK();\n    },\n    onBaseLayers(baseLayers) {\n      let layers = baseLayers.map((layer) => {\n        layer.className_ = Yetix.BLEND_MODES_CLASS_NAME;\n        layer.on('prerender', (evt) => {\n          // source-atop: means the source (this layer) will only be drawn on actual pixels (area layer)\n          // but only when MAX_ZOOM\n          if (this.mapZoom <= Yetix.BLEND_MODES_MAX_ZOOM) {\n            evt.context.globalCompositeOperation = 'source-atop';\n          }\n        });\n        layer.on('postrender', (evt) => {\n          // source-over: returns to default\n          evt.context.globalCompositeOperation = 'source-over';\n        });\n        return layer;\n      });\n      this.baseLayers = layers;\n\n      this.groupLayer.setLayers(new ol.Collection(layers));\n    },\n    onSlopesLayers(slopesLayers) {\n      let layers = slopesLayers.map((layer) => {\n        layer.className_ = Yetix.BLEND_MODES_CLASS_NAME;\n        return layer;\n      });\n      this.slopesLayers = layers;\n\n      let groupLayers = this.groupLayer.getLayers();\n      layers.map((layer) => groupLayers.push(layer));\n      this.groupLayer.setLayers(groupLayers);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AreaLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AreaLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AreaLayer.vue?vue&type=template&id=2fc525f2\"\nimport script from \"./AreaLayer.vue?vue&type=script&lang=js\"\nexport * from \"./AreaLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport layerMixin from './layer';\nimport layerSelectorWatcherMixin from './layer-selector-watcher';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  mixins: [layerMixin, layerSelectorWatcherMixin],\n  computed: {\n    yetiData() {\n      return Yetix.yetiData;\n    },\n    yetiExtent() {\n      return Yetix.yetiExtent;\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n    showYeti() {\n      return Yetix.showYeti;\n    },\n    yetiOk() {\n      return Yetix.yetiOk;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Risk'),\n        checked: this.showYeti,\n        action: this.onShowYeti,\n        disabled: {\n          condition: !this.yetiOk,\n          title: this.$gettext('No risk to show yet'),\n          message: this.$gettext('Compute one for a specific zone from the Risk tab'),\n        },\n        image: 'yeti-risk.jpg',\n        opacity: Yetix.YETI_LAYER_OPACITY,\n        blendModes: true,\n      };\n    },\n    yetiLayersSelector() {\n      return Yetix.yetiLayersSelector;\n    },\n  },\n  watch: {\n    yetiData() {\n      if (!this.yetiData) {\n        this.clearLayers();\n        return;\n      }\n      this.drawImage();\n    },\n    yetiExtent() {\n      this.drawExtent(this.yetiExtent);\n    },\n    showAreas() {\n      // switch classname when showareas updates\n      this.setLayerClassName();\n    },\n    showYeti() {\n      this.layer.setVisible(this.showYeti);\n      this.extentLayer.setVisible(this.showYeti);\n    },\n    yetiLayersSelector: {\n      handler(layers) {\n        this.setLayerOpacity(layers[0].opacity);\n        this.setLayerBlendModes(layers[0].blendModes);\n      },\n      deep: true,\n    },\n  },\n  created() {\n    this.layer = new ol.layer.Image({\n      source: new ol.source.ImageStatic({\n        url: null,\n        imageExtent: ol.extent.createEmpty(),\n      }),\n      opacity: Yetix.YETI_LAYER_OPACITY,\n    });\n    this.extentLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'hsla(30, 100%, 60%, .45)',\n          }),\n        }),\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: 'hsla(30, 100%, 40%, 1)',\n            width: 2,\n          }),\n          geometry: (feature) => {\n            return new ol.geom.Polygon([feature.getGeometry().getCoordinates()[1]]);\n          },\n        }),\n      ],\n    });\n    // blend modes multiply for yeti layer\n    this.layer.on('prerender', (evt) => {\n      evt.context.globalCompositeOperation = 'multiply';\n    });\n    this.layer.on('postrender', (evt) => {\n      evt.context.globalCompositeOperation = 'source-over';\n    });\n  },\n  mounted() {\n    this.map.addLayer(this.layer);\n    this.map.addLayer(this.extentLayer);\n\n    this.setLayerClassName();\n\n    this.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    onShowYeti() {\n      Yetix.setShowYeti(!this.showYeti);\n    },\n    clearLayers() {\n      this.layer.setSource(null);\n\n      this.extentLayer.getSource().clear();\n    },\n    drawExtent(extent) {\n      // extend extent\n      let extentFill = ol.extent.buffer(extent, Math.max(extent[2] - extent[0], extent[3] - extent[1]) / 10);\n      // then, create a donut polygon\n      let feature = new ol.Feature(new ol.geom.Polygon([this.toLinearRing(extentFill), this.toLinearRing(extent)]));\n      // add feature to extentlayer\n      this.extentLayer.getSource().addFeature(feature);\n    },\n    drawImage() {\n      let xml = new DOMParser().parseFromString(this.yetiData, 'application/xml');\n      let imageBase64 = xml.getElementsByTagName('wps:ComplexData')[0].textContent;\n      let imageBbox = xml.getElementsByTagName('wps:ComplexData')[1].textContent;\n      let imageExtent = ol.proj.transformExtent(imageBbox.split(',').map(Number), 'EPSG:4326', 'EPSG:3857');\n\n      this.layer.setSource(\n        new ol.source.ImageStatic({\n          imageLoadFunction(image) {\n            image.getImage().src = 'data:image/png;base64,' + imageBase64;\n          },\n          imageExtent,\n        })\n      );\n      // source is set\n      Yetix.setYetiOk(true);\n      // set yeti legend\n      this.setLegend(xml);\n    },\n    setLegend(xml) {\n      let legend = JSON.parse(xml.getElementsByTagName('wps:ComplexData')[2].textContent);\n      legend.items.forEach((item) => {\n        item.color = `rgb(${item.color[0]}, ${item.color[1]}, ${item.color[2]})`;\n      });\n      // add attribution (each attribution on its own line)\n      this.layer.getSource().setAttributions(legend.attributions);\n      // set legend in yetix\n      Yetix.setYetiLegend(legend);\n    },\n    toLinearRing(extent) {\n      let minX = extent[0];\n      let minY = extent[1];\n      let maxX = extent[2];\n      let maxY = extent[3];\n      return [\n        [minX, minY],\n        [minX, maxY],\n        [maxX, maxY],\n        [maxX, minY],\n        [minX, minY],\n      ];\n    },\n    setLayerClassName() {\n      // it switches classname based on showareas visibility\n      // use same name as areas if showareas, so blend modes will apply to this layer\n      // or use default ol-layer to apply blend modes to whole layers\n      this.layer.className_ = this.showAreas ? Yetix.BLEND_MODES_CLASS_NAME : 'ol-layer';\n    },\n    setLayerOpacity(opacity) {\n      this.layer.setOpacity(opacity);\n    },\n    setLayerBlendModes(isBlend) {\n      this.layer.on('prerender', (evt) => {\n        evt.context.globalCompositeOperation = isBlend ? 'multiply' : 'source-over';\n      });\n      // force re-render\n      this.layer.setOpacity(this.layer.getOpacity() + 0.01);\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayer.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <area-layer @layer=\"onLayer($event, 1)\" />\n    <yeti-layer @layer=\"onLayer($event, 0)\" />\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport AreaLayer from '@/components/yeti/map-layers/AreaLayer.vue';\nimport YetiLayer from '@/components/yeti/map-layers/YetiLayer.vue';\n\nexport default {\n  components: {\n    AreaLayer,\n    YetiLayer,\n  },\n  mixins: [layerMixin],\n  methods: {\n    onLayer(layer, index) {\n      Yetix.addLayerToYetiLayersSelector(layer, index);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiLayers.vue?vue&type=template&id=a8624d64\"\nimport script from \"./YetiLayers.vue?vue&type=script&lang=js\"\nexport * from \"./YetiLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"legend\"},[_c('div',[_c('div',{staticClass:\"legend-button is-pulled-right ol-control\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showLegend = !_vm.showLegend}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Legend\")]),_vm._v(\" \"),(_vm.atLeastOneLegend)?_c('fa-layers',{staticClass:\"icon\"},[_c('fa-icon',{attrs:{\"icon\":\"circle\",\"transform\":\"shrink-2 up-18 left-2\"}}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"icon-notification\",attrs:{\"icon\":\"check-circle\",\"inverse\":\"\",\"transform\":\"shrink-2 up-18 left-2\"}})],1):_vm._e()],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLegend === true),expression:\"showLegend === true\"}],staticClass:\"legend-content\"},[(_vm.atLeastOneLegend)?_c('div',[(_vm.yetiLegend)?_c('yeti-layer-legend',{staticClass:\"legend-item\"}):_vm._e(),_vm._v(\" \"),(_vm.winterRouteLegend)?_c('winter-route-layer-legend',{staticClass:\"legend-item\"}):_vm._e()],1):_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-italic\"},[_vm._v(\"No specific legend to show\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-size-5\"},[_vm._v(\"Winter hiking routes\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.winterRouteLegend),function(item,i){return _c('li',{key:i},[_c('img',{staticClass:\"image\",attrs:{\"src\":require('@/assets/img/yeti/legends/' + item.image)}}),_vm._v(\" \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),(item.text)?_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.text))]):_vm._e()])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"title is-size-5\" v-translate>Winter hiking routes</p>\n    <ul>\n      <li v-for=\"(item, i) of winterRouteLegend\" :key=\"i\">\n        <img class=\"image\" :src=\"require('@/assets/img/yeti/legends/' + item.image)\" />\n        <span class=\"title\">{{ item.title }}</span>\n        <span class=\"text\" v-if=\"item.text\">{{ item.text }}</span>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    winterRouteLegend() {\n      return Yetix.winterRouteLegend;\n    },\n  },\n};\n</script>\n\n<style scoped>\nli {\n  padding: 5px;\n}\n.image {\n  vertical-align: bottom;\n  display: inline-block;\n  margin-right: 5px;\n}\n.title {\n  font-size: 1rem;\n}\n.text {\n  display: block;\n  padding-left: 30px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./WinterRouteLayerLegend.vue?vue&type=template&id=fecaf2ce&scoped=true\"\nimport script from \"./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"\nexport * from \"./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"\nimport style0 from \"./WinterRouteLayerLegend.vue?vue&type=style&index=0&id=fecaf2ce&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fecaf2ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-size-5\"},[_vm._v(\"YETI Risk\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.yetiLegend.items),function(item,i){return _c('li',{key:i},[_c('span',{staticClass:\"color\",style:('background:' + item.color)}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$gettext(item.text['en'])))])])}),0),_vm._v(\" \"),_c('p',{staticClass:\"is-size-6 is-italic\"},[_vm._v(_vm._s(_vm.$gettext(_vm.yetiLegend.comment['en'])))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"title is-size-5\" v-translate>YETI Risk</p>\n    <ul>\n      <li v-for=\"(item, i) of yetiLegend.items\" :key=\"i\">\n        <span class=\"color\" :style=\"'background:' + item.color\" />\n        <!-- $gettext('Risky slopes') -->\n        <!-- $gettext('Risky slopes, increased risk due to orientation') -->\n        <!-- $gettext('Residual risk >1') -->\n        <!-- $gettext('Residual risk >1.3') -->\n        <!-- $gettext('Residual risk >1.5') -->\n        <span>{{ $gettext(item.text['en']) }}</span>\n      </li>\n    </ul>\n    <!-- $gettext('From danger 3, consider the slopes which dominate the route') -->\n    <p class=\"is-size-6 is-italic\">{{ $gettext(yetiLegend.comment['en']) }}</p>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    yetiLegend() {\n      return Yetix.yetiLegend;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.color {\n  vertical-align: bottom;\n  display: inline-block;\n  width: 21px;\n  height: 21px;\n  margin-right: 5px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayerLegend.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayerLegend.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiLayerLegend.vue?vue&type=template&id=7cfb61a4&scoped=true\"\nimport script from \"./YetiLayerLegend.vue?vue&type=script&lang=js\"\nexport * from \"./YetiLayerLegend.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiLayerLegend.vue?vue&type=style&index=0&id=7cfb61a4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cfb61a4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"legend\">\n      <div>\n        <div class=\"legend-button is-pulled-right ol-control\">\n          <button type=\"button\" @click=\"showLegend = !showLegend\">\n            <span v-translate>Legend</span>\n            <fa-layers class=\"icon\" v-if=\"atLeastOneLegend\">\n              <fa-icon icon=\"circle\" transform=\"shrink-2 up-18 left-2\" />\n              <fa-icon icon=\"check-circle\" inverse transform=\"shrink-2 up-18 left-2\" class=\"icon-notification\" />\n            </fa-layers>\n          </button>\n        </div>\n      </div>\n      <div class=\"legend-content\" v-show=\"showLegend === true\">\n        <div v-if=\"atLeastOneLegend\">\n          <yeti-layer-legend v-if=\"yetiLegend\" class=\"legend-item\"></yeti-layer-legend>\n          <winter-route-layer-legend v-if=\"winterRouteLegend\" class=\"legend-item\"></winter-route-layer-legend>\n        </div>\n        <p class=\"is-italic\" v-else v-translate>No specific legend to show</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\nimport WinterRouteLayerLegend from '@/components/yeti/map-layers/WinterRouteLayerLegend';\nimport YetiLayerLegend from '@/components/yeti/map-layers/YetiLayerLegend';\n\nexport default {\n  components: {\n    WinterRouteLayerLegend,\n    YetiLayerLegend,\n  },\n  data() {\n    return {\n      showLegend: undefined,\n    };\n  },\n  computed: {\n    yetiLegend() {\n      return Yetix.yetiLegend;\n    },\n    winterRouteLegend() {\n      return Yetix.winterRouteLegend;\n    },\n    atLeastOneLegend() {\n      return this.yetiLegend || this.winterRouteLegend;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.legend {\n  position: absolute;\n  z-index: 6;\n  top: 1.25rem;\n  right: 1.25rem;\n  max-width: 400px;\n\n  .legend-button {\n    position: static;\n\n    button {\n      width: auto;\n      padding: 0 0.5em;\n    }\n  }\n\n  .legend-content {\n    margin-top: 0.5rem;\n    margin-left: 1.25rem;\n    border-radius: 2px;\n    border: 1px solid lightgray;\n    padding: 0.5rem;\n    background: white;\n    clear: both;\n  }\n\n  .legend-item + .legend-item {\n    margin-top: 2rem;\n    padding-top: 1em;\n    border-top: solid 1px $grey-lighter;\n  }\n}\n\n.icon {\n  position: absolute;\n  top: 7px;\n  right: -10px;\n}\n.icon-notification {\n  color: $primary;\n}\n\n@media screen and (max-width: $tablet) {\n  .legend {\n    top: 0.5rem;\n\n    .legend-content {\n      margin-left: 0.5rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMapLegend.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMapLegend.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiMapLegend.vue?vue&type=template&id=7632a1e4&scoped=true\"\nimport script from \"./YetiMapLegend.vue?vue&type=script&lang=js\"\nexport * from \"./YetiMapLegend.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiMapLegend.vue?vue&type=style&index=0&id=7632a1e4&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7632a1e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"column map-container\">\n    <div style=\"width: 100%; height: 100%\">\n      <yeti-map-legend />\n      <div ref=\"map\" style=\"width: 100%; height: 100%\" />\n      <map-layers />\n      <yeti-layers />\n      <overlays-layers />\n      <route-layer />\n      <div\n        ref=\"layerSwitcherButton\"\n        class=\"ol-control ol-control-layer-switcher-button\"\n        :title=\"$gettext('Layers', 'Map controls')\"\n      >\n        <button @click.stop=\"activeLayersTab\">\n          <fa-icon icon=\"layer-group\" width=\"100%\" />\n        </button>\n      </div>\n\n      <div ref=\"recenterOnControl\" class=\"ol-control ol-control-recenter-on\">\n        <input type=\"text\" :placeholder=\"$gettext('Recenter on...')\" @input=\"searchRecenterPropositions\" />\n      </div>\n\n      <div\n        v-show=\"showRecenterOnPropositions\"\n        ref=\"recenterOnPropositions\"\n        class=\"ol-control ol-control-recenter-on-propositions\"\n      >\n        <ul v-if=\"recenterPropositions && recenterPropositions.data && recenterPropositions.data.features\">\n          <li v-for=\"(item, i) of recenterPropositions.data.features\" :key=\"i\" @click=\"recenterOn(item)\">\n            {{ item.properties.name }},\n            <small>{{ item.properties.state }}, {{ item.properties.country }}</small>\n          </li>\n        </ul>\n      </div>\n\n      <div\n        ref=\"centerOnGeolocation\"\n        :title=\"$gettext('Recenter on your current position')\"\n        class=\"ol-control ol-control-center-on-geolocation\"\n      >\n        <button @click=\"activateCenterOnGeolocation\">\n          <fa-icon icon=\"bullseye\" />\n        </button>\n      </div>\n\n      <div ref=\"editMode\">\n        <edit-mode-button />\n      </div>\n    </div>\n\n    <toast ref=\"toast-layer\">\n      <template #title>\n        <span v-translate>Layers have moved</span>\n      </template>\n      <span v-translate>Now on the left, on the Layers tab</span> <fa-icon icon=\"layer-group\" />\n    </toast>\n  </div>\n</template>\n\n<script>\nimport MapLayers from './map-layers/MapLayers.vue';\nimport OverlaysLayers from './map-layers/OverlaysLayers.vue';\nimport RouteLayer from './map-layers/RouteLayer.vue';\nimport YetiLayers from './map-layers/YetiLayers.vue';\n\nimport EditModeButton from '@/components/yeti/EditModeButton';\nimport Toast from '@/components/yeti/Toast';\nimport YetiMapLegend from '@/components/yeti/YetiMapLegend';\nimport Yetix from '@/components/yeti/Yetix';\nimport photon from '@/js/apis/photon';\nimport ol from '@/js/libs/ol';\n\nconst DEFAULT_CENTER = [6.25, 45.15];\nconst DEFAULT_ZOOM = 6;\nconst MAX_ZOOM = 19;\nconst TRACKING_INITIAL_ZOOM = 13;\n\nexport default {\n  components: {\n    EditModeButton,\n    MapLayers,\n    OverlaysLayers,\n    RouteLayer,\n    Toast,\n    YetiLayers,\n    YetiMapLegend,\n  },\n  data() {\n    return {\n      recenterPropositions: null,\n      showRecenterOnPropositions: false,\n    };\n  },\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n  },\n  created() {\n    // build map\n    this.map = new ol.Map({\n      controls: [\n        new ol.control.Zoom({\n          zoomInTipLabel: this.$gettext('Zoom in', 'Map controls'),\n          zoomOutTipLabel: this.$gettext('Zoom out', 'Map controls'),\n        }),\n        new ol.control.ScaleLine(),\n        new ol.control.Attribution({ tipLabel: this.$gettext('Attributions', 'Map controls') }),\n      ],\n\n      view: new ol.View({\n        center: ol.proj.transform(DEFAULT_CENTER, 'EPSG:4326', 'EPSG:3857'),\n        zoom: DEFAULT_ZOOM,\n        maxZoom: MAX_ZOOM,\n        enableRotation: false,\n      }),\n    });\n    this.view = this.map.getView();\n  },\n  mounted() {\n    // when mounted, bind map to element\n    this.map.setTarget(this.$refs.map);\n    // add specific controls\n    let controls = [\n      new ol.control.FullScreen({ source: this.$el, tipLabel: this.$gettext('Toggle full-screen', 'Map Controls') }),\n      new ol.control.Control({ element: this.$refs.layerSwitcherButton }),\n      new ol.control.Control({ element: this.$refs.editMode }),\n      new ol.control.Control({ element: this.$refs.recenterOnControl }),\n      new ol.control.Control({ element: this.$refs.recenterOnPropositions }),\n      new ol.control.Control({ element: this.$refs.centerOnGeolocation }),\n    ];\n    controls.map((control) => this.map.addControl(control));\n\n    this.geolocation = new ol.Geolocation({\n      trackingOptions: {\n        enableHighAccuracy: true,\n      },\n      projection: this.view.getProjection(),\n    });\n\n    // events\n    this.map.on('moveend', this.onMapMoveEnd);\n    this.geolocation.on('change:position', this.setCenterOnGeoLocation);\n  },\n  methods: {\n    getExtent(projection) {\n      let extent = this.view.calculateExtent(this.map.getSize() || null);\n      if (projection) {\n        extent = ol.proj.transformExtent(extent, ol.proj.get('EPSG:3857'), ol.proj.get(projection));\n      }\n      return extent;\n    },\n    searchRecenterPropositions(event) {\n      let query = event.target.value;\n\n      if (query && query.length >= 3) {\n        let center = this.view.getCenter();\n        let centerWgs84 = ol.proj.toLonLat(center);\n\n        this.recenterPropositions = photon.getPropositions(query, this.$language.current, centerWgs84);\n        this.showRecenterOnPropositions = true;\n      }\n    },\n    recenterOn(item) {\n      let feature = new ol.format.GeoJSON().readFeature(item);\n      let extent = feature.get('extent');\n      let coordinates = feature.getGeometry().flatCoordinates;\n\n      if (extent) {\n        extent = ol.proj.transformExtent(extent, 'EPSG:4326', 'EPSG:3857');\n        this.view.fit(extent, { size: this.map.getSize(), maxZoom: 12 });\n      } else {\n        coordinates = ol.proj.transform(coordinates, 'EPSG:4326', 'EPSG:3857');\n        this.view.setCenter(coordinates);\n        this.view.setZoom(16);\n      }\n\n      this.showRecenterOnPropositions = false;\n    },\n    getMapZoom() {\n      return Math.floor(this.view.getZoom() * 10) / 10;\n    },\n    onMapMoveEnd() {\n      let mapZoom = this.getMapZoom();\n      // emit map zoom, only if zoom changed\n      if (this.mapZoom !== mapZoom) {\n        Yetix.setMapZoom(mapZoom);\n      }\n      // emit an event for map layers\n      Yetix.$emit('mapMoveEnd');\n\n      this.map.on('click', this.onMapClick);\n    },\n    onMapClick(evt) {\n      // close controls\n      this.showRecenterOnPropositions = false;\n\n      // get clicked feature (the visible one on top)\n      let clickedFeature = this.map.getFeaturesAtPixel(evt.pixel)[0];\n\n      // emit an event for map layers\n      // pass clicked feature\n      Yetix.$emit('mapClick', evt, clickedFeature);\n    },\n    activeLayersTab() {\n      this.$refs['toast-layer'].toast();\n      Yetix.setActiveTab(0);\n    },\n    activateCenterOnGeolocation() {\n      this.geolocation.setTracking(true);\n    },\n    setCenterOnGeoLocation() {\n      let position = this.geolocation.getPosition();\n      this.view.setZoom(TRACKING_INITIAL_ZOOM);\n      this.view.setCenter(position);\n      this.geolocation.setTracking(false);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '~ol/ol.css';\n@import '@/assets/sass/variables';\n\n$control-margin: 0.52em;\n\n.ol-control-layer-switcher {\n  bottom: 3em;\n  left: $control-margin;\n  right: $control-margin;\n  max-width: 400px;\n  text-decoration: none;\n  background-color: white;\n  border: 1px solid lightgray;\n  border-radius: 2px;\n  padding: 0 10px 10px 10px;\n  display: flex;\n\n  & > div {\n    flex: 1;\n\n    header {\n      font-weight: bold;\n      padding-top: 10px;\n    }\n  }\n}\n\n.ol-control-layer-switcher-button {\n  bottom: $control-margin;\n  left: $control-margin;\n}\n\n.ol-control-recenter-on {\n  top: $control-margin;\n  left: 3em;\n  background: $white;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2);\n\n  input {\n    width: 14.75rem;\n    border: none;\n    padding: 0.3rem;\n    border-radius: 2px;\n  }\n}\n\n.ol-control-recenter-on-propositions {\n  top: 35px;\n  left: 3em;\n  background: white;\n  border-radius: 2px;\n  border: 1px solid lightgray;\n  padding: 5px;\n\n  li:hover {\n    background: lightgrey;\n    cursor: pointer;\n  }\n}\n\n.ol-control-center-on-geolocation {\n  top: 92px;\n  left: $control-margin;\n}\n\n.map-control-listitem {\n  display: flex;\n}\n.map-control-listitem label {\n  padding-left: 0.25rem;\n}\n\n$section-padding: 1.5rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(\n  100vh - #{$navbar-height} - #{$section-padding} - 2 * #{$box-padding} - #{$header-height} - #{$box-margin} - #{$box-margin}\n);\n\n.map-container {\n  position: relative;\n  padding-left: 0;\n}\n@media screen and (max-width: $tablet) {\n  .map-container {\n    height: $yeti-height;\n    padding-left: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    .map-container {\n      min-height: 100%;\n    }\n  }\n}\n\n.ol-control-edit-mode {\n  top: $control-margin;\n  left: 18.75rem;\n}\n\n@media screen and (max-width: $widescreen) {\n  .ol-control-edit-mode {\n    top: 3rem;\n    left: 3rem;\n  }\n}\n\n.icon-notification {\n  color: $primary;\n}\n</style>\n\n<style lang=\"scss\">\n.yeti-app {\n  .ol-control {\n    background: $white;\n    padding: 2px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2);\n  }\n  .ol-control button {\n    background: $grey-dark;\n    color: $white;\n\n    &:hover,\n    &:focus {\n      background: $grey;\n      outline: none;\n    }\n  }\n  .ol-control > * {\n    line-height: 1;\n  }\n\n  .ol-attribution {\n    max-width: 75%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiMap.vue?vue&type=template&id=630830a2&scoped=true\"\nimport script from \"./YetiMap.vue?vue&type=script&lang=js\"\nexport * from \"./YetiMap.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiMap.vue?vue&type=style&index=0&id=630830a2&prod&scoped=true&lang=scss\"\nimport style1 from \"./YetiMap.vue?vue&type=style&index=1&id=630830a2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"630830a2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- eslint-disable no-irregular-whitespace -->\n  <div>\n    <div class=\"section yeti-app\">\n      <html-header title=\"YETI\" />\n      <div class=\"box yeti-overlay\" v-if=\"showDisclaimer\">\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <form action=\"#\" @submit=\"onSubmitDisclaimer\">\n          <input-checkbox v-model=\"checkDisclaimer\" v-translate>\n            I read and understood the interest and limitations of YETI\n          </input-checkbox>\n          <button class=\"button is-primary\" :disabled=\"!checkDisclaimer\" v-translate>Launch YETI</button>\n        </form>\n      </div>\n\n      <div class=\"box yeti-overlay\" v-if=\"$route.params.page === 'faq'\">\n        <p><router-link to=\".\" v-translate>Go back to YETI</router-link></p>\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <yeti-article :article=\"articles.faq\"></yeti-article>\n      </div>\n\n      <div class=\"columns yeti-content\">\n        <div class=\"column is-5-tablet is-5-desktop is-4-fullhd form-container\">\n          <div class=\"columns is-mobile is-justify-content-space-between mb-5\">\n            <div class=\"is-flex is-align-items-center yeti-title\">\n              <h1 class=\"ml-3 mr-1 px-2 has-text-weight-bold has-background-primary has-text-white\">YETI</h1>\n              <p class=\"has-text-primary\">Prparez votre course</p>\n            </div>\n            <ul class=\"column is-narrow pb-0\">\n              <li>\n                <router-link class=\"is-block yetitabs-link\" :to=\"$route.fullPath + '/faq'\" v-translate>\n                  FAQ?\n                </router-link>\n              </li>\n            </ul>\n          </div>\n          <div class=\"columns mb-0 is-mobile\">\n            <tabs :tabs=\"tabs\" />\n          </div>\n          <div class=\"box\">\n            <panel :index=\"0\">\n              <sub-panel-layers />\n            </panel>\n            <panel :index=\"1\">\n              <validation-button\n                class=\"is-hidden-mobile yeti-validation--top\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n                tabindex=\"-1\"\n              />\n              <sub-panel-bra />\n              <sub-panel-methods @warn-about-method-bra=\"warnAboutMethodBra\" />\n              <validation-button\n                v-show=\"method.type\"\n                class=\"yeti-validation--bottom\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n              />\n            </panel>\n\n            <panel :index=\"2\">\n              <sub-panel-course />\n            </panel>\n          </div>\n\n          <div class=\"box yeti-logos\">\n            <div class=\"columns is-mobile is-vcentered\">\n              <div class=\"column has-text-centered\">\n                <a href=\"http://www.ensg.eu\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-ensg.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-ensg.avif\" type=\"image/avif\" />\n                    <img src=\"@/assets/img/yeti/logo-ensg.jpg\" alt=\"Logo ENSG\" width=\"120\" loading=\"lazy\" />\n                  </picture>\n                </a>\n              </div>\n              <div class=\"column has-text-centered\">\n                <a href=\"https://www.petzl.com/fondation/fondation-petzl?language=fr\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.avif\" type=\"image/avif\" />\n                    <img\n                      src=\"@/assets/img/yeti/logo-fondation-petzl.jpg\"\n                      alt=\"Logo Fondation Petzl\"\n                      width=\"90\"\n                      loading=\"lazy\"\n                    />\n                  </picture>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <yeti-map ref=\"map\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport YetiArticle from '@/components/yeti/Article';\nimport Panel from '@/components/yeti/Panel';\nimport SubPanelBra from '@/components/yeti/SubPanelBra';\nimport SubPanelCourse from '@/components/yeti/SubPanelCourse';\nimport SubPanelLayers from '@/components/yeti/SubPanelLayers';\nimport SubPanelMethods from '@/components/yeti/SubPanelMethods';\nimport Tabs from '@/components/yeti/Tabs';\nimport ValidationButton from '@/components/yeti/ValidationButton';\nimport YetiMap from '@/components/yeti/YetiMap';\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nconst YETI_URL_BASE =\n  'https://api.ensg.eu/yeti-wps?request=Execute&service=WPS&version=1.0.0&identifier=Yeti&datainputs=';\n\nexport default {\n  name: 'Yeti',\n\n  components: {\n    YetiArticle,\n    Panel,\n    SubPanelBra,\n    SubPanelCourse,\n    SubPanelLayers,\n    SubPanelMethods,\n    Tabs,\n    ValidationButton,\n    YetiMap,\n  },\n\n  data() {\n    return {\n      showDisclaimer: false,\n      checkDisclaimer: false,\n\n      articles: {\n        faq: {\n          id: 1257569,\n          title: 'FAQ',\n        },\n        disclaimer: {\n          id: 1257571,\n          title: this.$gettext('Disclaimer'),\n        },\n      },\n\n      formError: undefined,\n      currentError: undefined,\n\n      promise: null,\n    };\n  },\n\n  computed: {\n    validMinimumMapZoom() {\n      return Yetix.VALID_MINIMUM_MAP_ZOOM;\n    },\n    dangerMaxWhenMrd() {\n      return Yetix.DANGER_MAX_WHEN_MRD;\n    },\n    bra() {\n      return Yetix.bra;\n    },\n    method() {\n      return Yetix.method;\n    },\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    areaOk() {\n      return Yetix.areaOk;\n    },\n    hasFeatures() {\n      return Yetix.hasFeatures;\n    },\n    featuresLength() {\n      return Yetix.features.length;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n    tabs() {\n      let tabs = [\n        {\n          icon: 'layer-group',\n          title: this.$gettext('Layers'),\n        },\n        {\n          name: this.$gettext('Risk'),\n          icon: 'bolt',\n        },\n      ];\n\n      // add route\n      let tabRoute = {\n        name: this.$gettext('Outing'),\n        icon: 'route',\n      };\n      if (this.hasFeatures && !this.validSimplifyTolerance) {\n        tabRoute.counter = {\n          text: this.featuresLength,\n          title: this.$gettext('Route on map'),\n        };\n      }\n      if (this.validSimplifyTolerance) {\n        tabRoute.problemIcon = {\n          title: this.$gettext('Not simplified yet'),\n        };\n      }\n      tabs.push(tabRoute);\n\n      return tabs;\n    },\n    errors() {\n      return {\n        area: {\n          simple: this.$gettext('Area not covered'),\n          full: this.$gettext(\n            'Current map view is not covered by YETI. Only french mountains are as of now (determined by a dashed stroke).'\n          ),\n        },\n        method: {\n          simple: this.$gettext('Missing method'),\n          full: this.$gettext('Please select a method before computing.'),\n        },\n        method_bra: {\n          simple: this.$gettext('Conflicting method and danger'),\n          full: this.$gettext(\n            'The MRD method (beginner) is allowed when danger is 3 maximum. Choose another method: MRE or MRP.'\n          ),\n        },\n        bra: {\n          simple: this.$gettext('Missing danger level'),\n          full: this.$gettext('Please set danger level as specified on avalanche bulletin for the specific area.'),\n        },\n        altitude: {\n          simple: this.$gettext('Missing altitude'),\n          full: this.$gettext(\n            'Altitude is mandatory when danger high and low are different. Please set altitude as specified on avalanche bulletin for the specific area.'\n          ),\n        },\n        zoom: {\n          simple: this.$gettext('Area too large'),\n          full: this.$gettext('Current map view is too large. Please zoom to level') + ' ' + this.validMinimumMapZoom,\n        },\n        ok: this.$gettext('Seems fine! :)'),\n        yeti: this.$gettext('Service is inactive right now'),\n        yeti_prefix: 'YETI Service: ',\n        yeti_unauthorized: this.$gettext(\n          'You have to be authorized. Please contact administrators of the service if interested.'\n        ),\n      };\n    },\n    mrdIsNotApplicable() {\n      return this.isBraMax && this.method.type === 'mrd';\n    },\n    isBraMax() {\n      return this.bra.high > this.dangerMaxWhenMrd || this.bra.low > this.dangerMaxWhenMrd;\n    },\n    isValidMapZoom() {\n      return this.mapZoom >= this.validMinimumMapZoom;\n    },\n  },\n\n  watch: {\n    'bra.low': 'check',\n    'bra.altiThreshold': 'check',\n    'bra.isDifferent': 'check',\n    'method.type': 'check',\n    'method.potentialDanger': 'check',\n    mapZoom: 'check',\n    areaOk: 'check',\n  },\n\n  created() {\n    // show disclaimer if not already validated\n    if (!this.$localStorage.get('yeti-disclaimer')) {\n      this.showDisclaimer = true;\n    }\n    // tmp: set default values for persistent state\n    Yetix.setDefault();\n  },\n\n  mounted() {\n    this.check();\n  },\n\n  methods: {\n    check() {\n      if (!this.areaOk) {\n        this.formError = 'area';\n      } else if (!this.isValidMapZoom) {\n        this.formError = 'zoom';\n      } else if (!this.bra.high) {\n        this.formError = 'bra';\n      } else if (this.bra.low && this.bra.high !== this.bra.low && !this.bra.altiThreshold) {\n        this.formError = 'altitude';\n      } else if (!this.method.type) {\n        this.formError = 'method';\n      } else if (this.mrdIsNotApplicable) {\n        this.formError = 'method_bra';\n      } else if (this.bra.isDifferent && (!this.bra.low || !this.bra.high)) {\n        this.formError = 'bra';\n      } else {\n        this.formError = null;\n      }\n      // also\n      // verif if bra = 4, method MRD forbidden\n      if (this.mrdIsNotApplicable) {\n        this.method.type = null;\n      }\n\n      // then set errors\n      this.setCurrentError();\n    },\n\n    warnAboutMethodBra(item) {\n      if (item === 'mrd' && this.isBraMax) {\n        window.alert(this.errors.method_bra.full);\n      }\n    },\n\n    setCurrentError() {\n      if (this.formError) {\n        this.currentError = this.errors[this.formError]['simple'];\n        if (this.formError === 'zoom') {\n          this.currentError +=\n            ' (' +\n            this.$gettext('current zoom:') +\n            ' ' +\n            this.mapZoom +\n            ' ' +\n            this.$gettext('on') +\n            ' ' +\n            this.validMinimumMapZoom +\n            ')';\n        }\n      } else {\n        this.currentError = this.errors['ok'];\n      }\n    },\n\n    compute() {\n      if (this.formError) {\n        window.alert(this.errors[this.formError]['full']);\n        return;\n      }\n\n      const extent = this.$refs.map.getExtent('EPSG:3857');\n      const extendedExtent = this.extendExtent(extent);\n\n      const yetiUrl = this.getYetiUrl(extendedExtent);\n\n      // first, set data to null (will remove last one)\n      Yetix.setYetiData(null);\n\n      // fetch img\n      this.promise = axios\n        .get(yetiUrl)\n        .then((result) => this.onYetiResult(result, extendedExtent))\n        .catch(this.onYetiError);\n    },\n\n    extendExtent(extent) {\n      const extendedFactor = Math.min(0.5, (this.mapZoom - this.validMinimumMapZoom) / 6);\n      const extendedValue = Math.max(extent[2] - extent[0], extent[3] - extent[1]) * extendedFactor;\n      return ol.extent.buffer(extent, extendedValue);\n    },\n\n    onYetiResult(result, extendedExtent) {\n      Yetix.setYetiData(result.data);\n      Yetix.setYetiExtent(extendedExtent);\n\n      this.promise = null;\n    },\n\n    onYetiError(err) {\n      this.promise = null;\n\n      let errorText = this.errors['yeti'];\n\n      if (err.response.status === 400) {\n        const xml = new DOMParser().parseFromString(err.response.data, 'text/xml');\n        errorText = [...xml.getElementsByTagName('ExceptionText')].map((_) => _.textContent).join(' ');\n      }\n\n      if (err.response.status === 403) {\n        errorText = this.errors['yeti_unauthorized'];\n      }\n\n      window.alert(this.errors['yeti_prefix'] + errorText);\n    },\n\n    getYetiUrl(extent) {\n      // project extent\n      const bbox = ol.proj.transformExtent(extent, 'EPSG:3857', 'EPSG:4326');\n\n      // set bra.low / altiThreshold\n      const braLow = this.bra.isDifferent ? this.bra.low : this.bra.high;\n      const braAltiThreshold = this.bra.isDifferent ? this.bra.altiThreshold : 0;\n\n      // mre\n      const compass =\n        this.method.type === 'mre' && this.method.orientation.length !== 0\n          ? 'none,' + this.method.orientation.join(',').toLowerCase()\n          : 'none';\n\n      // mrp\n      const potentialDanger = this.method.type === 'mrp' ? this.method.potentialDanger : 0;\n      const wetSnow = this.method.type === 'mrp' ? this.method.wetSnow : false;\n      const groupSize = this.method.type === 'mrp' ? Math.floor(this.method.groupSize) : 0;\n\n      // create url\n      let result = YETI_URL_BASE;\n      result += `methode=${this.method.type};`;\n      result += `bbox=${bbox[0]},${bbox[1]},${bbox[2]},${bbox[3]};`;\n      result += `risque_haut=${this.bra.high};`;\n      result += `risque_bas=${braLow};`;\n      result += `seuil_alti=${braAltiThreshold}`;\n\n      // specific parameters based on method\n      if (this.method.type === 'mre') {\n        result += `;rdv=${compass}`;\n      } else if (this.method.type === 'mrp') {\n        result += `;potentiel_danger=${potentialDanger};`;\n        result += `neige_mouillee=${wetSnow};`;\n        result += `taille_groupe=${groupSize}`;\n      }\n\n      return result;\n    },\n\n    onSubmitDisclaimer() {\n      this.showDisclaimer = false;\n      this.$localStorage.set('yeti-disclaimer', 'validated');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$section-padding: 0.75rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(100vh - #{$navbar-height});\n\n.yeti-app {\n  position: relative;\n  padding: $section-padding;\n}\n\n.yeti-icon {\n  transform: scale(0.9);\n}\n\n.yeti-title {\n  margin-top: calc(0.75rem + 2px);\n}\n\n@media screen and (max-width: $tablet) {\n  .mobile-result-map {\n    margin-top: 0;\n    height: $yeti-height;\n\n    .documents-container {\n      display: None;\n    }\n  }\n\n  .mobile-result-card {\n    .map-container {\n      visibility: hidden; // map does not like to be in a display none...\n    }\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    height: $yeti-height;\n\n    .form-container {\n      max-width: 450px;\n      height: calc(100% - 0.75rem);\n      overflow: auto;\n    }\n  }\n}\n\n.yeti-validation--top {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  width: 55%;\n  z-index: 1;\n}\n\n.yeti-validation--bottom {\n  margin-top: 1rem;\n}\n\n.yeti-logos {\n  box-shadow: none;\n  background: none;\n  mix-blend-mode: multiply;\n\n  img {\n    max-width: 65%;\n  }\n}\n\n.yeti-overlay {\n  position: absolute;\n  z-index: 10;\n  top: 0.75rem;\n  right: 0;\n  left: 0;\n  min-height: 100%;\n\n  & ~ .yeti-content {\n    visibility: hidden;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n/* Not scoped styles */\n.yeti-app {\n  .input-orientation {\n    width: 120px;\n    height: 120px;\n  }\n\n  /* a11y of forms */\n  *:focus-visible {\n    scroll-margin: 100px;\n  }\n  .is-checkradio[type='checkbox'],\n  .is-checkradio[type='radio'] {\n    display: block;\n    clip: rect(0, 0, 0, 0);\n  }\n  .is-checkradio[type='radio'].is-primary:focus-visible + label::before,\n  .is-checkradio[type='checkbox'].is-primary:focus-visible + label::before {\n    border-color: $primary;\n  }\n  .is-checkradio[type='radio'].is-primary:focus + label::before,\n  .is-checkradio[type='checkbox'].is-primary:focus + label::before {\n    outline: none;\n  }\n\n  /* customization of forms */\n  .select select,\n  .input {\n    border: none;\n    box-shadow: 0 0 0 1px $grey-lighter;\n  }\n  .select select:hover,\n  .select select:focus,\n  .input:hover,\n  .input:focus {\n    box-shadow: 0 0 0 2px $primary;\n  }\n  .is-checkradio[type='checkbox'] + label::after {\n    border-right-width: 3px;\n    border-bottom-width: 3px;\n    border-color: white !important;\n    /* decimal rem = integer pixels */\n    /* 0.357 = 5px, 0.429 = 6px, 0.571 = 8px, 0.714 = 10px */\n    width: 0.429rem !important;\n    height: 0.714rem !important;\n    top: 0.357rem !important;\n    left: 0.571rem !important;\n    transform: rotate(45deg) scale(0);\n  }\n  .is-checkradio[type='checkbox']:checked + label::after {\n    transform: rotate(45deg) scale(1);\n    border-color: white !important;\n  }\n  .is-checkradio[type='radio'] + label::after {\n    width: 0.5rem !important;\n    height: 0.5rem !important;\n    top: 0.5rem !important;\n    left: 0.5rem !important;\n    transform: scale(0);\n  }\n  .is-checkradio[type='radio']:checked + label::after {\n    transform: scale(1);\n    background-color: white !important;\n  }\n  .is-checkradio[type='checkbox']:checked + label::before,\n  .is-checkradio[type='radio']:checked + label::before {\n    background: $primary;\n    border-color: $primary !important;\n  }\n  .is-checkradio:hover:not([disabled]) + label::before,\n  .is-checkradio:focus + label::before {\n    border-width: 2px;\n  }\n  .is-checkradio:focus-visible + label::before {\n    box-shadow: 0 0 0 2px $secondary;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiView.vue?vue&type=template&id=0ce0f249&scoped=true\"\nimport script from \"./YetiView.vue?vue&type=script&lang=js\"\nexport * from \"./YetiView.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiView.vue?vue&type=style&index=0&id=0ce0f249&prod&scoped=true&lang=scss\"\nimport style1 from \"./YetiView.vue?vue&type=style&index=1&id=0ce0f249&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ce0f249\",\n  null\n  \n)\n\nexport default component.exports","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.polygonClipping = factory());\n}(this, (function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  /**\n   * splaytree v3.1.0\n   * Fast Splay tree for Node and browser\n   *\n   * @author Alexander Milevski <info@w8r.name>\n   * @license MIT\n   * @preserve\n   */\n  var Node =\n  /** @class */\n  function () {\n    function Node(key, data) {\n      this.next = null;\n      this.key = key;\n      this.data = data;\n      this.left = null;\n      this.right = null;\n    }\n\n    return Node;\n  }();\n  /* follows \"An implementation of top-down splaying\"\r\n   * by D. Sleator <sleator@cs.cmu.edu> March 1992\r\n   */\n\n\n  function DEFAULT_COMPARE(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n  /**\r\n   * Simple top down splay, not requiring i to be in the tree t.\r\n   */\n\n\n  function splay(i, t, comparator) {\n    var N = new Node(null, null);\n    var l = N;\n    var r = N;\n\n    while (true) {\n      var cmp = comparator(i, t.key); //if (i < t.key) {\n\n      if (cmp < 0) {\n        if (t.left === null) break; //if (i < t.left.key) {\n\n        if (comparator(i, t.left.key) < 0) {\n          var y = t.left;\n          /* rotate right */\n\n          t.left = y.right;\n          y.right = t;\n          t = y;\n          if (t.left === null) break;\n        }\n\n        r.left = t;\n        /* link right */\n\n        r = t;\n        t = t.left; //} else if (i > t.key) {\n      } else if (cmp > 0) {\n        if (t.right === null) break; //if (i > t.right.key) {\n\n        if (comparator(i, t.right.key) > 0) {\n          var y = t.right;\n          /* rotate left */\n\n          t.right = y.left;\n          y.left = t;\n          t = y;\n          if (t.right === null) break;\n        }\n\n        l.right = t;\n        /* link left */\n\n        l = t;\n        t = t.right;\n      } else break;\n    }\n    /* assemble */\n\n\n    l.right = t.left;\n    r.left = t.right;\n    t.left = N.right;\n    t.right = N.left;\n    return t;\n  }\n\n  function insert(i, data, t, comparator) {\n    var node = new Node(i, data);\n\n    if (t === null) {\n      node.left = node.right = null;\n      return node;\n    }\n\n    t = splay(i, t, comparator);\n    var cmp = comparator(i, t.key);\n\n    if (cmp < 0) {\n      node.left = t.left;\n      node.right = t;\n      t.left = null;\n    } else if (cmp >= 0) {\n      node.right = t.right;\n      node.left = t;\n      t.right = null;\n    }\n\n    return node;\n  }\n\n  function split(key, v, comparator) {\n    var left = null;\n    var right = null;\n\n    if (v) {\n      v = splay(key, v, comparator);\n      var cmp = comparator(v.key, key);\n\n      if (cmp === 0) {\n        left = v.left;\n        right = v.right;\n      } else if (cmp < 0) {\n        right = v.right;\n        v.right = null;\n        left = v;\n      } else {\n        left = v.left;\n        v.left = null;\n        right = v;\n      }\n    }\n\n    return {\n      left: left,\n      right: right\n    };\n  }\n\n  function merge(left, right, comparator) {\n    if (right === null) return left;\n    if (left === null) return right;\n    right = splay(left.key, right, comparator);\n    right.left = left;\n    return right;\n  }\n  /**\r\n   * Prints level of the tree\r\n   */\n\n\n  function printRow(root, prefix, isTail, out, printNode) {\n    if (root) {\n      out(\"\" + prefix + (isTail ? ' ' : ' ') + printNode(root) + \"\\n\");\n      var indent = prefix + (isTail ? '    ' : '   ');\n      if (root.left) printRow(root.left, indent, false, out, printNode);\n      if (root.right) printRow(root.right, indent, true, out, printNode);\n    }\n  }\n\n  var Tree =\n  /** @class */\n  function () {\n    function Tree(comparator) {\n      if (comparator === void 0) {\n        comparator = DEFAULT_COMPARE;\n      }\n\n      this._root = null;\n      this._size = 0;\n      this._comparator = comparator;\n    }\n    /**\r\n     * Inserts a key, allows duplicates\r\n     */\n\n\n    Tree.prototype.insert = function (key, data) {\n      this._size++;\n      return this._root = insert(key, data, this._root, this._comparator);\n    };\n    /**\r\n     * Adds a key, if it is not present in the tree\r\n     */\n\n\n    Tree.prototype.add = function (key, data) {\n      var node = new Node(key, data);\n\n      if (this._root === null) {\n        node.left = node.right = null;\n        this._size++;\n        this._root = node;\n      }\n\n      var comparator = this._comparator;\n      var t = splay(key, this._root, comparator);\n      var cmp = comparator(key, t.key);\n      if (cmp === 0) this._root = t;else {\n        if (cmp < 0) {\n          node.left = t.left;\n          node.right = t;\n          t.left = null;\n        } else if (cmp > 0) {\n          node.right = t.right;\n          node.left = t;\n          t.right = null;\n        }\n\n        this._size++;\n        this._root = node;\n      }\n      return this._root;\n    };\n    /**\r\n     * @param  {Key} key\r\n     * @return {Node|null}\r\n     */\n\n\n    Tree.prototype.remove = function (key) {\n      this._root = this._remove(key, this._root, this._comparator);\n    };\n    /**\r\n     * Deletes i from the tree if it's there\r\n     */\n\n\n    Tree.prototype._remove = function (i, t, comparator) {\n      var x;\n      if (t === null) return null;\n      t = splay(i, t, comparator);\n      var cmp = comparator(i, t.key);\n\n      if (cmp === 0) {\n        /* found it */\n        if (t.left === null) {\n          x = t.right;\n        } else {\n          x = splay(i, t.left, comparator);\n          x.right = t.right;\n        }\n\n        this._size--;\n        return x;\n      }\n\n      return t;\n      /* It wasn't there */\n    };\n    /**\r\n     * Removes and returns the node with smallest key\r\n     */\n\n\n    Tree.prototype.pop = function () {\n      var node = this._root;\n\n      if (node) {\n        while (node.left) {\n          node = node.left;\n        }\n\n        this._root = splay(node.key, this._root, this._comparator);\n        this._root = this._remove(node.key, this._root, this._comparator);\n        return {\n          key: node.key,\n          data: node.data\n        };\n      }\n\n      return null;\n    };\n    /**\r\n     * Find without splaying\r\n     */\n\n\n    Tree.prototype.findStatic = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return current;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return null;\n    };\n\n    Tree.prototype.find = function (key) {\n      if (this._root) {\n        this._root = splay(key, this._root, this._comparator);\n        if (this._comparator(key, this._root.key) !== 0) return null;\n      }\n\n      return this._root;\n    };\n\n    Tree.prototype.contains = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return true;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return false;\n    };\n\n    Tree.prototype.forEach = function (visitor, ctx) {\n      var current = this._root;\n      var Q = [];\n      /* Initialize stack s */\n\n      var done = false;\n\n      while (!done) {\n        if (current !== null) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length !== 0) {\n            current = Q.pop();\n            visitor.call(ctx, current);\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Walk key range from `low` to `high`. Stops if `fn` returns a value.\r\n     */\n\n\n    Tree.prototype.range = function (low, high, fn, ctx) {\n      var Q = [];\n      var compare = this._comparator;\n      var node = this._root;\n      var cmp;\n\n      while (Q.length !== 0 || node) {\n        if (node) {\n          Q.push(node);\n          node = node.left;\n        } else {\n          node = Q.pop();\n          cmp = compare(node.key, high);\n\n          if (cmp > 0) {\n            break;\n          } else if (compare(node.key, low) >= 0) {\n            if (fn.call(ctx, node)) return this; // stop if smth is returned\n          }\n\n          node = node.right;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Returns array of keys\r\n     */\n\n\n    Tree.prototype.keys = function () {\n      var keys = [];\n      this.forEach(function (_a) {\n        var key = _a.key;\n        return keys.push(key);\n      });\n      return keys;\n    };\n    /**\r\n     * Returns array of all the data in the nodes\r\n     */\n\n\n    Tree.prototype.values = function () {\n      var values = [];\n      this.forEach(function (_a) {\n        var data = _a.data;\n        return values.push(data);\n      });\n      return values;\n    };\n\n    Tree.prototype.min = function () {\n      if (this._root) return this.minNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.max = function () {\n      if (this._root) return this.maxNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.minNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.left) {\n        t = t.left;\n      }\n      return t;\n    };\n\n    Tree.prototype.maxNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.right) {\n        t = t.right;\n      }\n      return t;\n    };\n    /**\r\n     * Returns node at given index\r\n     */\n\n\n    Tree.prototype.at = function (index) {\n      var current = this._root;\n      var done = false;\n      var i = 0;\n      var Q = [];\n\n      while (!done) {\n        if (current) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length > 0) {\n            current = Q.pop();\n            if (i === index) return current;\n            i++;\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return null;\n    };\n\n    Tree.prototype.next = function (d) {\n      var root = this._root;\n      var successor = null;\n\n      if (d.right) {\n        successor = d.right;\n\n        while (successor.left) {\n          successor = successor.left;\n        }\n\n        return successor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) {\n          successor = root;\n          root = root.left;\n        } else root = root.right;\n      }\n\n      return successor;\n    };\n\n    Tree.prototype.prev = function (d) {\n      var root = this._root;\n      var predecessor = null;\n\n      if (d.left !== null) {\n        predecessor = d.left;\n\n        while (predecessor.right) {\n          predecessor = predecessor.right;\n        }\n\n        return predecessor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) root = root.left;else {\n          predecessor = root;\n          root = root.right;\n        }\n      }\n\n      return predecessor;\n    };\n\n    Tree.prototype.clear = function () {\n      this._root = null;\n      this._size = 0;\n      return this;\n    };\n\n    Tree.prototype.toList = function () {\n      return toList(this._root);\n    };\n    /**\r\n     * Bulk-load items. Both array have to be same size\r\n     */\n\n\n    Tree.prototype.load = function (keys, values, presort) {\n      if (values === void 0) {\n        values = [];\n      }\n\n      if (presort === void 0) {\n        presort = false;\n      }\n\n      var size = keys.length;\n      var comparator = this._comparator; // sort if needed\n\n      if (presort) sort(keys, values, 0, size - 1, comparator);\n\n      if (this._root === null) {\n        // empty tree\n        this._root = loadRecursive(keys, values, 0, size);\n        this._size = size;\n      } else {\n        // that re-builds the whole tree from two in-order traversals\n        var mergedList = mergeLists(this.toList(), createList(keys, values), comparator);\n        size = this._size + size;\n        this._root = sortedListToBST({\n          head: mergedList\n        }, 0, size);\n      }\n\n      return this;\n    };\n\n    Tree.prototype.isEmpty = function () {\n      return this._root === null;\n    };\n\n    Object.defineProperty(Tree.prototype, \"size\", {\n      get: function get() {\n        return this._size;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(Tree.prototype, \"root\", {\n      get: function get() {\n        return this._root;\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    Tree.prototype.toString = function (printNode) {\n      if (printNode === void 0) {\n        printNode = function printNode(n) {\n          return String(n.key);\n        };\n      }\n\n      var out = [];\n      printRow(this._root, '', true, function (v) {\n        return out.push(v);\n      }, printNode);\n      return out.join('');\n    };\n\n    Tree.prototype.update = function (key, newKey, newData) {\n      var comparator = this._comparator;\n\n      var _a = split(key, this._root, comparator),\n          left = _a.left,\n          right = _a.right;\n\n      if (comparator(key, newKey) < 0) {\n        right = insert(newKey, newData, right, comparator);\n      } else {\n        left = insert(newKey, newData, left, comparator);\n      }\n\n      this._root = merge(left, right, comparator);\n    };\n\n    Tree.prototype.split = function (key) {\n      return split(key, this._root, this._comparator);\n    };\n\n    return Tree;\n  }();\n\n  function loadRecursive(keys, values, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var key = keys[middle];\n      var data = values[middle];\n      var node = new Node(key, data);\n      node.left = loadRecursive(keys, values, start, middle);\n      node.right = loadRecursive(keys, values, middle + 1, end);\n      return node;\n    }\n\n    return null;\n  }\n\n  function createList(keys, values) {\n    var head = new Node(null, null);\n    var p = head;\n\n    for (var i = 0; i < keys.length; i++) {\n      p = p.next = new Node(keys[i], values[i]);\n    }\n\n    p.next = null;\n    return head.next;\n  }\n\n  function toList(root) {\n    var current = root;\n    var Q = [];\n    var done = false;\n    var head = new Node(null, null);\n    var p = head;\n\n    while (!done) {\n      if (current) {\n        Q.push(current);\n        current = current.left;\n      } else {\n        if (Q.length > 0) {\n          current = p = p.next = Q.pop();\n          current = current.right;\n        } else done = true;\n      }\n    }\n\n    p.next = null; // that'll work even if the tree was empty\n\n    return head.next;\n  }\n\n  function sortedListToBST(list, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var left = sortedListToBST(list, start, middle);\n      var root = list.head;\n      root.left = left;\n      list.head = list.head.next;\n      root.right = sortedListToBST(list, middle + 1, end);\n      return root;\n    }\n\n    return null;\n  }\n\n  function mergeLists(l1, l2, compare) {\n    var head = new Node(null, null); // dummy\n\n    var p = head;\n    var p1 = l1;\n    var p2 = l2;\n\n    while (p1 !== null && p2 !== null) {\n      if (compare(p1.key, p2.key) < 0) {\n        p.next = p1;\n        p1 = p1.next;\n      } else {\n        p.next = p2;\n        p2 = p2.next;\n      }\n\n      p = p.next;\n    }\n\n    if (p1 !== null) {\n      p.next = p1;\n    } else if (p2 !== null) {\n      p.next = p2;\n    }\n\n    return head.next;\n  }\n\n  function sort(keys, values, left, right, compare) {\n    if (left >= right) return;\n    var pivot = keys[left + right >> 1];\n    var i = left - 1;\n    var j = right + 1;\n\n    while (true) {\n      do {\n        i++;\n      } while (compare(keys[i], pivot) < 0);\n\n      do {\n        j--;\n      } while (compare(keys[j], pivot) > 0);\n\n      if (i >= j) break;\n      var tmp = keys[i];\n      keys[i] = keys[j];\n      keys[j] = tmp;\n      tmp = values[i];\n      values[i] = values[j];\n      values[j] = tmp;\n    }\n\n    sort(keys, values, left, j, compare);\n    sort(keys, values, j + 1, right, compare);\n  }\n\n  /**\n   * A bounding box has the format:\n   *\n   *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n   *\n   */\n  var isInBbox = function isInBbox(bbox, point) {\n    return bbox.ll.x <= point.x && point.x <= bbox.ur.x && bbox.ll.y <= point.y && point.y <= bbox.ur.y;\n  };\n  /* Returns either null, or a bbox (aka an ordered pair of points)\n   * If there is only one point of overlap, a bbox with identical points\n   * will be returned */\n\n  var getBboxOverlap = function getBboxOverlap(b1, b2) {\n    // check if the bboxes overlap at all\n    if (b2.ur.x < b1.ll.x || b1.ur.x < b2.ll.x || b2.ur.y < b1.ll.y || b1.ur.y < b2.ll.y) return null; // find the middle two X values\n\n    var lowerX = b1.ll.x < b2.ll.x ? b2.ll.x : b1.ll.x;\n    var upperX = b1.ur.x < b2.ur.x ? b1.ur.x : b2.ur.x; // find the middle two Y values\n\n    var lowerY = b1.ll.y < b2.ll.y ? b2.ll.y : b1.ll.y;\n    var upperY = b1.ur.y < b2.ur.y ? b1.ur.y : b2.ur.y; // put those middle values together to get the overlap\n\n    return {\n      ll: {\n        x: lowerX,\n        y: lowerY\n      },\n      ur: {\n        x: upperX,\n        y: upperY\n      }\n    };\n  };\n\n  /* Javascript doesn't do integer math. Everything is\n   * floating point with percision Number.EPSILON.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\n   */\n  var epsilon = Number.EPSILON; // IE Polyfill\n\n  if (epsilon === undefined) epsilon = Math.pow(2, -52);\n  var EPSILON_SQ = epsilon * epsilon;\n  /* FLP comparator */\n\n  var cmp = function cmp(a, b) {\n    // check if they're both 0\n    if (-epsilon < a && a < epsilon) {\n      if (-epsilon < b && b < epsilon) {\n        return 0;\n      }\n    } // check if they're flp equal\n\n\n    var ab = a - b;\n\n    if (ab * ab < EPSILON_SQ * a * b) {\n      return 0;\n    } // normal comparison\n\n\n    return a < b ? -1 : 1;\n  };\n\n  /**\n   * This class rounds incoming values sufficiently so that\n   * floating points problems are, for the most part, avoided.\n   *\n   * Incoming points are have their x & y values tested against\n   * all previously seen x & y values. If either is 'too close'\n   * to a previously seen value, it's value is 'snapped' to the\n   * previously seen value.\n   *\n   * All points should be rounded by this class before being\n   * stored in any data structures in the rest of this algorithm.\n   */\n\n  var PtRounder = /*#__PURE__*/function () {\n    function PtRounder() {\n      _classCallCheck(this, PtRounder);\n\n      this.reset();\n    }\n\n    _createClass(PtRounder, [{\n      key: \"reset\",\n      value: function reset() {\n        this.xRounder = new CoordRounder();\n        this.yRounder = new CoordRounder();\n      }\n    }, {\n      key: \"round\",\n      value: function round(x, y) {\n        return {\n          x: this.xRounder.round(x),\n          y: this.yRounder.round(y)\n        };\n      }\n    }]);\n\n    return PtRounder;\n  }();\n\n  var CoordRounder = /*#__PURE__*/function () {\n    function CoordRounder() {\n      _classCallCheck(this, CoordRounder);\n\n      this.tree = new Tree(); // preseed with 0 so we don't end up with values < Number.EPSILON\n\n      this.round(0);\n    } // Note: this can rounds input values backwards or forwards.\n    //       You might ask, why not restrict this to just rounding\n    //       forwards? Wouldn't that allow left endpoints to always\n    //       remain left endpoints during splitting (never change to\n    //       right). No - it wouldn't, because we snap intersections\n    //       to endpoints (to establish independence from the segment\n    //       angle for t-intersections).\n\n\n    _createClass(CoordRounder, [{\n      key: \"round\",\n      value: function round(coord) {\n        var node = this.tree.add(coord);\n        var prevNode = this.tree.prev(node);\n\n        if (prevNode !== null && cmp(node.key, prevNode.key) === 0) {\n          this.tree.remove(coord);\n          return prevNode.key;\n        }\n\n        var nextNode = this.tree.next(node);\n\n        if (nextNode !== null && cmp(node.key, nextNode.key) === 0) {\n          this.tree.remove(coord);\n          return nextNode.key;\n        }\n\n        return coord;\n      }\n    }]);\n\n    return CoordRounder;\n  }(); // singleton available by import\n\n\n  var rounder = new PtRounder();\n\n  /* Cross Product of two vectors with first point at origin */\n\n  var crossProduct = function crossProduct(a, b) {\n    return a.x * b.y - a.y * b.x;\n  };\n  /* Dot Product of two vectors with first point at origin */\n\n  var dotProduct = function dotProduct(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n  /* Comparator for two vectors with same starting point */\n\n  var compareVectorAngles = function compareVectorAngles(basePt, endPt1, endPt2) {\n    var v1 = {\n      x: endPt1.x - basePt.x,\n      y: endPt1.y - basePt.y\n    };\n    var v2 = {\n      x: endPt2.x - basePt.x,\n      y: endPt2.y - basePt.y\n    };\n    var kross = crossProduct(v1, v2);\n    return cmp(kross, 0);\n  };\n  var length = function length(v) {\n    return Math.sqrt(dotProduct(v, v));\n  };\n  /* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var sineOfAngle = function sineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return crossProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var cosineOfAngle = function cosineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return dotProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the x coordinate where the given line (defined by a point and vector)\n   * crosses the horizontal line with the given y coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var horizontalIntersection = function horizontalIntersection(pt, v, y) {\n    if (v.y === 0) return null;\n    return {\n      x: pt.x + v.x / v.y * (y - pt.y),\n      y: y\n    };\n  };\n  /* Get the y coordinate where the given line (defined by a point and vector)\n   * crosses the vertical line with the given x coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var verticalIntersection = function verticalIntersection(pt, v, x) {\n    if (v.x === 0) return null;\n    return {\n      x: x,\n      y: pt.y + v.y / v.x * (x - pt.x)\n    };\n  };\n  /* Get the intersection of two lines, each defined by a base point and a vector.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var intersection = function intersection(pt1, v1, pt2, v2) {\n    // take some shortcuts for vertical and horizontal lines\n    // this also ensures we don't calculate an intersection and then discover\n    // it's actually outside the bounding box of the line\n    if (v1.x === 0) return verticalIntersection(pt2, v2, pt1.x);\n    if (v2.x === 0) return verticalIntersection(pt1, v1, pt2.x);\n    if (v1.y === 0) return horizontalIntersection(pt2, v2, pt1.y);\n    if (v2.y === 0) return horizontalIntersection(pt1, v1, pt2.y); // General case for non-overlapping segments.\n    // This algorithm is based on Schneider and Eberly.\n    // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n    var kross = crossProduct(v1, v2);\n    if (kross == 0) return null;\n    var ve = {\n      x: pt2.x - pt1.x,\n      y: pt2.y - pt1.y\n    };\n    var d1 = crossProduct(ve, v1) / kross;\n    var d2 = crossProduct(ve, v2) / kross; // take the average of the two calculations to minimize rounding error\n\n    var x1 = pt1.x + d2 * v1.x,\n        x2 = pt2.x + d1 * v2.x;\n    var y1 = pt1.y + d2 * v1.y,\n        y2 = pt2.y + d1 * v2.y;\n    var x = (x1 + x2) / 2;\n    var y = (y1 + y2) / 2;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var SweepEvent = /*#__PURE__*/function () {\n    _createClass(SweepEvent, null, [{\n      key: \"compare\",\n      // for ordering sweep events in the sweep event queue\n      value: function compare(a, b) {\n        // favor event with a point that the sweep line hits first\n        var ptCmp = SweepEvent.comparePoints(a.point, b.point);\n        if (ptCmp !== 0) return ptCmp; // the points are the same, so link them if needed\n\n        if (a.point !== b.point) a.link(b); // favor right events over left\n\n        if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1; // we have two matching left or right endpoints\n        // ordering of this case is the same as for their segments\n\n        return Segment.compare(a.segment, b.segment);\n      } // for ordering points in sweep line order\n\n    }, {\n      key: \"comparePoints\",\n      value: function comparePoints(aPt, bPt) {\n        if (aPt.x < bPt.x) return -1;\n        if (aPt.x > bPt.x) return 1;\n        if (aPt.y < bPt.y) return -1;\n        if (aPt.y > bPt.y) return 1;\n        return 0;\n      } // Warning: 'point' input will be modified and re-used (for performance)\n\n    }]);\n\n    function SweepEvent(point, isLeft) {\n      _classCallCheck(this, SweepEvent);\n\n      if (point.events === undefined) point.events = [this];else point.events.push(this);\n      this.point = point;\n      this.isLeft = isLeft; // this.segment, this.otherSE set by factory\n    }\n\n    _createClass(SweepEvent, [{\n      key: \"link\",\n      value: function link(other) {\n        if (other.point === this.point) {\n          throw new Error('Tried to link already linked events');\n        }\n\n        var otherEvents = other.point.events;\n\n        for (var i = 0, iMax = otherEvents.length; i < iMax; i++) {\n          var evt = otherEvents[i];\n          this.point.events.push(evt);\n          evt.point = this.point;\n        }\n\n        this.checkForConsuming();\n      }\n      /* Do a pass over our linked events and check to see if any pair\n       * of segments match, and should be consumed. */\n\n    }, {\n      key: \"checkForConsuming\",\n      value: function checkForConsuming() {\n        // FIXME: The loops in this method run O(n^2) => no good.\n        //        Maintain little ordered sweep event trees?\n        //        Can we maintaining an ordering that avoids the need\n        //        for the re-sorting with getLeftmostComparator in geom-out?\n        // Compare each pair of events to see if other events also match\n        var numEvents = this.point.events.length;\n\n        for (var i = 0; i < numEvents; i++) {\n          var evt1 = this.point.events[i];\n          if (evt1.segment.consumedBy !== undefined) continue;\n\n          for (var j = i + 1; j < numEvents; j++) {\n            var evt2 = this.point.events[j];\n            if (evt2.consumedBy !== undefined) continue;\n            if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n            evt1.segment.consume(evt2.segment);\n          }\n        }\n      }\n    }, {\n      key: \"getAvailableLinkedEvents\",\n      value: function getAvailableLinkedEvents() {\n        // point.events is always of length 2 or greater\n        var events = [];\n\n        for (var i = 0, iMax = this.point.events.length; i < iMax; i++) {\n          var evt = this.point.events[i];\n\n          if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n            events.push(evt);\n          }\n        }\n\n        return events;\n      }\n      /**\n       * Returns a comparator function for sorting linked events that will\n       * favor the event that will give us the smallest left-side angle.\n       * All ring construction starts as low as possible heading to the right,\n       * so by always turning left as sharp as possible we'll get polygons\n       * without uncessary loops & holes.\n       *\n       * The comparator function has a compute cache such that it avoids\n       * re-computing already-computed values.\n       */\n\n    }, {\n      key: \"getLeftmostComparator\",\n      value: function getLeftmostComparator(baseEvent) {\n        var _this = this;\n\n        var cache = new Map();\n\n        var fillCache = function fillCache(linkedEvent) {\n          var nextEvent = linkedEvent.otherSE;\n          cache.set(linkedEvent, {\n            sine: sineOfAngle(_this.point, baseEvent.point, nextEvent.point),\n            cosine: cosineOfAngle(_this.point, baseEvent.point, nextEvent.point)\n          });\n        };\n\n        return function (a, b) {\n          if (!cache.has(a)) fillCache(a);\n          if (!cache.has(b)) fillCache(b);\n\n          var _cache$get = cache.get(a),\n              asine = _cache$get.sine,\n              acosine = _cache$get.cosine;\n\n          var _cache$get2 = cache.get(b),\n              bsine = _cache$get2.sine,\n              bcosine = _cache$get2.cosine; // both on or above x-axis\n\n\n          if (asine >= 0 && bsine >= 0) {\n            if (acosine < bcosine) return 1;\n            if (acosine > bcosine) return -1;\n            return 0;\n          } // both below x-axis\n\n\n          if (asine < 0 && bsine < 0) {\n            if (acosine < bcosine) return -1;\n            if (acosine > bcosine) return 1;\n            return 0;\n          } // one above x-axis, one below\n\n\n          if (bsine < asine) return -1;\n          if (bsine > asine) return 1;\n          return 0;\n        };\n      }\n    }]);\n\n    return SweepEvent;\n  }();\n\n  // segments and sweep events when all else is identical\n\n  var segmentId = 0;\n\n  var Segment = /*#__PURE__*/function () {\n    _createClass(Segment, null, [{\n      key: \"compare\",\n\n      /* This compare() function is for ordering segments in the sweep\n       * line tree, and does so according to the following criteria:\n       *\n       * Consider the vertical line that lies an infinestimal step to the\n       * right of the right-more of the two left endpoints of the input\n       * segments. Imagine slowly moving a point up from negative infinity\n       * in the increasing y direction. Which of the two segments will that\n       * point intersect first? That segment comes 'before' the other one.\n       *\n       * If neither segment would be intersected by such a line, (if one\n       * or more of the segments are vertical) then the line to be considered\n       * is directly on the right-more of the two left inputs.\n       */\n      value: function compare(a, b) {\n        var alx = a.leftSE.point.x;\n        var blx = b.leftSE.point.x;\n        var arx = a.rightSE.point.x;\n        var brx = b.rightSE.point.x; // check if they're even in the same vertical plane\n\n        if (brx < alx) return 1;\n        if (arx < blx) return -1;\n        var aly = a.leftSE.point.y;\n        var bly = b.leftSE.point.y;\n        var ary = a.rightSE.point.y;\n        var bry = b.rightSE.point.y; // is left endpoint of segment B the right-more?\n\n        if (alx < blx) {\n          // are the two segments in the same horizontal plane?\n          if (bly < aly && bly < ary) return 1;\n          if (bly > aly && bly > ary) return -1; // is the B left endpoint colinear to segment A?\n\n          var aCmpBLeft = a.comparePoint(b.leftSE.point);\n          if (aCmpBLeft < 0) return 1;\n          if (aCmpBLeft > 0) return -1; // is the A right endpoint colinear to segment B ?\n\n          var bCmpARight = b.comparePoint(a.rightSE.point);\n          if (bCmpARight !== 0) return bCmpARight; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return -1;\n        } // is left endpoint of segment A the right-more?\n\n\n        if (alx > blx) {\n          if (aly < bly && aly < bry) return -1;\n          if (aly > bly && aly > bry) return 1; // is the A left endpoint colinear to segment B?\n\n          var bCmpALeft = b.comparePoint(a.leftSE.point);\n          if (bCmpALeft !== 0) return bCmpALeft; // is the B right endpoint colinear to segment A?\n\n          var aCmpBRight = a.comparePoint(b.rightSE.point);\n          if (aCmpBRight < 0) return 1;\n          if (aCmpBRight > 0) return -1; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return 1;\n        } // if we get here, the two left endpoints are in the same\n        // vertical plane, ie alx === blx\n        // consider the lower left-endpoint to come first\n\n\n        if (aly < bly) return -1;\n        if (aly > bly) return 1; // left endpoints are identical\n        // check for colinearity by using the left-more right endpoint\n        // is the A right endpoint more left-more?\n\n        if (arx < brx) {\n          var _bCmpARight = b.comparePoint(a.rightSE.point);\n\n          if (_bCmpARight !== 0) return _bCmpARight;\n        } // is the B right endpoint more left-more?\n\n\n        if (arx > brx) {\n          var _aCmpBRight = a.comparePoint(b.rightSE.point);\n\n          if (_aCmpBRight < 0) return 1;\n          if (_aCmpBRight > 0) return -1;\n        }\n\n        if (arx !== brx) {\n          // are these two [almost] vertical segments with opposite orientation?\n          // if so, the one with the lower right endpoint comes first\n          var ay = ary - aly;\n          var ax = arx - alx;\n          var by = bry - bly;\n          var bx = brx - blx;\n          if (ay > ax && by < bx) return 1;\n          if (ay < ax && by > bx) return -1;\n        } // we have colinear segments with matching orientation\n        // consider the one with more left-more right endpoint to be first\n\n\n        if (arx > brx) return 1;\n        if (arx < brx) return -1; // if we get here, two two right endpoints are in the same\n        // vertical plane, ie arx === brx\n        // consider the lower right-endpoint to come first\n\n        if (ary < bry) return -1;\n        if (ary > bry) return 1; // right endpoints identical as well, so the segments are idential\n        // fall back on creation order as consistent tie-breaker\n\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1; // identical segment, ie a === b\n\n        return 0;\n      }\n      /* Warning: a reference to ringWindings input will be stored,\n       *  and possibly will be later modified */\n\n    }]);\n\n    function Segment(leftSE, rightSE, rings, windings) {\n      _classCallCheck(this, Segment);\n\n      this.id = ++segmentId;\n      this.leftSE = leftSE;\n      leftSE.segment = this;\n      leftSE.otherSE = rightSE;\n      this.rightSE = rightSE;\n      rightSE.segment = this;\n      rightSE.otherSE = leftSE;\n      this.rings = rings;\n      this.windings = windings; // left unset for performance, set later in algorithm\n      // this.ringOut, this.consumedBy, this.prev\n    }\n\n    _createClass(Segment, [{\n      key: \"replaceRightSE\",\n\n      /* When a segment is split, the rightSE is replaced with a new sweep event */\n      value: function replaceRightSE(newRightSE) {\n        this.rightSE = newRightSE;\n        this.rightSE.segment = this;\n        this.rightSE.otherSE = this.leftSE;\n        this.leftSE.otherSE = this.rightSE;\n      }\n    }, {\n      key: \"bbox\",\n      value: function bbox() {\n        var y1 = this.leftSE.point.y;\n        var y2 = this.rightSE.point.y;\n        return {\n          ll: {\n            x: this.leftSE.point.x,\n            y: y1 < y2 ? y1 : y2\n          },\n          ur: {\n            x: this.rightSE.point.x,\n            y: y1 > y2 ? y1 : y2\n          }\n        };\n      }\n      /* A vector from the left point to the right */\n\n    }, {\n      key: \"vector\",\n      value: function vector() {\n        return {\n          x: this.rightSE.point.x - this.leftSE.point.x,\n          y: this.rightSE.point.y - this.leftSE.point.y\n        };\n      }\n    }, {\n      key: \"isAnEndpoint\",\n      value: function isAnEndpoint(pt) {\n        return pt.x === this.leftSE.point.x && pt.y === this.leftSE.point.y || pt.x === this.rightSE.point.x && pt.y === this.rightSE.point.y;\n      }\n      /* Compare this segment with a point.\n       *\n       * A point P is considered to be colinear to a segment if there\n       * exists a distance D such that if we travel along the segment\n       * from one * endpoint towards the other a distance D, we find\n       * ourselves at point P.\n       *\n       * Return value indicates:\n       *\n       *   1: point lies above the segment (to the left of vertical)\n       *   0: point is colinear to segment\n       *  -1: point lies below the segment (to the right of vertical)\n       */\n\n    }, {\n      key: \"comparePoint\",\n      value: function comparePoint(point) {\n        if (this.isAnEndpoint(point)) return 0;\n        var lPt = this.leftSE.point;\n        var rPt = this.rightSE.point;\n        var v = this.vector(); // Exactly vertical segments.\n\n        if (lPt.x === rPt.x) {\n          if (point.x === lPt.x) return 0;\n          return point.x < lPt.x ? 1 : -1;\n        } // Nearly vertical segments with an intersection.\n        // Check to see where a point on the line with matching Y coordinate is.\n\n\n        var yDist = (point.y - lPt.y) / v.y;\n        var xFromYDist = lPt.x + yDist * v.x;\n        if (point.x === xFromYDist) return 0; // General case.\n        // Check to see where a point on the line with matching X coordinate is.\n\n        var xDist = (point.x - lPt.x) / v.x;\n        var yFromXDist = lPt.y + xDist * v.y;\n        if (point.y === yFromXDist) return 0;\n        return point.y < yFromXDist ? -1 : 1;\n      }\n      /**\n       * Given another segment, returns the first non-trivial intersection\n       * between the two segments (in terms of sweep line ordering), if it exists.\n       *\n       * A 'non-trivial' intersection is one that will cause one or both of the\n       * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n       *\n       *   * endpoint of segA with endpoint of segB --> trivial\n       *   * endpoint of segA with point along segB --> non-trivial\n       *   * endpoint of segB with point along segA --> non-trivial\n       *   * point along segA with point along segB --> non-trivial\n       *\n       * If no non-trivial intersection exists, return null\n       * Else, return null.\n       */\n\n    }, {\n      key: \"getIntersection\",\n      value: function getIntersection(other) {\n        // If bboxes don't overlap, there can't be any intersections\n        var tBbox = this.bbox();\n        var oBbox = other.bbox();\n        var bboxOverlap = getBboxOverlap(tBbox, oBbox);\n        if (bboxOverlap === null) return null; // We first check to see if the endpoints can be considered intersections.\n        // This will 'snap' intersections to endpoints if possible, and will\n        // handle cases of colinearity.\n\n        var tlp = this.leftSE.point;\n        var trp = this.rightSE.point;\n        var olp = other.leftSE.point;\n        var orp = other.rightSE.point; // does each endpoint touch the other segment?\n        // note that we restrict the 'touching' definition to only allow segments\n        // to touch endpoints that lie forward from where we are in the sweep line pass\n\n        var touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n        var touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n        var touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n        var touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0; // do left endpoints match?\n\n        if (touchesThisLSE && touchesOtherLSE) {\n          // these two cases are for colinear segments with matching left\n          // endpoints, and one segment being longer than the other\n          if (touchesThisRSE && !touchesOtherRSE) return trp;\n          if (!touchesThisRSE && touchesOtherRSE) return orp; // either the two segments match exactly (two trival intersections)\n          // or just on their left endpoint (one trivial intersection\n\n          return null;\n        } // does this left endpoint matches (other doesn't)\n\n\n        if (touchesThisLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesOtherRSE) {\n            if (tlp.x === orp.x && tlp.y === orp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return tlp;\n        } // does other left endpoint matches (this doesn't)\n\n\n        if (touchesOtherLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesThisRSE) {\n            if (trp.x === olp.x && trp.y === olp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return olp;\n        } // trivial intersection on right endpoints\n\n\n        if (touchesThisRSE && touchesOtherRSE) return null; // t-intersections on just one right endpoint\n\n        if (touchesThisRSE) return trp;\n        if (touchesOtherRSE) return orp; // None of our endpoints intersect. Look for a general intersection between\n        // infinite lines laid over the segments\n\n        var pt = intersection(tlp, this.vector(), olp, other.vector()); // are the segments parrallel? Note that if they were colinear with overlap,\n        // they would have an endpoint intersection and that case was already handled above\n\n        if (pt === null) return null; // is the intersection found between the lines not on the segments?\n\n        if (!isInBbox(bboxOverlap, pt)) return null; // round the the computed point if needed\n\n        return rounder.round(pt.x, pt.y);\n      }\n      /**\n       * Split the given segment into multiple segments on the given points.\n       *  * Each existing segment will retain its leftSE and a new rightSE will be\n       *    generated for it.\n       *  * A new segment will be generated which will adopt the original segment's\n       *    rightSE, and a new leftSE will be generated for it.\n       *  * If there are more than two points given to split on, new segments\n       *    in the middle will be generated with new leftSE and rightSE's.\n       *  * An array of the newly generated SweepEvents will be returned.\n       *\n       * Warning: input array of points is modified\n       */\n\n    }, {\n      key: \"split\",\n      value: function split(point) {\n        var newEvents = [];\n        var alreadyLinked = point.events !== undefined;\n        var newLeftSE = new SweepEvent(point, true);\n        var newRightSE = new SweepEvent(point, false);\n        var oldRightSE = this.rightSE;\n        this.replaceRightSE(newRightSE);\n        newEvents.push(newRightSE);\n        newEvents.push(newLeftSE);\n        var newSeg = new Segment(newLeftSE, oldRightSE, this.rings.slice(), this.windings.slice()); // when splitting a nearly vertical downward-facing segment,\n        // sometimes one of the resulting new segments is vertical, in which\n        // case its left and right events may need to be swapped\n\n        if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n          newSeg.swapEvents();\n        }\n\n        if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n          this.swapEvents();\n        } // in the point we just used to create new sweep events with was already\n        // linked to other events, we need to check if either of the affected\n        // segments should be consumed\n\n\n        if (alreadyLinked) {\n          newLeftSE.checkForConsuming();\n          newRightSE.checkForConsuming();\n        }\n\n        return newEvents;\n      }\n      /* Swap which event is left and right */\n\n    }, {\n      key: \"swapEvents\",\n      value: function swapEvents() {\n        var tmpEvt = this.rightSE;\n        this.rightSE = this.leftSE;\n        this.leftSE = tmpEvt;\n        this.leftSE.isLeft = true;\n        this.rightSE.isLeft = false;\n\n        for (var i = 0, iMax = this.windings.length; i < iMax; i++) {\n          this.windings[i] *= -1;\n        }\n      }\n      /* Consume another segment. We take their rings under our wing\n       * and mark them as consumed. Use for perfectly overlapping segments */\n\n    }, {\n      key: \"consume\",\n      value: function consume(other) {\n        var consumer = this;\n        var consumee = other;\n\n        while (consumer.consumedBy) {\n          consumer = consumer.consumedBy;\n        }\n\n        while (consumee.consumedBy) {\n          consumee = consumee.consumedBy;\n        }\n\n        var cmp = Segment.compare(consumer, consumee);\n        if (cmp === 0) return; // already consumed\n        // the winner of the consumption is the earlier segment\n        // according to sweep line ordering\n\n        if (cmp > 0) {\n          var tmp = consumer;\n          consumer = consumee;\n          consumee = tmp;\n        } // make sure a segment doesn't consume it's prev\n\n\n        if (consumer.prev === consumee) {\n          var _tmp = consumer;\n          consumer = consumee;\n          consumee = _tmp;\n        }\n\n        for (var i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n          var ring = consumee.rings[i];\n          var winding = consumee.windings[i];\n          var index = consumer.rings.indexOf(ring);\n\n          if (index === -1) {\n            consumer.rings.push(ring);\n            consumer.windings.push(winding);\n          } else consumer.windings[index] += winding;\n        }\n\n        consumee.rings = null;\n        consumee.windings = null;\n        consumee.consumedBy = consumer; // mark sweep events consumed as to maintain ordering in sweep event queue\n\n        consumee.leftSE.consumedBy = consumer.leftSE;\n        consumee.rightSE.consumedBy = consumer.rightSE;\n      }\n      /* The first segment previous segment chain that is in the result */\n\n    }, {\n      key: \"prevInResult\",\n      value: function prevInResult() {\n        if (this._prevInResult !== undefined) return this._prevInResult;\n        if (!this.prev) this._prevInResult = null;else if (this.prev.isInResult()) this._prevInResult = this.prev;else this._prevInResult = this.prev.prevInResult();\n        return this._prevInResult;\n      }\n    }, {\n      key: \"beforeState\",\n      value: function beforeState() {\n        if (this._beforeState !== undefined) return this._beforeState;\n        if (!this.prev) this._beforeState = {\n          rings: [],\n          windings: [],\n          multiPolys: []\n        };else {\n          var seg = this.prev.consumedBy || this.prev;\n          this._beforeState = seg.afterState();\n        }\n        return this._beforeState;\n      }\n    }, {\n      key: \"afterState\",\n      value: function afterState() {\n        if (this._afterState !== undefined) return this._afterState;\n        var beforeState = this.beforeState();\n        this._afterState = {\n          rings: beforeState.rings.slice(0),\n          windings: beforeState.windings.slice(0),\n          multiPolys: []\n        };\n        var ringsAfter = this._afterState.rings;\n        var windingsAfter = this._afterState.windings;\n        var mpsAfter = this._afterState.multiPolys; // calculate ringsAfter, windingsAfter\n\n        for (var i = 0, iMax = this.rings.length; i < iMax; i++) {\n          var ring = this.rings[i];\n          var winding = this.windings[i];\n          var index = ringsAfter.indexOf(ring);\n\n          if (index === -1) {\n            ringsAfter.push(ring);\n            windingsAfter.push(winding);\n          } else windingsAfter[index] += winding;\n        } // calcualte polysAfter\n\n\n        var polysAfter = [];\n        var polysExclude = [];\n\n        for (var _i = 0, _iMax = ringsAfter.length; _i < _iMax; _i++) {\n          if (windingsAfter[_i] === 0) continue; // non-zero rule\n\n          var _ring = ringsAfter[_i];\n          var poly = _ring.poly;\n          if (polysExclude.indexOf(poly) !== -1) continue;\n          if (_ring.isExterior) polysAfter.push(poly);else {\n            if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n\n            var _index = polysAfter.indexOf(_ring.poly);\n\n            if (_index !== -1) polysAfter.splice(_index, 1);\n          }\n        } // calculate multiPolysAfter\n\n\n        for (var _i2 = 0, _iMax2 = polysAfter.length; _i2 < _iMax2; _i2++) {\n          var mp = polysAfter[_i2].multiPoly;\n          if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n        }\n\n        return this._afterState;\n      }\n      /* Is this segment part of the final result? */\n\n    }, {\n      key: \"isInResult\",\n      value: function isInResult() {\n        // if we've been consumed, we're not in the result\n        if (this.consumedBy) return false;\n        if (this._isInResult !== undefined) return this._isInResult;\n        var mpsBefore = this.beforeState().multiPolys;\n        var mpsAfter = this.afterState().multiPolys;\n\n        switch (operation.type) {\n          case 'union':\n            {\n              // UNION - included iff:\n              //  * On one side of us there is 0 poly interiors AND\n              //  * On the other side there is 1 or more.\n              var noBefores = mpsBefore.length === 0;\n              var noAfters = mpsAfter.length === 0;\n              this._isInResult = noBefores !== noAfters;\n              break;\n            }\n\n          case 'intersection':\n            {\n              // INTERSECTION - included iff:\n              //  * on one side of us all multipolys are rep. with poly interiors AND\n              //  * on the other side of us, not all multipolys are repsented\n              //    with poly interiors\n              var least;\n              var most;\n\n              if (mpsBefore.length < mpsAfter.length) {\n                least = mpsBefore.length;\n                most = mpsAfter.length;\n              } else {\n                least = mpsAfter.length;\n                most = mpsBefore.length;\n              }\n\n              this._isInResult = most === operation.numMultiPolys && least < most;\n              break;\n            }\n\n          case 'xor':\n            {\n              // XOR - included iff:\n              //  * the difference between the number of multipolys represented\n              //    with poly interiors on our two sides is an odd number\n              var diff = Math.abs(mpsBefore.length - mpsAfter.length);\n              this._isInResult = diff % 2 === 1;\n              break;\n            }\n\n          case 'difference':\n            {\n              // DIFFERENCE included iff:\n              //  * on exactly one side, we have just the subject\n              var isJustSubject = function isJustSubject(mps) {\n                return mps.length === 1 && mps[0].isSubject;\n              };\n\n              this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n              break;\n            }\n\n          default:\n            throw new Error(\"Unrecognized operation type found \".concat(operation.type));\n        }\n\n        return this._isInResult;\n      }\n    }], [{\n      key: \"fromRing\",\n      value: function fromRing(pt1, pt2, ring) {\n        var leftPt, rightPt, winding; // ordering the two points according to sweep line ordering\n\n        var cmpPts = SweepEvent.comparePoints(pt1, pt2);\n\n        if (cmpPts < 0) {\n          leftPt = pt1;\n          rightPt = pt2;\n          winding = 1;\n        } else if (cmpPts > 0) {\n          leftPt = pt2;\n          rightPt = pt1;\n          winding = -1;\n        } else throw new Error(\"Tried to create degenerate segment at [\".concat(pt1.x, \", \").concat(pt1.y, \"]\"));\n\n        var leftSE = new SweepEvent(leftPt, true);\n        var rightSE = new SweepEvent(rightPt, false);\n        return new Segment(leftSE, rightSE, [ring], [winding]);\n      }\n    }]);\n\n    return Segment;\n  }();\n\n  var RingIn = /*#__PURE__*/function () {\n    function RingIn(geomRing, poly, isExterior) {\n      _classCallCheck(this, RingIn);\n\n      if (!Array.isArray(geomRing) || geomRing.length === 0) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.poly = poly;\n      this.isExterior = isExterior;\n      this.segments = [];\n\n      if (typeof geomRing[0][0] !== 'number' || typeof geomRing[0][1] !== 'number') {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      var firstPoint = rounder.round(geomRing[0][0], geomRing[0][1]);\n      this.bbox = {\n        ll: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        },\n        ur: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        }\n      };\n      var prevPoint = firstPoint;\n\n      for (var i = 1, iMax = geomRing.length; i < iMax; i++) {\n        if (typeof geomRing[i][0] !== 'number' || typeof geomRing[i][1] !== 'number') {\n          throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n        }\n\n        var point = rounder.round(geomRing[i][0], geomRing[i][1]); // skip repeated points\n\n        if (point.x === prevPoint.x && point.y === prevPoint.y) continue;\n        this.segments.push(Segment.fromRing(prevPoint, point, this));\n        if (point.x < this.bbox.ll.x) this.bbox.ll.x = point.x;\n        if (point.y < this.bbox.ll.y) this.bbox.ll.y = point.y;\n        if (point.x > this.bbox.ur.x) this.bbox.ur.x = point.x;\n        if (point.y > this.bbox.ur.y) this.bbox.ur.y = point.y;\n        prevPoint = point;\n      } // add segment from last to first if last is not the same as first\n\n\n      if (firstPoint.x !== prevPoint.x || firstPoint.y !== prevPoint.y) {\n        this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n      }\n    }\n\n    _createClass(RingIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.segments.length; i < iMax; i++) {\n          var segment = this.segments[i];\n          sweepEvents.push(segment.leftSE);\n          sweepEvents.push(segment.rightSE);\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return RingIn;\n  }();\n  var PolyIn = /*#__PURE__*/function () {\n    function PolyIn(geomPoly, multiPoly) {\n      _classCallCheck(this, PolyIn);\n\n      if (!Array.isArray(geomPoly)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.exteriorRing = new RingIn(geomPoly[0], this, true); // copy by value\n\n      this.bbox = {\n        ll: {\n          x: this.exteriorRing.bbox.ll.x,\n          y: this.exteriorRing.bbox.ll.y\n        },\n        ur: {\n          x: this.exteriorRing.bbox.ur.x,\n          y: this.exteriorRing.bbox.ur.y\n        }\n      };\n      this.interiorRings = [];\n\n      for (var i = 1, iMax = geomPoly.length; i < iMax; i++) {\n        var ring = new RingIn(geomPoly[i], this, false);\n        if (ring.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = ring.bbox.ll.x;\n        if (ring.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = ring.bbox.ll.y;\n        if (ring.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = ring.bbox.ur.x;\n        if (ring.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = ring.bbox.ur.y;\n        this.interiorRings.push(ring);\n      }\n\n      this.multiPoly = multiPoly;\n    }\n\n    _createClass(PolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = this.exteriorRing.getSweepEvents();\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringSweepEvents = this.interiorRings[i].getSweepEvents();\n\n          for (var j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(ringSweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return PolyIn;\n  }();\n  var MultiPolyIn = /*#__PURE__*/function () {\n    function MultiPolyIn(geom, isSubject) {\n      _classCallCheck(this, MultiPolyIn);\n\n      if (!Array.isArray(geom)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      try {\n        // if the input looks like a polygon, convert it to a multipolygon\n        if (typeof geom[0][0][0] === 'number') geom = [geom];\n      } catch (ex) {// The input is either malformed or has empty arrays.\n        // In either case, it will be handled later on.\n      }\n\n      this.polys = [];\n      this.bbox = {\n        ll: {\n          x: Number.POSITIVE_INFINITY,\n          y: Number.POSITIVE_INFINITY\n        },\n        ur: {\n          x: Number.NEGATIVE_INFINITY,\n          y: Number.NEGATIVE_INFINITY\n        }\n      };\n\n      for (var i = 0, iMax = geom.length; i < iMax; i++) {\n        var poly = new PolyIn(geom[i], this);\n        if (poly.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = poly.bbox.ll.x;\n        if (poly.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = poly.bbox.ll.y;\n        if (poly.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = poly.bbox.ur.x;\n        if (poly.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = poly.bbox.ur.y;\n        this.polys.push(poly);\n      }\n\n      this.isSubject = isSubject;\n    }\n\n    _createClass(MultiPolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polySweepEvents = this.polys[i].getSweepEvents();\n\n          for (var j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(polySweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return MultiPolyIn;\n  }();\n\n  var RingOut = /*#__PURE__*/function () {\n    _createClass(RingOut, null, [{\n      key: \"factory\",\n\n      /* Given the segments from the sweep line pass, compute & return a series\n       * of closed rings from all the segments marked to be part of the result */\n      value: function factory(allSegments) {\n        var ringsOut = [];\n\n        for (var i = 0, iMax = allSegments.length; i < iMax; i++) {\n          var segment = allSegments[i];\n          if (!segment.isInResult() || segment.ringOut) continue;\n          var prevEvent = null;\n          var event = segment.leftSE;\n          var nextEvent = segment.rightSE;\n          var events = [event];\n          var startingPoint = event.point;\n          var intersectionLEs = [];\n          /* Walk the chain of linked events to form a closed ring */\n\n          while (true) {\n            prevEvent = event;\n            event = nextEvent;\n            events.push(event);\n            /* Is the ring complete? */\n\n            if (event.point === startingPoint) break;\n\n            while (true) {\n              var availableLEs = event.getAvailableLinkedEvents();\n              /* Did we hit a dead end? This shouldn't happen. Indicates some earlier\n               * part of the algorithm malfunctioned... please file a bug report. */\n\n              if (availableLEs.length === 0) {\n                var firstPt = events[0].point;\n                var lastPt = events[events.length - 1].point;\n                throw new Error(\"Unable to complete output ring starting at [\".concat(firstPt.x, \",\") + \" \".concat(firstPt.y, \"]. Last matching segment found ends at\") + \" [\".concat(lastPt.x, \", \").concat(lastPt.y, \"].\"));\n              }\n              /* Only one way to go, so cotinue on the path */\n\n\n              if (availableLEs.length === 1) {\n                nextEvent = availableLEs[0].otherSE;\n                break;\n              }\n              /* We must have an intersection. Check for a completed loop */\n\n\n              var indexLE = null;\n\n              for (var j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n                if (intersectionLEs[j].point === event.point) {\n                  indexLE = j;\n                  break;\n                }\n              }\n              /* Found a completed loop. Cut that off and make a ring */\n\n\n              if (indexLE !== null) {\n                var intersectionLE = intersectionLEs.splice(indexLE)[0];\n                var ringEvents = events.splice(intersectionLE.index);\n                ringEvents.unshift(ringEvents[0].otherSE);\n                ringsOut.push(new RingOut(ringEvents.reverse()));\n                continue;\n              }\n              /* register the intersection */\n\n\n              intersectionLEs.push({\n                index: events.length,\n                point: event.point\n              });\n              /* Choose the left-most option to continue the walk */\n\n              var comparator = event.getLeftmostComparator(prevEvent);\n              nextEvent = availableLEs.sort(comparator)[0].otherSE;\n              break;\n            }\n          }\n\n          ringsOut.push(new RingOut(events));\n        }\n\n        return ringsOut;\n      }\n    }]);\n\n    function RingOut(events) {\n      _classCallCheck(this, RingOut);\n\n      this.events = events;\n\n      for (var i = 0, iMax = events.length; i < iMax; i++) {\n        events[i].segment.ringOut = this;\n      }\n\n      this.poly = null;\n    }\n\n    _createClass(RingOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        // Remove superfluous points (ie extra points along a straight line),\n        var prevPt = this.events[0].point;\n        var points = [prevPt];\n\n        for (var i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n          var _pt = this.events[i].point;\n          var _nextPt = this.events[i + 1].point;\n          if (compareVectorAngles(_pt, prevPt, _nextPt) === 0) continue;\n          points.push(_pt);\n          prevPt = _pt;\n        } // ring was all (within rounding error of angle calc) colinear points\n\n\n        if (points.length === 1) return null; // check if the starting point is necessary\n\n        var pt = points[0];\n        var nextPt = points[1];\n        if (compareVectorAngles(pt, prevPt, nextPt) === 0) points.shift();\n        points.push(points[0]);\n        var step = this.isExteriorRing() ? 1 : -1;\n        var iStart = this.isExteriorRing() ? 0 : points.length - 1;\n        var iEnd = this.isExteriorRing() ? points.length : -1;\n        var orderedPoints = [];\n\n        for (var _i = iStart; _i != iEnd; _i += step) {\n          orderedPoints.push([points[_i].x, points[_i].y]);\n        }\n\n        return orderedPoints;\n      }\n    }, {\n      key: \"isExteriorRing\",\n      value: function isExteriorRing() {\n        if (this._isExteriorRing === undefined) {\n          var enclosing = this.enclosingRing();\n          this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n        }\n\n        return this._isExteriorRing;\n      }\n    }, {\n      key: \"enclosingRing\",\n      value: function enclosingRing() {\n        if (this._enclosingRing === undefined) {\n          this._enclosingRing = this._calcEnclosingRing();\n        }\n\n        return this._enclosingRing;\n      }\n      /* Returns the ring that encloses this one, if any */\n\n    }, {\n      key: \"_calcEnclosingRing\",\n      value: function _calcEnclosingRing() {\n        // start with the ealier sweep line event so that the prevSeg\n        // chain doesn't lead us inside of a loop of ours\n        var leftMostEvt = this.events[0];\n\n        for (var i = 1, iMax = this.events.length; i < iMax; i++) {\n          var evt = this.events[i];\n          if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n        }\n\n        var prevSeg = leftMostEvt.segment.prevInResult();\n        var prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n\n        while (true) {\n          // no segment found, thus no ring can enclose us\n          if (!prevSeg) return null; // no segments below prev segment found, thus the ring of the prev\n          // segment must loop back around and enclose us\n\n          if (!prevPrevSeg) return prevSeg.ringOut; // if the two segments are of different rings, the ring of the prev\n          // segment must either loop around us or the ring of the prev prev\n          // seg, which would make us and the ring of the prev peers\n\n          if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n            if (prevPrevSeg.ringOut.enclosingRing() !== prevSeg.ringOut) {\n              return prevSeg.ringOut;\n            } else return prevSeg.ringOut.enclosingRing();\n          } // two segments are from the same ring, so this was a penisula\n          // of that ring. iterate downward, keep searching\n\n\n          prevSeg = prevPrevSeg.prevInResult();\n          prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n        }\n      }\n    }]);\n\n    return RingOut;\n  }();\n  var PolyOut = /*#__PURE__*/function () {\n    function PolyOut(exteriorRing) {\n      _classCallCheck(this, PolyOut);\n\n      this.exteriorRing = exteriorRing;\n      exteriorRing.poly = this;\n      this.interiorRings = [];\n    }\n\n    _createClass(PolyOut, [{\n      key: \"addInterior\",\n      value: function addInterior(ring) {\n        this.interiorRings.push(ring);\n        ring.poly = this;\n      }\n    }, {\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [this.exteriorRing.getGeom()]; // exterior ring was all (within rounding error of angle calc) colinear points\n\n        if (geom[0] === null) return null;\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringGeom = this.interiorRings[i].getGeom(); // interior ring was all (within rounding error of angle calc) colinear points\n\n          if (ringGeom === null) continue;\n          geom.push(ringGeom);\n        }\n\n        return geom;\n      }\n    }]);\n\n    return PolyOut;\n  }();\n  var MultiPolyOut = /*#__PURE__*/function () {\n    function MultiPolyOut(rings) {\n      _classCallCheck(this, MultiPolyOut);\n\n      this.rings = rings;\n      this.polys = this._composePolys(rings);\n    }\n\n    _createClass(MultiPolyOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polyGeom = this.polys[i].getGeom(); // exterior ring was all (within rounding error of angle calc) colinear points\n\n          if (polyGeom === null) continue;\n          geom.push(polyGeom);\n        }\n\n        return geom;\n      }\n    }, {\n      key: \"_composePolys\",\n      value: function _composePolys(rings) {\n        var polys = [];\n\n        for (var i = 0, iMax = rings.length; i < iMax; i++) {\n          var ring = rings[i];\n          if (ring.poly) continue;\n          if (ring.isExteriorRing()) polys.push(new PolyOut(ring));else {\n            var enclosingRing = ring.enclosingRing();\n            if (!enclosingRing.poly) polys.push(new PolyOut(enclosingRing));\n            enclosingRing.poly.addInterior(ring);\n          }\n        }\n\n        return polys;\n      }\n    }]);\n\n    return MultiPolyOut;\n  }();\n\n  /**\n   * NOTE:  We must be careful not to change any segments while\n   *        they are in the SplayTree. AFAIK, there's no way to tell\n   *        the tree to rebalance itself - thus before splitting\n   *        a segment that's in the tree, we remove it from the tree,\n   *        do the split, then re-insert it. (Even though splitting a\n   *        segment *shouldn't* change its correct position in the\n   *        sweep line tree, the reality is because of rounding errors,\n   *        it sometimes does.)\n   */\n\n  var SweepLine = /*#__PURE__*/function () {\n    function SweepLine(queue) {\n      var comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Segment.compare;\n\n      _classCallCheck(this, SweepLine);\n\n      this.queue = queue;\n      this.tree = new Tree(comparator);\n      this.segments = [];\n    }\n\n    _createClass(SweepLine, [{\n      key: \"process\",\n      value: function process(event) {\n        var segment = event.segment;\n        var newEvents = []; // if we've already been consumed by another segment,\n        // clean up our body parts and get out\n\n        if (event.consumedBy) {\n          if (event.isLeft) this.queue.remove(event.otherSE);else this.tree.remove(segment);\n          return newEvents;\n        }\n\n        var node = event.isLeft ? this.tree.insert(segment) : this.tree.find(segment);\n        if (!node) throw new Error(\"Unable to find segment #\".concat(segment.id, \" \") + \"[\".concat(segment.leftSE.point.x, \", \").concat(segment.leftSE.point.y, \"] -> \") + \"[\".concat(segment.rightSE.point.x, \", \").concat(segment.rightSE.point.y, \"] \") + 'in SweepLine tree. Please submit a bug report.');\n        var prevNode = node;\n        var nextNode = node;\n        var prevSeg = undefined;\n        var nextSeg = undefined; // skip consumed segments still in tree\n\n        while (prevSeg === undefined) {\n          prevNode = this.tree.prev(prevNode);\n          if (prevNode === null) prevSeg = null;else if (prevNode.key.consumedBy === undefined) prevSeg = prevNode.key;\n        } // skip consumed segments still in tree\n\n\n        while (nextSeg === undefined) {\n          nextNode = this.tree.next(nextNode);\n          if (nextNode === null) nextSeg = null;else if (nextNode.key.consumedBy === undefined) nextSeg = nextNode.key;\n        }\n\n        if (event.isLeft) {\n          // Check for intersections against the previous segment in the sweep line\n          var prevMySplitter = null;\n\n          if (prevSeg) {\n            var prevInter = prevSeg.getIntersection(segment);\n\n            if (prevInter !== null) {\n              if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n\n              if (!prevSeg.isAnEndpoint(prevInter)) {\n                var newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n\n                for (var i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n            }\n          } // Check for intersections against the next segment in the sweep line\n\n\n          var nextMySplitter = null;\n\n          if (nextSeg) {\n            var nextInter = nextSeg.getIntersection(segment);\n\n            if (nextInter !== null) {\n              if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n\n              if (!nextSeg.isAnEndpoint(nextInter)) {\n                var _newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n\n                for (var _i = 0, _iMax = _newEventsFromSplit.length; _i < _iMax; _i++) {\n                  newEvents.push(_newEventsFromSplit[_i]);\n                }\n              }\n            }\n          } // For simplicity, even if we find more than one intersection we only\n          // spilt on the 'earliest' (sweep-line style) of the intersections.\n          // The other intersection will be handled in a future process().\n\n\n          if (prevMySplitter !== null || nextMySplitter !== null) {\n            var mySplitter = null;\n            if (prevMySplitter === null) mySplitter = nextMySplitter;else if (nextMySplitter === null) mySplitter = prevMySplitter;else {\n              var cmpSplitters = SweepEvent.comparePoints(prevMySplitter, nextMySplitter);\n              mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n            } // Rounding errors can cause changes in ordering,\n            // so remove afected segments and right sweep events before splitting\n\n            this.queue.remove(segment.rightSE);\n            newEvents.push(segment.rightSE);\n\n            var _newEventsFromSplit2 = segment.split(mySplitter);\n\n            for (var _i2 = 0, _iMax2 = _newEventsFromSplit2.length; _i2 < _iMax2; _i2++) {\n              newEvents.push(_newEventsFromSplit2[_i2]);\n            }\n          }\n\n          if (newEvents.length > 0) {\n            // We found some intersections, so re-do the current event to\n            // make sure sweep line ordering is totally consistent for later\n            // use with the segment 'prev' pointers\n            this.tree.remove(segment);\n            newEvents.push(event);\n          } else {\n            // done with left event\n            this.segments.push(segment);\n            segment.prev = prevSeg;\n          }\n        } else {\n          // event.isRight\n          // since we're about to be removed from the sweep line, check for\n          // intersections between our previous and next segments\n          if (prevSeg && nextSeg) {\n            var inter = prevSeg.getIntersection(nextSeg);\n\n            if (inter !== null) {\n              if (!prevSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit3 = this._splitSafely(prevSeg, inter);\n\n                for (var _i3 = 0, _iMax3 = _newEventsFromSplit3.length; _i3 < _iMax3; _i3++) {\n                  newEvents.push(_newEventsFromSplit3[_i3]);\n                }\n              }\n\n              if (!nextSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit4 = this._splitSafely(nextSeg, inter);\n\n                for (var _i4 = 0, _iMax4 = _newEventsFromSplit4.length; _i4 < _iMax4; _i4++) {\n                  newEvents.push(_newEventsFromSplit4[_i4]);\n                }\n              }\n            }\n          }\n\n          this.tree.remove(segment);\n        }\n\n        return newEvents;\n      }\n      /* Safely split a segment that is currently in the datastructures\n       * IE - a segment other than the one that is currently being processed. */\n\n    }, {\n      key: \"_splitSafely\",\n      value: function _splitSafely(seg, pt) {\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        // removeNode() doesn't work, so have re-find the seg\n        // https://github.com/w8r/splay-tree/pull/5\n        this.tree.remove(seg);\n        var rightSE = seg.rightSE;\n        this.queue.remove(rightSE);\n        var newEvents = seg.split(pt);\n        newEvents.push(rightSE); // splitting can trigger consumption\n\n        if (seg.consumedBy === undefined) this.tree.insert(seg);\n        return newEvents;\n      }\n    }]);\n\n    return SweepLine;\n  }();\n\n  var POLYGON_CLIPPING_MAX_QUEUE_SIZE = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1000000;\n  var POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1000000;\n  var Operation = /*#__PURE__*/function () {\n    function Operation() {\n      _classCallCheck(this, Operation);\n    }\n\n    _createClass(Operation, [{\n      key: \"run\",\n      value: function run(type, geom, moreGeoms) {\n        operation.type = type;\n        rounder.reset();\n        /* Convert inputs to MultiPoly objects */\n\n        var multipolys = [new MultiPolyIn(geom, true)];\n\n        for (var i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n          multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n        }\n\n        operation.numMultiPolys = multipolys.length;\n        /* BBox optimization for difference operation\n         * If the bbox of a multipolygon that's part of the clipping doesn't\n         * intersect the bbox of the subject at all, we can just drop that\n         * multiploygon. */\n\n        if (operation.type === 'difference') {\n          // in place removal\n          var subject = multipolys[0];\n          var _i = 1;\n\n          while (_i < multipolys.length) {\n            if (getBboxOverlap(multipolys[_i].bbox, subject.bbox) !== null) _i++;else multipolys.splice(_i, 1);\n          }\n        }\n        /* BBox optimization for intersection operation\n         * If we can find any pair of multipolygons whose bbox does not overlap,\n         * then the result will be empty. */\n\n\n        if (operation.type === 'intersection') {\n          // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n          //       it could be optimized to O(n * ln(n))\n          for (var _i2 = 0, _iMax = multipolys.length; _i2 < _iMax; _i2++) {\n            var mpA = multipolys[_i2];\n\n            for (var j = _i2 + 1, jMax = multipolys.length; j < jMax; j++) {\n              if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n            }\n          }\n        }\n        /* Put segment endpoints in a priority queue */\n\n\n        var queue = new Tree(SweepEvent.compare);\n\n        for (var _i3 = 0, _iMax2 = multipolys.length; _i3 < _iMax2; _i3++) {\n          var sweepEvents = multipolys[_i3].getSweepEvents();\n\n          for (var _j = 0, _jMax = sweepEvents.length; _j < _jMax; _j++) {\n            queue.insert(sweepEvents[_j]);\n\n            if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n              // prevents an infinite loop, an otherwise common manifestation of bugs\n              throw new Error('Infinite loop when putting segment endpoints in a priority queue ' + '(queue size too big). Please file a bug report.');\n            }\n          }\n        }\n        /* Pass the sweep line over those endpoints */\n\n\n        var sweepLine = new SweepLine(queue);\n        var prevQueueSize = queue.size;\n        var node = queue.pop();\n\n        while (node) {\n          var evt = node.key;\n\n          if (queue.size === prevQueueSize) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            var seg = evt.segment;\n            throw new Error(\"Unable to pop() \".concat(evt.isLeft ? 'left' : 'right', \" SweepEvent \") + \"[\".concat(evt.point.x, \", \").concat(evt.point.y, \"] from segment #\").concat(seg.id, \" \") + \"[\".concat(seg.leftSE.point.x, \", \").concat(seg.leftSE.point.y, \"] -> \") + \"[\".concat(seg.rightSE.point.x, \", \").concat(seg.rightSE.point.y, \"] from queue. \") + 'Please file a bug report.');\n          }\n\n          if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(queue size too big). Please file a bug report.');\n          }\n\n          if (sweepLine.segments.length > POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(too many sweep line segments). Please file a bug report.');\n          }\n\n          var newEvents = sweepLine.process(evt);\n\n          for (var _i4 = 0, _iMax3 = newEvents.length; _i4 < _iMax3; _i4++) {\n            var _evt = newEvents[_i4];\n            if (_evt.consumedBy === undefined) queue.insert(_evt);\n          }\n\n          prevQueueSize = queue.size;\n          node = queue.pop();\n        } // free some memory we don't need anymore\n\n\n        rounder.reset();\n        /* Collect and compile segments we're keeping into a multipolygon */\n\n        var ringsOut = RingOut.factory(sweepLine.segments);\n        var result = new MultiPolyOut(ringsOut);\n        return result.getGeom();\n      }\n    }]);\n\n    return Operation;\n  }(); // singleton available by import\n\n  var operation = new Operation();\n\n  var union = function union(geom) {\n    for (var _len = arguments.length, moreGeoms = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      moreGeoms[_key - 1] = arguments[_key];\n    }\n\n    return operation.run('union', geom, moreGeoms);\n  };\n\n  var intersection$1 = function intersection(geom) {\n    for (var _len2 = arguments.length, moreGeoms = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      moreGeoms[_key2 - 1] = arguments[_key2];\n    }\n\n    return operation.run('intersection', geom, moreGeoms);\n  };\n\n  var xor = function xor(geom) {\n    for (var _len3 = arguments.length, moreGeoms = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      moreGeoms[_key3 - 1] = arguments[_key3];\n    }\n\n    return operation.run('xor', geom, moreGeoms);\n  };\n\n  var difference = function difference(subjectGeom) {\n    for (var _len4 = arguments.length, clippingGeoms = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      clippingGeoms[_key4 - 1] = arguments[_key4];\n    }\n\n    return operation.run('difference', subjectGeom, clippingGeoms);\n  };\n\n  var index = {\n    union: union,\n    intersection: intersection$1,\n    xor: xor,\n    difference: difference\n  };\n\n  return index;\n\n})));\n","var map = {\n\t\"./at.jpg\": 32299,\n\t\"./atortho.jpg\": 59758,\n\t\"./avalanche.jpg\": 46105,\n\t\"./data-avalanche.png\": 59079,\n\t\"./esri.jpg\": 88527,\n\t\"./flowcapt.png\": 29364,\n\t\"./icgc.jpg\": 95427,\n\t\"./icgcortho.jpg\": 68183,\n\t\"./ign.jpg\": 89274,\n\t\"./ignes.jpg\": 87660,\n\t\"./ignesortho.jpg\": 94823,\n\t\"./ignortho.jpg\": 14461,\n\t\"./ignslopes.jpg\": 23075,\n\t\"./nivose.png\": 55718,\n\t\"./opentopomap.jpg\": 37658,\n\t\"./romma.png\": 9138,\n\t\"./swisstopo.jpg\": 70580,\n\t\"./swisstopoortho.jpg\": 98814,\n\t\"./swisstoposlopes.jpg\": 42181,\n\t\"./winter-route.png\": 96407,\n\t\"./yeti-extent.jpg\": 47651,\n\t\"./yeti-risk.jpg\": 32226\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 28273;","var map = {\n\t\"./winter-route-icon1.png\": 95877,\n\t\"./winter-route-icon2.png\": 2652\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 19269;","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  if (DESCRIPTORS) definePropertyModule.f(object, key, createPropertyDescriptor(0, value));\n  else object[key] = value;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar tryNodeRequire = require('../internals/try-node-require');\nvar PROPER_STRUCTURED_CLONE_TRANSFER = require('../internals/structured-clone-proper-transfer');\n\nvar structuredClone = global.structuredClone;\nvar $ArrayBuffer = global.ArrayBuffer;\nvar $MessageChannel = global.MessageChannel;\nvar detach = false;\nvar WorkerThreads, channel, buffer, $detach;\n\nif (PROPER_STRUCTURED_CLONE_TRANSFER) {\n  detach = function (transferable) {\n    structuredClone(transferable, { transfer: [transferable] });\n  };\n} else if ($ArrayBuffer) try {\n  if (!$MessageChannel) {\n    WorkerThreads = tryNodeRequire('worker_threads');\n    if (WorkerThreads) $MessageChannel = WorkerThreads.MessageChannel;\n  }\n\n  if ($MessageChannel) {\n    channel = new $MessageChannel();\n    buffer = new $ArrayBuffer(2);\n\n    $detach = function (transferable) {\n      channel.port1.postMessage(null, [transferable]);\n    };\n\n    if (buffer.byteLength === 2) {\n      $detach(buffer);\n      if (buffer.byteLength === 0) detach = $detach;\n    }\n  }\n} catch (error) { /* empty */ }\n\nmodule.exports = detach;\n","'use strict';\nmodule.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\n\nvar nativeErrorToString = Error.prototype.toString;\n\nvar INCORRECT_TO_STRING = fails(function () {\n  if (DESCRIPTORS) {\n    // Chrome 32- incorrectly call accessor\n    // eslint-disable-next-line es/no-object-create, es/no-object-defineproperty -- safe\n    var object = Object.create(Object.defineProperty({}, 'name', { get: function () {\n      return this === object;\n    } }));\n    if (nativeErrorToString.call(object) !== 'true') return true;\n  }\n  // FF10- does not properly handle non-strings\n  return nativeErrorToString.call({ message: 1, name: 2 }) !== '2: 1'\n    // IE8 does not properly handle defaults\n    || nativeErrorToString.call({}) !== 'Error';\n});\n\nmodule.exports = INCORRECT_TO_STRING ? function toString() {\n  var O = anObject(this);\n  var name = normalizeStringArgument(O.name, 'Error');\n  var message = normalizeStringArgument(O.message);\n  return !name ? message : !message ? name : name + ': ' + message;\n} : nativeErrorToString;\n","'use strict';\nvar call = require('../internals/function-call');\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// eslint-disable-next-line es/no-map -- safe\nvar MapPrototype = Map.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-map -- safe\n  Map: Map,\n  set: uncurryThis(MapPrototype.set),\n  get: uncurryThis(MapPrototype.get),\n  has: uncurryThis(MapPrototype.has),\n  remove: uncurryThis(MapPrototype['delete']),\n  proto: MapPrototype\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype['delete']),\n  proto: SetPrototype\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar iterateSimple = require('../internals/iterate-simple');\nvar SetHelpers = require('../internals/set-helpers');\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n","'use strict';\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar V8 = require('../internals/engine-v8-version');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_DENO = require('../internals/engine-is-deno');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar structuredClone = global.structuredClone;\n\nmodule.exports = !!structuredClone && !fails(function () {\n  // prevent V8 ArrayBufferDetaching protector cell invalidation and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if ((IS_DENO && V8 > 92) || (IS_NODE && V8 > 94) || (IS_BROWSER && V8 > 97)) return false;\n  var buffer = new ArrayBuffer(8);\n  var clone = structuredClone(buffer, { transfer: [buffer] });\n  return buffer.byteLength !== 0 || clone.byteLength !== 8;\n});\n","'use strict';\nvar IS_NODE = require('../internals/engine-is-node');\n\nmodule.exports = function (name) {\n  try {\n    // eslint-disable-next-line no-new-func -- safe\n    if (IS_NODE) return Function('return require(\"' + name + '\")')();\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar tryNodeRequire = require('../internals/try-node-require');\nvar getBuiltIn = require('../internals/get-built-in');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar anObject = require('../internals/an-object');\nvar errorToString = require('../internals/error-to-string');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar InternalStateModule = require('../internals/internal-state');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar DATA_CLONE_ERR = 'DATA_CLONE_ERR';\nvar Error = getBuiltIn('Error');\n// NodeJS < 17.0 does not expose `DOMException` to global\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION) || (function () {\n  try {\n    // NodeJS < 15.0 does not expose `MessageChannel` to global\n    var MessageChannel = getBuiltIn('MessageChannel') || tryNodeRequire('worker_threads').MessageChannel;\n    // eslint-disable-next-line es/no-weak-map, unicorn/require-post-message-target-origin -- safe\n    new MessageChannel().port1.postMessage(new WeakMap());\n  } catch (error) {\n    if (error.name === DATA_CLONE_ERR && error.code === 25) return error.constructor;\n  }\n})();\nvar NativeDOMExceptionPrototype = NativeDOMException && NativeDOMException.prototype;\nvar ErrorPrototype = Error.prototype;\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(DOM_EXCEPTION);\nvar HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\n\nvar codeFor = function (name) {\n  return hasOwn(DOMExceptionConstants, name) && DOMExceptionConstants[name].m ? DOMExceptionConstants[name].c : 0;\n};\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var code = codeFor(name);\n  setInternalState(this, {\n    type: DOM_EXCEPTION,\n    name: name,\n    message: message,\n    code: code\n  });\n  if (!DESCRIPTORS) {\n    this.name = name;\n    this.message = message;\n    this.code = code;\n  }\n  if (HAS_STACK) {\n    var error = new Error(message);\n    error.name = DOM_EXCEPTION;\n    defineProperty(this, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  }\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = create(ErrorPrototype);\n\nvar createGetterDescriptor = function (get) {\n  return { enumerable: true, configurable: true, get: get };\n};\n\nvar getterFor = function (key) {\n  return createGetterDescriptor(function () {\n    return getInternalState(this)[key];\n  });\n};\n\nif (DESCRIPTORS) {\n  // `DOMException.prototype.code` getter\n  defineBuiltInAccessor(DOMExceptionPrototype, 'code', getterFor('code'));\n  // `DOMException.prototype.message` getter\n  defineBuiltInAccessor(DOMExceptionPrototype, 'message', getterFor('message'));\n  // `DOMException.prototype.name` getter\n  defineBuiltInAccessor(DOMExceptionPrototype, 'name', getterFor('name'));\n}\n\ndefineProperty(DOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, $DOMException));\n\n// FF36- DOMException is a function, but can't be constructed\nvar INCORRECT_CONSTRUCTOR = fails(function () {\n  return !(new NativeDOMException() instanceof Error);\n});\n\n// Safari 10.1 / Chrome 32- / IE8- DOMException.prototype.toString bugs\nvar INCORRECT_TO_STRING = INCORRECT_CONSTRUCTOR || fails(function () {\n  return ErrorPrototype.toString !== errorToString || String(new NativeDOMException(1, 2)) !== '2: 1';\n});\n\n// Deno 1.6.3- DOMException.prototype.code just missed\nvar INCORRECT_CODE = INCORRECT_CONSTRUCTOR || fails(function () {\n  return new NativeDOMException(1, 'DataCloneError').code !== 25;\n});\n\n// Deno 1.6.3- DOMException constants just missed\nvar MISSED_CONSTANTS = INCORRECT_CONSTRUCTOR\n  || NativeDOMException[DATA_CLONE_ERR] !== 25\n  || NativeDOMExceptionPrototype[DATA_CLONE_ERR] !== 25;\n\nvar FORCED_CONSTRUCTOR = IS_PURE ? INCORRECT_TO_STRING || INCORRECT_CODE || MISSED_CONSTANTS : INCORRECT_CONSTRUCTOR;\n\n// `DOMException` constructor\n// https://webidl.spec.whatwg.org/#idl-DOMException\n$({ global: true, constructor: true, forced: FORCED_CONSTRUCTOR }, {\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (INCORRECT_TO_STRING && (IS_PURE || NativeDOMException === PolyfilledDOMException)) {\n  defineBuiltIn(PolyfilledDOMExceptionPrototype, 'toString', errorToString);\n}\n\nif (INCORRECT_CODE && DESCRIPTORS && NativeDOMException === PolyfilledDOMException) {\n  defineBuiltInAccessor(PolyfilledDOMExceptionPrototype, 'code', createGetterDescriptor(function () {\n    return codeFor(anObject(this).name);\n  }));\n}\n\n// `DOMException` constants\nfor (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n  var constant = DOMExceptionConstants[key];\n  var constantName = constant.s;\n  var descriptor = createPropertyDescriptor(6, constant.c);\n  if (!hasOwn(PolyfilledDOMException, constantName)) {\n    defineProperty(PolyfilledDOMException, constantName, descriptor);\n  }\n  if (!hasOwn(PolyfilledDOMExceptionPrototype, constantName)) {\n    defineProperty(PolyfilledDOMExceptionPrototype, constantName, descriptor);\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = new Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(global, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\nvar DOM_EXCEPTION = 'DOMException';\n\n// `DOMException.prototype[@@toStringTag]` property\nsetToStringTag(getBuiltIn(DOM_EXCEPTION), DOM_EXCEPTION);\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar uid = require('../internals/uid');\nvar isCallable = require('../internals/is-callable');\nvar isConstructor = require('../internals/is-constructor');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar iterate = require('../internals/iterate');\nvar anObject = require('../internals/an-object');\nvar classof = require('../internals/classof');\nvar hasOwn = require('../internals/has-own-property');\nvar createProperty = require('../internals/create-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar MapHelpers = require('../internals/map-helpers');\nvar SetHelpers = require('../internals/set-helpers');\nvar setIterate = require('../internals/set-iterate');\nvar detachTransferable = require('../internals/detach-transferable');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar PROPER_STRUCTURED_CLONE_TRANSFER = require('../internals/structured-clone-proper-transfer');\n\nvar Object = global.Object;\nvar Array = global.Array;\nvar Date = global.Date;\nvar Error = global.Error;\nvar TypeError = global.TypeError;\nvar PerformanceMark = global.PerformanceMark;\nvar DOMException = getBuiltIn('DOMException');\nvar Map = MapHelpers.Map;\nvar mapHas = MapHelpers.has;\nvar mapGet = MapHelpers.get;\nvar mapSet = MapHelpers.set;\nvar Set = SetHelpers.Set;\nvar setAdd = SetHelpers.add;\nvar setHas = SetHelpers.has;\nvar objectKeys = getBuiltIn('Object', 'keys');\nvar push = uncurryThis([].push);\nvar thisBooleanValue = uncurryThis(true.valueOf);\nvar thisNumberValue = uncurryThis(1.0.valueOf);\nvar thisStringValue = uncurryThis(''.valueOf);\nvar thisTimeValue = uncurryThis(Date.prototype.getTime);\nvar PERFORMANCE_MARK = uid('structuredClone');\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar TRANSFERRING = 'Transferring';\n\nvar checkBasicSemantic = function (structuredCloneImplementation) {\n  return !fails(function () {\n    var set1 = new global.Set([7]);\n    var set2 = structuredCloneImplementation(set1);\n    var number = structuredCloneImplementation(Object(7));\n    return set2 === set1 || !set2.has(7) || !isObject(number) || +number !== 7;\n  }) && structuredCloneImplementation;\n};\n\nvar checkErrorsCloning = function (structuredCloneImplementation, $Error) {\n  return !fails(function () {\n    var error = new $Error();\n    var test = structuredCloneImplementation({ a: error, b: error });\n    return !(test && test.a === test.b && test.a instanceof $Error && test.a.stack === error.stack);\n  });\n};\n\n// https://github.com/whatwg/html/pull/5749\nvar checkNewErrorsCloningSemantic = function (structuredCloneImplementation) {\n  return !fails(function () {\n    var test = structuredCloneImplementation(new global.AggregateError([1], PERFORMANCE_MARK, { cause: 3 }));\n    return test.name !== 'AggregateError' || test.errors[0] !== 1 || test.message !== PERFORMANCE_MARK || test.cause !== 3;\n  });\n};\n\n// FF94+, Safari 15.4+, Chrome 98+, NodeJS 17.0+, Deno 1.13+\n// FF<103 and Safari implementations can't clone errors\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1556604\n// FF103 can clone errors, but `.stack` of clone is an empty string\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1778762\n// FF104+ fixed it on usual errors, but not on DOMExceptions\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1777321\n// Chrome <102 returns `null` if cloned object contains multiple references to one error\n// https://bugs.chromium.org/p/v8/issues/detail?id=12542\n// NodeJS implementation can't clone DOMExceptions\n// https://github.com/nodejs/node/issues/41038\n// only FF103+ supports new (html/5749) error cloning semantic\nvar nativeStructuredClone = global.structuredClone;\n\nvar FORCED_REPLACEMENT = IS_PURE\n  || !checkErrorsCloning(nativeStructuredClone, Error)\n  || !checkErrorsCloning(nativeStructuredClone, DOMException)\n  || !checkNewErrorsCloningSemantic(nativeStructuredClone);\n\n// Chrome 82+, Safari 14.1+, Deno 1.11+\n// Chrome 78-81 implementation swaps `.name` and `.message` of cloned `DOMException`\n// Chrome returns `null` if cloned object contains multiple references to one error\n// Safari 14.1 implementation doesn't clone some `RegExp` flags, so requires a workaround\n// Safari implementation can't clone errors\n// Deno 1.2-1.10 implementations too naive\n// NodeJS 16.0+ does not have `PerformanceMark` constructor\n// NodeJS <17.2 structured cloning implementation from `performance.mark` is too naive\n// and can't clone, for example, `RegExp` or some boxed primitives\n// https://github.com/nodejs/node/issues/40840\n// no one of those implementations supports new (html/5749) error cloning semantic\nvar structuredCloneFromMark = !nativeStructuredClone && checkBasicSemantic(function (value) {\n  return new PerformanceMark(PERFORMANCE_MARK, { detail: value }).detail;\n});\n\nvar nativeRestrictedStructuredClone = checkBasicSemantic(nativeStructuredClone) || structuredCloneFromMark;\n\nvar throwUncloneable = function (type) {\n  throw new DOMException('Uncloneable type: ' + type, DATA_CLONE_ERROR);\n};\n\nvar throwUnpolyfillable = function (type, action) {\n  throw new DOMException((action || 'Cloning') + ' of ' + type + ' cannot be properly polyfilled in this engine', DATA_CLONE_ERROR);\n};\n\nvar tryNativeRestrictedStructuredClone = function (value, type) {\n  if (!nativeRestrictedStructuredClone) throwUnpolyfillable(type);\n  return nativeRestrictedStructuredClone(value);\n};\n\nvar createDataTransfer = function () {\n  var dataTransfer;\n  try {\n    dataTransfer = new global.DataTransfer();\n  } catch (error) {\n    try {\n      dataTransfer = new global.ClipboardEvent('').clipboardData;\n    } catch (error2) { /* empty */ }\n  }\n  return dataTransfer && dataTransfer.items && dataTransfer.files ? dataTransfer : null;\n};\n\nvar cloneBuffer = function (value, map, $type) {\n  if (mapHas(map, value)) return mapGet(map, value);\n\n  var type = $type || classof(value);\n  var clone, length, options, source, target, i;\n\n  if (type === 'SharedArrayBuffer') {\n    if (nativeRestrictedStructuredClone) clone = nativeRestrictedStructuredClone(value);\n    // SharedArrayBuffer should use shared memory, we can't polyfill it, so return the original\n    else clone = value;\n  } else {\n    var DataView = global.DataView;\n\n    // `ArrayBuffer#slice` is not available in IE10\n    // `ArrayBuffer#slice` and `DataView` are not available in old FF\n    if (!DataView && !isCallable(value.slice)) throwUnpolyfillable('ArrayBuffer');\n    // detached buffers throws in `DataView` and `.slice`\n    try {\n      if (isCallable(value.slice) && !value.resizable) {\n        clone = value.slice(0);\n      } else {\n        length = value.byteLength;\n        options = 'maxByteLength' in value ? { maxByteLength: value.maxByteLength } : undefined;\n        // eslint-disable-next-line es/no-resizable-and-growable-arraybuffers -- safe\n        clone = new ArrayBuffer(length, options);\n        source = new DataView(value);\n        target = new DataView(clone);\n        for (i = 0; i < length; i++) {\n          target.setUint8(i, source.getUint8(i));\n        }\n      }\n    } catch (error) {\n      throw new DOMException('ArrayBuffer is detached', DATA_CLONE_ERROR);\n    }\n  }\n\n  mapSet(map, value, clone);\n\n  return clone;\n};\n\nvar cloneView = function (value, type, offset, length, map) {\n  var C = global[type];\n  // in some old engines like Safari 9, typeof C is 'object'\n  // on Uint8ClampedArray or some other constructors\n  if (!isObject(C)) throwUnpolyfillable(type);\n  return new C(cloneBuffer(value.buffer, map), offset, length);\n};\n\nvar structuredCloneInternal = function (value, map) {\n  if (isSymbol(value)) throwUncloneable('Symbol');\n  if (!isObject(value)) return value;\n  // effectively preserves circular references\n  if (map) {\n    if (mapHas(map, value)) return mapGet(map, value);\n  } else map = new Map();\n\n  var type = classof(value);\n  var C, name, cloned, dataTransfer, i, length, keys, key;\n\n  switch (type) {\n    case 'Array':\n      cloned = Array(lengthOfArrayLike(value));\n      break;\n    case 'Object':\n      cloned = {};\n      break;\n    case 'Map':\n      cloned = new Map();\n      break;\n    case 'Set':\n      cloned = new Set();\n      break;\n    case 'RegExp':\n      // in this block because of a Safari 14.1 bug\n      // old FF does not clone regexes passed to the constructor, so get the source and flags directly\n      cloned = new RegExp(value.source, getRegExpFlags(value));\n      break;\n    case 'Error':\n      name = value.name;\n      switch (name) {\n        case 'AggregateError':\n          cloned = new (getBuiltIn(name))([]);\n          break;\n        case 'EvalError':\n        case 'RangeError':\n        case 'ReferenceError':\n        case 'SuppressedError':\n        case 'SyntaxError':\n        case 'TypeError':\n        case 'URIError':\n          cloned = new (getBuiltIn(name))();\n          break;\n        case 'CompileError':\n        case 'LinkError':\n        case 'RuntimeError':\n          cloned = new (getBuiltIn('WebAssembly', name))();\n          break;\n        default:\n          cloned = new Error();\n      }\n      break;\n    case 'DOMException':\n      cloned = new DOMException(value.message, value.name);\n      break;\n    case 'ArrayBuffer':\n    case 'SharedArrayBuffer':\n      cloned = cloneBuffer(value, map, type);\n      break;\n    case 'DataView':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float16Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'BigInt64Array':\n    case 'BigUint64Array':\n      length = type === 'DataView' ? value.byteLength : value.length;\n      cloned = cloneView(value, type, value.byteOffset, length, map);\n      break;\n    case 'DOMQuad':\n      try {\n        cloned = new DOMQuad(\n          structuredCloneInternal(value.p1, map),\n          structuredCloneInternal(value.p2, map),\n          structuredCloneInternal(value.p3, map),\n          structuredCloneInternal(value.p4, map)\n        );\n      } catch (error) {\n        cloned = tryNativeRestrictedStructuredClone(value, type);\n      }\n      break;\n    case 'File':\n      if (nativeRestrictedStructuredClone) try {\n        cloned = nativeRestrictedStructuredClone(value);\n        // NodeJS 20.0.0 bug, https://github.com/nodejs/node/issues/47612\n        if (classof(cloned) !== type) cloned = undefined;\n      } catch (error) { /* empty */ }\n      if (!cloned) try {\n        cloned = new File([value], value.name, value);\n      } catch (error) { /* empty */ }\n      if (!cloned) throwUnpolyfillable(type);\n      break;\n    case 'FileList':\n      dataTransfer = createDataTransfer();\n      if (dataTransfer) {\n        for (i = 0, length = lengthOfArrayLike(value); i < length; i++) {\n          dataTransfer.items.add(structuredCloneInternal(value[i], map));\n        }\n        cloned = dataTransfer.files;\n      } else cloned = tryNativeRestrictedStructuredClone(value, type);\n      break;\n    case 'ImageData':\n      // Safari 9 ImageData is a constructor, but typeof ImageData is 'object'\n      try {\n        cloned = new ImageData(\n          structuredCloneInternal(value.data, map),\n          value.width,\n          value.height,\n          { colorSpace: value.colorSpace }\n        );\n      } catch (error) {\n        cloned = tryNativeRestrictedStructuredClone(value, type);\n      } break;\n    default:\n      if (nativeRestrictedStructuredClone) {\n        cloned = nativeRestrictedStructuredClone(value);\n      } else switch (type) {\n        case 'BigInt':\n          // can be a 3rd party polyfill\n          cloned = Object(value.valueOf());\n          break;\n        case 'Boolean':\n          cloned = Object(thisBooleanValue(value));\n          break;\n        case 'Number':\n          cloned = Object(thisNumberValue(value));\n          break;\n        case 'String':\n          cloned = Object(thisStringValue(value));\n          break;\n        case 'Date':\n          cloned = new Date(thisTimeValue(value));\n          break;\n        case 'Blob':\n          try {\n            cloned = value.slice(0, value.size, value.type);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'DOMPoint':\n        case 'DOMPointReadOnly':\n          C = global[type];\n          try {\n            cloned = C.fromPoint\n              ? C.fromPoint(value)\n              : new C(value.x, value.y, value.z, value.w);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'DOMRect':\n        case 'DOMRectReadOnly':\n          C = global[type];\n          try {\n            cloned = C.fromRect\n              ? C.fromRect(value)\n              : new C(value.x, value.y, value.width, value.height);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'DOMMatrix':\n        case 'DOMMatrixReadOnly':\n          C = global[type];\n          try {\n            cloned = C.fromMatrix\n              ? C.fromMatrix(value)\n              : new C(value);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'AudioData':\n        case 'VideoFrame':\n          if (!isCallable(value.clone)) throwUnpolyfillable(type);\n          try {\n            cloned = value.clone();\n          } catch (error) {\n            throwUncloneable(type);\n          } break;\n        case 'CropTarget':\n        case 'CryptoKey':\n        case 'FileSystemDirectoryHandle':\n        case 'FileSystemFileHandle':\n        case 'FileSystemHandle':\n        case 'GPUCompilationInfo':\n        case 'GPUCompilationMessage':\n        case 'ImageBitmap':\n        case 'RTCCertificate':\n        case 'WebAssembly.Module':\n          throwUnpolyfillable(type);\n          // break omitted\n        default:\n          throwUncloneable(type);\n      }\n  }\n\n  mapSet(map, value, cloned);\n\n  switch (type) {\n    case 'Array':\n    case 'Object':\n      keys = objectKeys(value);\n      for (i = 0, length = lengthOfArrayLike(keys); i < length; i++) {\n        key = keys[i];\n        createProperty(cloned, key, structuredCloneInternal(value[key], map));\n      } break;\n    case 'Map':\n      value.forEach(function (v, k) {\n        mapSet(cloned, structuredCloneInternal(k, map), structuredCloneInternal(v, map));\n      });\n      break;\n    case 'Set':\n      value.forEach(function (v) {\n        setAdd(cloned, structuredCloneInternal(v, map));\n      });\n      break;\n    case 'Error':\n      createNonEnumerableProperty(cloned, 'message', structuredCloneInternal(value.message, map));\n      if (hasOwn(value, 'cause')) {\n        createNonEnumerableProperty(cloned, 'cause', structuredCloneInternal(value.cause, map));\n      }\n      if (name === 'AggregateError') {\n        cloned.errors = structuredCloneInternal(value.errors, map);\n      } else if (name === 'SuppressedError') {\n        cloned.error = structuredCloneInternal(value.error, map);\n        cloned.suppressed = structuredCloneInternal(value.suppressed, map);\n      } // break omitted\n    case 'DOMException':\n      if (ERROR_STACK_INSTALLABLE) {\n        createNonEnumerableProperty(cloned, 'stack', structuredCloneInternal(value.stack, map));\n      }\n  }\n\n  return cloned;\n};\n\nvar tryToTransfer = function (rawTransfer, map) {\n  if (!isObject(rawTransfer)) throw new TypeError('Transfer option cannot be converted to a sequence');\n\n  var transfer = [];\n\n  iterate(rawTransfer, function (value) {\n    push(transfer, anObject(value));\n  });\n\n  var i = 0;\n  var length = lengthOfArrayLike(transfer);\n  var buffers = new Set();\n  var value, type, C, transferred, canvas, context;\n\n  while (i < length) {\n    value = transfer[i++];\n\n    type = classof(value);\n\n    if (type === 'ArrayBuffer' ? setHas(buffers, value) : mapHas(map, value)) {\n      throw new DOMException('Duplicate transferable', DATA_CLONE_ERROR);\n    }\n\n    if (type === 'ArrayBuffer') {\n      setAdd(buffers, value);\n      continue;\n    }\n\n    if (PROPER_STRUCTURED_CLONE_TRANSFER) {\n      transferred = nativeStructuredClone(value, { transfer: [value] });\n    } else switch (type) {\n      case 'ImageBitmap':\n        C = global.OffscreenCanvas;\n        if (!isConstructor(C)) throwUnpolyfillable(type, TRANSFERRING);\n        try {\n          canvas = new C(value.width, value.height);\n          context = canvas.getContext('bitmaprenderer');\n          context.transferFromImageBitmap(value);\n          transferred = canvas.transferToImageBitmap();\n        } catch (error) { /* empty */ }\n        break;\n      case 'AudioData':\n      case 'VideoFrame':\n        if (!isCallable(value.clone) || !isCallable(value.close)) throwUnpolyfillable(type, TRANSFERRING);\n        try {\n          transferred = value.clone();\n          value.close();\n        } catch (error) { /* empty */ }\n        break;\n      case 'MediaSourceHandle':\n      case 'MessagePort':\n      case 'OffscreenCanvas':\n      case 'ReadableStream':\n      case 'TransformStream':\n      case 'WritableStream':\n        throwUnpolyfillable(type, TRANSFERRING);\n    }\n\n    if (transferred === undefined) throw new DOMException('This object cannot be transferred: ' + type, DATA_CLONE_ERROR);\n\n    mapSet(map, value, transferred);\n  }\n\n  return buffers;\n};\n\nvar detachBuffers = function (buffers) {\n  setIterate(buffers, function (buffer) {\n    if (PROPER_STRUCTURED_CLONE_TRANSFER) {\n      nativeRestrictedStructuredClone(buffer, { transfer: [buffer] });\n    } else if (isCallable(buffer.transfer)) {\n      buffer.transfer();\n    } else if (detachTransferable) {\n      detachTransferable(buffer);\n    } else {\n      throwUnpolyfillable('ArrayBuffer', TRANSFERRING);\n    }\n  });\n};\n\n// `structuredClone` method\n// https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone\n$({ global: true, enumerable: true, sham: !PROPER_STRUCTURED_CLONE_TRANSFER, forced: FORCED_REPLACEMENT }, {\n  structuredClone: function structuredClone(value /* , { transfer } */) {\n    var options = validateArgumentsLength(arguments.length, 1) > 1 && !isNullOrUndefined(arguments[1]) ? anObject(arguments[1]) : undefined;\n    var transfer = options ? options.transfer : undefined;\n    var map, buffers;\n\n    if (transfer !== undefined) {\n      map = new Map();\n      buffers = tryToTransfer(transfer, map);\n    }\n\n    var clone = structuredCloneInternal(value, map);\n\n    // since of an issue with cloning views of transferred buffers, we a forced to detach them later\n    // https://github.com/zloirock/core-js/issues/1265\n    if (buffers) detachBuffers(buffers);\n\n    return clone;\n  }\n});\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","showDisclaimer","articles","disclaimer","on","onSubmitDisclaimer","directives","name","rawName","model","value","checkDisclaimer","callback","$$v","expression","_e","$route","params","page","faq","_m","fullPath","tabs","currentError","promise","compute","warnAboutMethodBra","method","type","ref","staticRenderFns","require","document","_s","title","fields","description","_t","script","component","components","SubPanelTitle","MarkdownSection","props","article","required","data","computed","id","lang","watch","mounted","methods","cookDocument","c2c","index","activeTab","defaultState","API_URL","BLEND_MODES_CLASS_NAME","BLEND_MODES_MAX_ZOOM","BLEND_MODES_MIN_ZOOM","DANGER_MAX_WHEN_MRD","VALID_MINIMUM_MAP_ZOOM","YETI_LAYER_OPACITY","bra","high","low","altiThreshold","isDifferent","orientation","potentialDanger","wetSnow","groupSize","baseLayersSelector","slopesLayersSelector","yetiLayersSelector","showYeti","yetiOk","yetiData","yetiExtent","yetiLegend","areas","areaOk","showAreas","features","featuresTitle","featuresLength","overlaysLayersSelector","mountains","all","visible","bulletinsLoaded","showAvalancheBulletins","showWinterRoute","winterRouteLegend","nivoses","showNivoses","romma","showRomma","flowcapt","showFlowcapt","dataAvalanche","showDataAvalanche","mapZoom","editMode","validSimplifyTolerance","state","JSON","parse","stringify","hasFeatures","setActiveTab","setBra","setMethod","setBaseLayersSelector","setSlopesLayersSelector","addLayerToYetiLayersSelector","setShowYeti","setYetiOk","setYetiData","setYetiExtent","setYetiLegend","setAreas","setAreaOk","setShowAreas","setFeatures","setFeaturesTitle","setFeaturesLength","addLayerToOverlaysLayersSelector","setAllMountains","setVisibleMountains","setShowAvalancheBulletins","setBulletinsLoaded","setShowWinterRoute","setWinterRouteLegend","setNivoses","setShowNivoses","setRomma","setShowRomma","setFlowcapt","setShowFlowcapt","setDataAvalanche","setShowDataAvalanche","setMapZoom","setEditMode","setValidSimplifyTolerance","setDefault","fetchApi","fetchAreas","fetchMountains","fetchBulletins","fetchNivoses","fetchRomma","fetchFlowcapt","fetchDataAvalanche","fetchWpsAlti","identifier","operation","inputs","points","datum","interpolate","class","staticStyle","$gettext","domProps","$event","onChange","scopedSlots","_u","key","fn","showVisibleMountains","onShowAvalancheBulletins","_l","visibleMountains","mountainsForMassif","massif","mountain","urls","url","proxy","countVisibleMountains","isPrimary","default","opened","switchOpen","undefined","inline","icon","icons","info","warning","help","Counter","DropdownContent","Info","showMountainsList","Yetix","checkBraIsDifferent","length","hasFeaturesTitle","onEditNewFeaturesTitle","onEditFeaturesTitle","indexOf","keyCode","preventDefault","onRemoveFeatures","formats","f","format","_q","downloadCourse","loading","onLoadGpx","uploadGpx","onEditMode","interpolateValue","modifiers","target","composing","_n","$forceUpdate","atLeastOneLineChunkHasTooMuchPoints","interpolateValueInvalid","routeIntersectsYetiAreas","onCalculateElevations","getSquareDistance","p1","p2","dx","dy","dz","getSquareSegmentDistance","p","x","y","z","t","simplifyRadialDistance","sqTolerance","point","prevPoint","newPoints","i","len","push","simplifyDouglasPeucker","maxSqDist","sqDist","MarkerArray","Uint8Array","Array","markers","first","last","stack","pop","simplify","tolerance","highestQuality","MIN_INTERPOLATE_VALUE","i18n_","elevation_legend","distance_legend","errors","actionDisabled","fromApi","tooMuchPoints","coords","coord","debounce","d3","beforeDestroy","setTimeout","promises","feature","Promise","filter","map","window","removeAllElevations","showFeature","selectAll","select","classed","hideFeature","computeCoords","updateData","d","totalDist","localTotalDist","ele","localD","min","max","createChart","width","height","top","right","bottom","left","append","attr","call","style","text","passive","updateChart","transform","remove","x0","x1","join","areasDataForLines","onResize","setCursor","emitCursorEndEvent","emitCursorMoveEvent","nbPointsOnFeature","removeFeature","tolerances","toleranceDistance","onPreviewSimplify","tolerancesText","validToleranceDistance","featuresSimplifiedLength","initialize","onSimplify","reduce","destroyed","EditModeButton","ElevationProfile","FeaturesList","SimplifyTool","newFeaturesTitle","reader","downloadFeatures","featureProjection","decimals","utils","setFilename","layer","small","image","country","action","checked","$set","disabled","yetiLayersSelectorChecked","opacity","blendModes","slopesLayersSelectorChecked","selectedBaseLayer","_vm$disabled","_vm$disabled2","_vm$disabled3","_vm$disabled4","_vm$disabled6","_g","condition","click","warnIfDisabled","_value","_uid","isArray","_i","$$a","$$el","$$c","$$i","concat","slice","$emit","backgroundImage","_vm$disabled5","message","toast","duration","pauseOnHover","position","dismissible","single","opts","Toast","get","set","img","focus","interval","VueSlider","focusVisible","LayerButton","Slider","showAreasWasTrue","Object","keys","item","potentialDangerLabels","label","potentialDangerOptions","val","groupSizes","DANGER","mrd","mre","mrp","result","onBraChange","tab","refInFor","setActiveTabKeyboard","counter","problemIcon","event","dir","tabindex","stopPropagation","activeLayersTab","apply","arguments","searchRecenterPropositions","showRecenterOnPropositions","recenterPropositions","recenterOn","properties","activateCenterOnGeolocation","onBaseLayers","onSlopesLayers","$parent","view","getView","getExtent","projection","getFeaturesFromData","ol","readFeatures","getPropertiesFromFeatures","getProperties","handler","deep","created","layers","setVisible","setLayerOpacity","setLayerBlendModes","evt","setBlendModes","BaseLayers","SlopesLayers","mixins","baseLayers","slopesLayers","onMapMoveEnd","updateCartoLayersOpacity","onLayer","closeOverlay","overlayData","mountainName","fullName","danger","overlayValidUntil","overlayValidUntilExpired","overlayOrientations","overlayDangerComment","overlayOrientationsComment","overlayDangerIcon","__defProp","defineProperty","__name","configurable","_GeojsonEquality","constructor","_a","_b","direction","compareProperties","precision","compare","g1","g2","sameLength","compareCoord","coordinates","compareLine","comparePolygon","compareGeometryCollection","compareFeature","compareFeatureCollection","startsWith","g1s","explode","g2s","every","g1part","some","g2part","c1","c2","c","Math","abs","path1","path2","ind","isPoly","startIndex","fixStartIndex","sameDirection","comparePath","reverse","sourcePath","targetPath","correctPath","holes1","holes2","h1","h2","geometries","compareBBox","g","geometry","Boolean","bbox","part","replace","earthRadius","factors","centimeters","centimetres","degrees","PI","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","radians","yards","areaFactors","acres","hectares","geom","options","feat","_options","lineString","polygon","multiPoint","multiLineString","multiPolygon","Error","isNumber","featureCollection","ring","j","polygons","lineStrings","fc","geometryCollection","round","num","multiplier","pow","radiansToLength","units","factor","lengthToRadians","distance","lengthToDegrees","radiansToDegrees","bearingToAzimuth","bearing","angle","degreesToRadians","convertLength","originalUnit","finalUnit","convertArea","area","startFactor","finalFactor","isNaN","isObject","input","validateBBox","forEach","validateId","coordEach","geojson","excludeWrapCoord","k","l","stopG","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","coordReduce","initialValue","previousValue","currentCoord","propEach","propReduce","currentProperties","featureEach","featureReduce","currentFeature","coordAll","geomEach","featureProperties","featureBBox","featureId","geomReduce","currentGeometry","flattenEach","coordinate","flattenReduce","segmentEach","feature2","segmentIndex","previousCoords","previousFeatureIndex","previousMultiIndex","prevGeomIndex","featureIndexCoord","multiPartIndexCoord","currentSegment","segmentReduce","started","lineEach","lineReduce","currentLine","findSegment","findPoint","difference","geoms","differenced","intersection","altitude","locLow","locLowIsEast","locHigh","lowEvol","highEvol","MIN_ZOOM","MAX_ZOOM","mountainsStyle","bufferedGeometryValue","strokeWidth","fill","color","styles","stroke","iconSize","bulletinsIcon","dangerFill","svg","bulletinsStyle","src","size","mountainsLayer","source","bulletinsLayer","mountainsLayerGroup","bulletinsOverlay","positioning","offset","className","bulletinsOverlayPanOptions","animation","margin","DangerLevel","validUntil","orientations","panIntoView","layerSelector","hover","hoveredStyle","e","onMountainsResult","mountainsFeatures","distances","innerDiff","sortMountainsByMassif","sortedMountains","sort","obj","updateMountainsStyle","getSource","getFeatures","bulletin","onMapClick","layerFilter","loadAndUpdateAvalancheBulletins","onBulletinsResult","bulletinsFeatures","zone","bulletinsGeometry","initialGeometry","bulletinsFeature","updateBulletinsGeometry","intersectFeature","setBulletinsOverlay","updateBulletinsOverlay","activePoint","openOverlay","isDateValid","daysValid","overlay","localisation","background","selector","iconStyle","letter","capitalizedName","dataLayer","showLayer","fetch","setState","onResult","onShowLayer","updateVisibility","IconLayer","colorExpired","date","zIndex","setOverlay","unsetOverlay","dateValid","url1","url2","LAYERS","attributions","onShowWinterRoute","setLegend","AvalancheBulletinsLayer","FlowcaptLayer","NivosesLayer","RommaLayer","WinterRouteLayer","DataAvalancheLayer","normalLineStyle","simplifiedLineStyle","highlightedLineStyle","elevationPointStyle","radius","visibleSimplifiedLayer","validMinimumMapZoom","elevationPointSource","addInteractions","enableInteractions","disableInteractions","onDrawStart","onDrawEnd","onModifyEnd","onKeyWhileDrawing","onFeature","updateFeaturesFromStore","path","getFeaturesLayerFeatures","getSimplifiedFeatures","getSortedFeatures","removeFeatures","addFeaturesFromGpx","getFeaturesTitleFromGpx","addFeaturesFromDocument","addFeature","lines","getFeaturesTitleFromDocument","fitMapToFeatures","hideSimplifiedLayer","showSimplifiedLayer","previewSimplify","simplifiedGeometry","simplifiedFeatures","onElevationProfile","onAreasResult","isAreaOK","onShowAreas","imageExtent","onShowYeti","clearLayers","drawExtent","drawImage","imageLoadFunction","legend","toLinearRing","setLayerClassName","AreaLayer","YetiLayer","showLegend","atLeastOneLegend","items","comment","WinterRouteLayerLegend","YetiLayerLegend","DEFAULT_CENTER","DEFAULT_ZOOM","TRACKING_INITIAL_ZOOM","MapLayers","OverlaysLayers","RouteLayer","YetiLayers","YetiMapLegend","controls","zoomInTipLabel","zoomOutTipLabel","tipLabel","center","zoom","maxZoom","enableRotation","element","trackingOptions","enableHighAccuracy","extent","getMapZoom","setCenterOnGeoLocation","YETI_URL_BASE","YetiArticle","Panel","SubPanelBra","SubPanelCourse","SubPanelLayers","SubPanelMethods","Tabs","ValidationButton","YetiMap","formError","dangerMaxWhenMrd","tabRoute","simple","full","method_bra","ok","yeti","yeti_prefix","yeti_unauthorized","mrdIsNotApplicable","isBraMax","isValidMapZoom","check","setCurrentError","then","catch","extendExtent","onYetiResult","onYetiError","errorText","getYetiUrl","global","factory","module","exports","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","writable","_createClass","protoProps","staticProps","prototype","Node","next","DEFAULT_COMPARE","a","b","splay","comparator","N","r","cmp","insert","node","split","v","merge","printRow","root","prefix","isTail","out","printNode","indent","Tree","_root","_size","_comparator","add","_remove","findStatic","current","find","contains","visitor","ctx","Q","done","range","values","minNode","maxNode","at","successor","prev","predecessor","clear","toList","load","presort","loadRecursive","mergedList","mergeLists","createList","sortedListToBST","head","isEmpty","toString","n","String","update","newKey","newData","start","end","middle","floor","list","l1","l2","pivot","tmp","isInBbox","ll","ur","getBboxOverlap","b1","b2","lowerX","upperX","lowerY","upperY","epsilon","Number","EPSILON","EPSILON_SQ","ab","PtRounder","reset","xRounder","CoordRounder","yRounder","tree","prevNode","nextNode","rounder","crossProduct","dotProduct","compareVectorAngles","basePt","endPt1","endPt2","v1","v2","kross","sqrt","sineOfAngle","pShared","pBase","pAngle","vBase","vAngle","cosineOfAngle","horizontalIntersection","pt","verticalIntersection","pt1","pt2","ve","d1","d2","x2","y1","y2","SweepEvent","isLeft","events","ptCmp","comparePoints","link","Segment","segment","aPt","bPt","other","otherEvents","iMax","checkForConsuming","numEvents","evt1","consumedBy","evt2","otherSE","consume","ringOut","isInResult","baseEvent","_this","cache","Map","fillCache","linkedEvent","nextEvent","sine","cosine","has","_cache$get","asine","acosine","_cache$get2","bsine","bcosine","segmentId","leftSE","rightSE","rings","windings","alx","blx","arx","brx","aly","bly","ary","bry","aCmpBLeft","comparePoint","bCmpARight","bCmpALeft","aCmpBRight","_bCmpARight","_aCmpBRight","ay","ax","by","bx","newRightSE","isAnEndpoint","lPt","rPt","vector","yDist","xFromYDist","xDist","yFromXDist","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","newEvents","alreadyLinked","newLeftSE","oldRightSE","replaceRightSE","newSeg","swapEvents","tmpEvt","consumer","consumee","_tmp","winding","_prevInResult","prevInResult","_beforeState","seg","afterState","multiPolys","_afterState","beforeState","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","_iMax","_ring","poly","isExterior","_index","splice","_i2","_iMax2","mp","multiPoly","_isInResult","mpsBefore","noBefores","noAfters","least","most","numMultiPolys","diff","isJustSubject","mps","isSubject","leftPt","rightPt","cmpPts","RingIn","geomRing","segments","firstPoint","fromRing","sweepEvents","PolyIn","geomPoly","exteriorRing","interiorRings","getSweepEvents","ringSweepEvents","jMax","MultiPolyIn","ex","polys","POSITIVE_INFINITY","NEGATIVE_INFINITY","polySweepEvents","RingOut","allSegments","ringsOut","prevEvent","startingPoint","intersectionLEs","availableLEs","getAvailableLinkedEvents","firstPt","lastPt","indexLE","getLeftmostComparator","intersectionLE","ringEvents","unshift","prevPt","_pt","_nextPt","nextPt","shift","step","isExteriorRing","iStart","iEnd","orderedPoints","_isExteriorRing","enclosing","enclosingRing","_enclosingRing","_calcEnclosingRing","leftMostEvt","prevSeg","prevPrevSeg","PolyOut","getGeom","ringGeom","MultiPolyOut","_composePolys","polyGeom","addInterior","SweepLine","queue","nextSeg","prevMySplitter","prevInter","getIntersection","newEventsFromSplit","_splitSafely","nextMySplitter","nextInter","_newEventsFromSplit","mySplitter","cmpSplitters","_newEventsFromSplit2","inter","_newEventsFromSplit3","_i3","_iMax3","_newEventsFromSplit4","_i4","_iMax4","POLYGON_CLIPPING_MAX_QUEUE_SIZE","process","POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS","Operation","moreGeoms","multipolys","subject","mpA","_j","_jMax","sweepLine","prevQueueSize","_evt","union","_len","_key","run","intersection$1","_len2","_key2","xor","_len3","_key3","subjectGeom","_len4","clippingGeoms","_key4","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","resolve","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","object","WorkerThreads","channel","buffer","$detach","tryNodeRequire","PROPER_STRUCTURED_CLONE_TRANSFER","structuredClone","$ArrayBuffer","ArrayBuffer","$MessageChannel","MessageChannel","detach","transferable","transfer","port1","postMessage","byteLength","error","IndexSizeError","s","m","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","fails","anObject","normalizeStringArgument","nativeErrorToString","INCORRECT_TO_STRING","create","O","record","ITERATOR_INSTEAD_OF_RECORD","iterator","uncurryThis","MapPrototype","proto","SetPrototype","Set","iterateSimple","SetHelpers","interruptible","V8","IS_BROWSER","IS_DENO","IS_NODE","clone","Function","$","getBuiltIn","defineBuiltIn","defineBuiltInAccessor","hasOwn","anInstance","errorToString","DOMExceptionConstants","clearErrorStack","InternalStateModule","IS_PURE","DOM_EXCEPTION","DATA_CLONE_ERR","NativeDOMException","WeakMap","NativeDOMExceptionPrototype","ErrorPrototype","setInternalState","getInternalState","getterFor","HAS_STACK","codeFor","$DOMException","DOMExceptionPrototype","argumentsLength","createGetterDescriptor","INCORRECT_CONSTRUCTOR","INCORRECT_CODE","MISSED_CONSTANTS","FORCED_CONSTRUCTOR","forced","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","inheritIfRequired","that","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","getOwnPropertyDescriptor","BUGGY_DESCRIPTOR","setToStringTag","uid","isCallable","isConstructor","isNullOrUndefined","isSymbol","iterate","classof","createProperty","createNonEnumerableProperty","lengthOfArrayLike","validateArgumentsLength","getRegExpFlags","MapHelpers","setIterate","detachTransferable","ERROR_STACK_INSTALLABLE","Date","PerformanceMark","mapHas","mapGet","mapSet","setAdd","setHas","objectKeys","thisBooleanValue","valueOf","thisNumberValue","thisStringValue","thisTimeValue","getTime","PERFORMANCE_MARK","DATA_CLONE_ERROR","TRANSFERRING","checkBasicSemantic","structuredCloneImplementation","set1","set2","number","checkErrorsCloning","$Error","test","checkNewErrorsCloningSemantic","AggregateError","cause","nativeStructuredClone","FORCED_REPLACEMENT","structuredCloneFromMark","detail","nativeRestrictedStructuredClone","throwUncloneable","throwUnpolyfillable","tryNativeRestrictedStructuredClone","createDataTransfer","dataTransfer","DataTransfer","ClipboardEvent","clipboardData","error2","files","cloneBuffer","$type","DataView","resizable","maxByteLength","setUint8","getUint8","cloneView","C","structuredCloneInternal","cloned","RegExp","byteOffset","DOMQuad","p3","p4","File","ImageData","colorSpace","fromPoint","w","fromRect","fromMatrix","suppressed","tryToTransfer","rawTransfer","transferred","canvas","context","buffers","OffscreenCanvas","getContext","transferFromImageBitmap","transferToImageBitmap","close","detachBuffers","sham"],"sourceRoot":""}