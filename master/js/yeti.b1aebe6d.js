(self["webpackChunkc2c_ui"]=self["webpackChunkc2c_ui"]||[]).push([[159],{82044:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return $t}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"section"},[t("html-header",{attrs:{title:"Yeti"}}),e._v(" "),t("div",{staticClass:"box"},[t("h1",{staticClass:"title is-1"},[t("div",{staticClass:"yeti-icon is-inline-block"},[t("icon-yeti")],1),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("YETI - A preparation tool for your outing")])])]),e._v(" "),t("div",{staticClass:"yeti-app"},[e.showDisclaimer?t("div",{staticClass:"box yeti-overlay"},[t("yeti-article",{staticClass:"yeti-article--disclaimer",attrs:{article:e.articles.disclaimer}}),e._v(" "),t("form",{attrs:{action:"#"},on:{submit:e.onSubmitDisclaimer}},[t("input-checkbox",{directives:[{name:"translate",rawName:"v-translate"}],model:{value:e.checkDisclaimer,callback:function(t){e.checkDisclaimer=t},expression:"checkDisclaimer"}},[e._v("\n          I read and understood the interest and limitations of YETI\n        ")]),e._v(" "),t("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",attrs:{disabled:!e.checkDisclaimer}},[e._v("Launch YETI")])],1)],1):e._e(),e._v(" "),"faq"===e.$route.params.page?t("div",{staticClass:"box yeti-overlay"},[t("p",[t("router-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{to:"."}},[e._v("Go back to YETI")])],1),e._v(" "),t("yeti-article",{staticClass:"yeti-article--disclaimer",attrs:{article:e.articles.disclaimer}}),e._v(" "),t("yeti-article",{attrs:{article:e.articles.faq}})],1):e._e(),e._v(" "),t("div",{staticClass:"columns yeti-content"},[t("div",{staticClass:"column is-6-tablet is-6-desktop is-5-widescreen is-4-fullhd form-container"},[t("div",{staticClass:"columns mb-0 yeti-columns--reverse is-mobile"},[t("ul",{staticClass:"column is-narrow pb-0"},[t("li",[t("router-link",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-block yetitabs-link",attrs:{to:e.$route.fullPath+"/faq"}},[e._v("\n                FAQ?\n              ")])],1)]),e._v(" "),t("tabs",{attrs:{tabs:e.tabs}})],1),e._v(" "),t("div",{staticClass:"box"},[t("panel",{ref:"panel0",staticClass:"is-relative",attrs:{index:0}},[t("validation-button",{staticClass:"is-hidden-mobile yeti-validation--top",attrs:{"current-error":e.currentError,loading:e.promise,tabindex:"-1"},on:{click:e.compute}}),e._v(" "),t("sub-panel-bra"),e._v(" "),t("sub-panel-methods",{on:{"warn-about-method-bra":e.warnAboutMethodBra}}),e._v(" "),t("validation-button",{directives:[{name:"show",rawName:"v-show",value:e.method.type,expression:"method.type"}],staticClass:"yeti-validation--bottom",attrs:{"current-error":e.currentError,loading:e.promise},on:{click:e.compute}})],1),e._v(" "),t("panel",{ref:"panel1",attrs:{index:1}},[t("sub-panel-course")],1)],1),e._v(" "),e._m(0)]),e._v(" "),t("yeti-map",{ref:"map",attrs:{"yeti-data":e.yetiData,"yeti-extent":e.yetiExtent}})],1)])],1)},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"box yeti-logos"},[t("div",{staticClass:"columns is-mobile is-vcentered"},[t("div",{staticClass:"column has-text-centered"},[t("a",{attrs:{href:"http://www.ensg.eu"}},[t("picture",[t("source",{attrs:{srcset:i(16448),type:"image/webp"}}),e._v(" "),t("source",{attrs:{srcset:i(86236),type:"image/avif"}}),e._v(" "),t("img",{attrs:{src:i(61070),alt:"Logo ENSG",width:"120",loading:"lazy"}})])])]),e._v(" "),t("div",{staticClass:"column has-text-centered"},[t("a",{attrs:{href:"https://www.petzl.com/fondation/fondation-petzl?language=fr"}},[t("picture",[t("source",{attrs:{srcset:i(99576),type:"image/webp"}}),e._v(" "),t("source",{attrs:{srcset:i(7085),type:"image/avif"}}),e._v(" "),t("img",{attrs:{src:i(32102),alt:"Logo Fondation Petzl",width:"90",loading:"lazy"}})])])])])])}],n=(i(33948),i(9669)),s=i.n(n),o=(i(41817),function(){var e=this,t=e._self._c;return e.document?t("div",{staticClass:"yeti-article"},[t("sub-panel-title",[e._v(e._s(e.title))]),e._v(" "),t("markdown-section",{attrs:{document:e.document,field:e.fields.description,"hide-title":""}})],1):e._e()}),l=[],u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns is-mobile"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"title is-3"},[e._t("default")],2)])])},h=[],c=i(1001),v={},d=(0,c.Z)(v,u,h,!1,null,"43c30758",null),m=d.exports,p=i(74577),f=i(73467),g=i(68884),y={components:{SubPanelTitle:m,MarkdownSection:g.Z},props:{article:{type:Object,required:!0}},data(){return{promise:null}},computed:{id(){return this.article.id},title(){return this.article.title},document(){var e,t;return null!==(e=null===(t=this.promise)||void 0===t?void 0:t.data)&&void 0!==e?e:null},fields(){return f.Z.objectDefinitions.article.fields},lang(){return this.$language.current}},watch:{lang(){this.cookDocument()}},mounted(){this.cookDocument()},methods:{cookDocument(){p.Z.article.getCooked(this.id,this.$language.current).then((e=>{this.promise=e}))}}},w=y,x=(0,c.Z)(w,o,l,!1,null,"6c55e92e",null),b=x.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"yeti-panel",attrs:{role:"tabpanel",id:"panel"+e.index,"aria-labelledby":"tab"+e.index,hidden:e.activeTab!==e.index}},[e._t("default")],2)},A=[],S=(i(38862),i(20144));let k={API_URL:"https://api.ensg.eu/",DANGER_MAX_WHEN_MRD:3,VALID_MINIMUM_MAP_ZOOM:13,activeTab:0,bra:{high:null,low:null,altiThreshold:null,isDifferent:!1},method:{type:null,orientation:[],potentialDanger:null,wetSnow:!1,groupSize:1},areas:[],areaOk:!0,showAreas:!1,features:[],featuresTitle:"New route",featuresLength:0,mountains:{all:[],visible:[]},bulletinsLoaded:!1,showAvalancheBulletins:!1,mapZoom:0,drawingMode:!1,validSimplifyTolerance:!1},E=S["default"].observable(JSON.parse(JSON.stringify(k)));var L,C,P=new S["default"]({computed:{DANGER_MAX_WHEN_MRD(){return E.DANGER_MAX_WHEN_MRD},VALID_MINIMUM_MAP_ZOOM(){return E.VALID_MINIMUM_MAP_ZOOM},activeTab(){return E.activeTab},bra(){return E.bra},method(){return E.method},areas(){return E.areas},areaOk(){return E.areaOk},showAreas(){return E.showAreas},features(){return E.features},hasFeatures(){return!!E.features.length},featuresTitle(){return E.featuresTitle},featuresLength(){return E.featuresLength},mountains(){return E.mountains},bulletinsLoaded(){return E.bulletinsLoaded},showAvalancheBulletins(){return E.showAvalancheBulletins},mapZoom(){return E.mapZoom},drawingMode(){return E.drawingMode},validSimplifyTolerance(){return E.validSimplifyTolerance}},methods:{setActiveTab(e){E.activeTab=e},setBra(e,t){E.bra[e]=t},setMethod(e,t){E.method[e]=t},setAreas(e){E.areas=e},setAreaOk(e){E.areaOk=e},setShowAreas(e){E.showAreas=e},setFeatures(e){E.features=e},setFeaturesTitle(e){E.featuresTitle=e},setFeaturesLength(e){E.featuresLength=e},setAllMountains(e){E.mountains.all=e},setVisibleMountains(e){E.mountains.visible=e},setShowAvalancheBulletins(e){E.showAvalancheBulletins=e},setBulletinsLoaded(e){E.bulletinsLoaded=e},setMapZoom(e){E.mapZoom=e},setDrawingMode(e){E.drawingMode=e},setValidSimplifyTolerance(e){E.validSimplifyTolerance=e,e?E.drawingMode&&(E.tmpDrawingMode=!0,this.setDrawingMode(!1)):E.tmpDrawingMode&&(this.setDrawingMode(!0),delete E.tmpDrawingMode)},setDefault(){for(let e in E)if("object"!==typeof E[e]||Array.isArray(E[e]))E[e]=k[e];else for(let t in E[e])E[e][t]=k[e][t]},fetchApi(e){return s().get(E.API_URL+e)},fetchAreas(){return this.fetchApi("yeti-extent")},fetchMountains(){return this.fetchApi("zonesbra")},fetchBulletins(){return this.fetchApi("bra")}}}),M=P,F=(0,c.Z)(M,L,C,!1,null,null,null),Z=F.exports,D={props:{index:{type:Number,required:!0}},computed:{activeTab(){return Z.activeTab}}},N=D,I=(0,c.Z)(N,_,A,!1,null,"463f63b6",null),T=I.exports,B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"yeti-subpanel"},[t("sub-panel-title",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger level")])]),e._v(" "),t("div",{staticClass:"columns is-mobile"},[t("div",{staticClass:"column"},[t("div",{staticClass:"inputs-bra",class:{"inputs-bra-different":e.bra.isDifferent}},[t("svg",{attrs:{viewBox:"0 0 100 100",width:"120",height:"120"}},[t("polygon",{staticStyle:{fill:"none",stroke:"#000","stroke-miterlimit":"10"},attrs:{points:"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 "}}),e._v(" "),t("line",{directives:[{name:"show",rawName:"v-show",value:e.bra.isDifferent,expression:"bra.isDifferent"}],staticStyle:{fill:"none",stroke:"#000","stroke-miterlimit":"10"},attrs:{x1:"10",y1:"61.5",x2:"90",y2:"61.5"}})]),e._v(" "),t("div",{staticClass:"input-bra-high select is-small"},[t("select",{attrs:{id:"selectBra","aria-label":e.$gettext("High danger level from the avalanche bulletin")},domProps:{value:e.bra.high},on:{change:function(t){return e.onChange(t,"high")}}},[t("option",{attrs:{selected:""},domProps:{value:null}}),e._v(" "),t("option",{domProps:{value:1}},[e._v("1")]),e._v(" "),t("option",{domProps:{value:2}},[e._v("2")]),e._v(" "),t("option",{domProps:{value:3}},[e._v("3")]),e._v(" "),t("option",{domProps:{value:4}},[e._v("4")])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.bra.isDifferent,expression:"bra.isDifferent"}],staticClass:"input-bra-threshold control"},[t("label",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{for:"inputThreshold"}},[e._v("Altitude")]),e._v(" "),t("input",{staticClass:"input is-small",attrs:{id:"inputThreshold",type:"number",min:"0",max:"4800",step:"100",maxlength:"4"},domProps:{value:e.bra.altiThreshold},on:{change:function(t){return e.onChange(t,"altiThreshold")}}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.bra.isDifferent,expression:"bra.isDifferent"}],staticClass:"input-bra-low select is-small"},[t("select",{attrs:{"aria-label":"$gettext('Low danger level from the avalanche bulletin')"},domProps:{value:e.bra.low},on:{change:function(t){return e.onChange(t,"low")}}},[t("option",{attrs:{selected:""},domProps:{value:null}}),e._v(" "),t("option",{domProps:{value:1}},[e._v("1")]),e._v(" "),t("option",{domProps:{value:2}},[e._v("2")]),e._v(" "),t("option",{domProps:{value:3}},[e._v("3")]),e._v(" "),t("option",{domProps:{value:4}},[e._v("4")])])])]),e._v(" "),t("div",[t("input-checkbox",{staticClass:"control--bradifferent",attrs:{value:e.bra.isDifferent},on:{input:function(t){return e.onChange(t,"isDifferent")}}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Different high/low danger?")])])],1)])]),e._v(" "),t("dropdown-content",{scopedSlots:e._u([{key:"content",fn:function(){return[e.showVisibleMountains?t("div",[t("div",{staticClass:"mb-2"},[t("input-checkbox",{attrs:{value:e.showAvalancheBulletins},on:{input:e.onShowAvalancheBulletins}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Visible on map")])])],1),e._v(" "),t("dl",e._l(e.visibleMountains,(function(i,r){return t("div",{key:r},[t("dt",[e._v("\n              "+e._s(r)+"\n            ")]),e._v(" "),t("div",{staticClass:"yetimountains-list px-4 py-3"},e._l(i,(function(i){return t("dd",{key:i.name},[t("a",{attrs:{href:i.urls[0].url,target:"_blank"}},[t("fa-icon",{attrs:{icon:"external-link-alt"}}),e._v("\n                  "+e._s(i.name)+"\n                ")],1)])})),0)])})),0)]):t("div",[t("info",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"column"},[e._v("Massifs could not be loaded")])],1)]},proxy:!0}])},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Avalanche bulletins")]),e._v(" "),e.showVisibleMountains?t("counter",[e._v(e._s(e.countVisibleMountains))]):e._e(),e._v(" "),e.showAvalancheBulletins?t("fa-icon",{staticClass:"has-text-primary",attrs:{icon:"check-circle",title:e.$gettext("Visible on map")}}):e._e()],1)],1)},O=[],R=(i(85827),function(){var e=this,t=e._self._c;return t("span",{staticClass:"yeti-counter",class:{"has-background-primary":e.isPrimary}},[e._t("default")],2)}),G=[],V={props:{isPrimary:{type:Boolean,default:!1}}},z=V,Y=(0,c.Z)(z,R,G,!1,null,"2cdf4d2c",null),U=Y.exports,W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown-content"},[t("div",[t("h3",{staticClass:"dropdown-content-title",class:{"is-open":e.opened},on:{click:e.switchOpen}},[e._t("default"),e._v(" "),t("fa-icon",{staticClass:"dropdown-content-arrow is-size-6 is-pulled-right has-cursor-pointer no-print",attrs:{icon:"angle-down",rotation:e.opened?180:void 0}})],2)]),e._v(" "),e.opened?t("div",{staticClass:"p-3"},[e._t("content")],2):e._e()])},Q=[],J={data(){return{opened:!1}},methods:{switchOpen(){this.opened=!this.opened}}},j=J,H=(0,c.Z)(j,W,Q,!1,null,"6d88c66c",null),q=H.exports,X=function(){var e=this,t=e._self._c;return t("div",{staticClass:"info-text mt-3 mb-3 px-3",class:"is-"+e.type},[t("fa-icon",{staticClass:"info-icon mt-1 ml-1",attrs:{icon:e.icon}}),e._v(" "),t("div",{staticClass:"info-content"},[e._t("default")],2)],1)},K=[],$={props:{type:{type:String,default:"info"}},data(){return{icons:{info:"info-circle",warning:"exclamation-circle",help:"question-circle"}}},computed:{icon(){return this.icons[this.type]}}},ee=$,te=(0,c.Z)(ee,X,K,!1,null,"213fc47c",null),ie=te.exports,re={components:{Counter:U,DropdownContent:q,Info:ie,SubPanelTitle:m},data(){return{showMountainsList:!1}},computed:{bra(){return Z.bra},visibleMountains(){return Z.mountains.visible},showAvalancheBulletins(){return Z.showAvalancheBulletins},showVisibleMountains(){return this.countVisibleMountains>=0},countVisibleMountains(){return this.visibleMountains?Object.values(this.visibleMountains).reduce(((e,t)=>e+t.length),0):-1}},watch:{"bra.isDifferent":"checkBraIsDifferent"},methods:{onChange(e,t){const i="isDifferent"===t?e:e.target.value;Z.setBra(t,i)},checkBraIsDifferent(){this.bra.isDifferent||(Z.setBra("low",null),Z.setBra("altiThreshold",null))},onShowAvalancheBulletins(e){Z.setShowAvalancheBulletins(e)}}},ae=re,ne=(0,c.Z)(ae,B,O,!1,null,"7b4246c9",null),se=ne.exports,oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"yeti-subpanel"},[t("sub-panel-title",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Route")])]),e._v(" "),e.features.length?t("div",[t("div",{staticClass:"columns is-mobile"},[t("div",{staticClass:"column"},[t("p",{staticClass:"features-title"},[t("icon-route",{staticClass:"icon document-icon"}),e._v(" "),t("fa-icon",{staticClass:"icon edit-icon",attrs:{icon:"pen"}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.hasFeaturesTitle,expression:"!hasFeaturesTitle"},{name:"translate",rawName:"v-translate"}],staticClass:"features-title-text features-title-placeholder",on:{click:e.onEditNewFeaturesTitle}},[e._v("\n            Add title…\n          ")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.hasFeaturesTitle,expression:"hasFeaturesTitle"}],ref:"featuresTitle",staticClass:"features-title-text features-title-content",attrs:{tabindex:"0",contenteditable:"",spellcheck:"false"},on:{blur:e.onEditFeaturesTitle,keypress:function(e){if(!e.type.indexOf("key")&&13!==e.keyCode)return null;e.preventDefault()}}},[e._v(e._s(e.featuresTitle))])],1)]),e._v(" "),t("div",{staticClass:"column is-narrow"},[t("button",{staticClass:"button is-secondary is-small",on:{click:e.onRemoveFeatures}},[t("fa-icon",{staticClass:"trash-icon",attrs:{icon:"trash"}}),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Delete route")])],1)])]),e._v(" "),t("div",{staticClass:"ml-5 mb-5"},[t("p",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-size-7 is-italic mb-1 has-text-grey"},[e._v("Lines chunks")]),e._v(" "),t("features-list",{attrs:{features:e.features}})],1),e._v(" "),t("simplify-tool",{ref:"simplifyTool"}),e._v(" "),t("info",{attrs:{type:"help"}},[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Drawing tips")]),e._v(" "),t("ul",{staticClass:"content-ul"},[t("li",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{"translate-context":"yeti"}},[e._v("Draw")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("new lines chunks")])]),e._v(" "),t("li",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{"translate-context":"yeti"}},[e._v("Delete")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("last point with the Backspace key")])])]),e._v(" "),t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("On a drawn line")]),e._v(" "),t("ul",{staticClass:"content-ul"},[t("li",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{"translate-context":"yeti"}},[e._v("Edit")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("points by moving them")])]),e._v(" "),t("li",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{"translate-context":"yeti"}},[e._v("Create")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("a new point on an existing line")])]),e._v(" "),t("li",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Delete a point")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("with Alt + clic")])])]),e._v(" "),t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("From the interface")]),e._v(" "),t("ul",{staticClass:"content-ul"},[t("li",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Delete a line chunk")])]),e._v(" "),t("li",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Delete route")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("to start or load a new one")])])])]),e._v(" "),t("sub-panel-title",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Export")])]),e._v(" "),t("div",{staticClass:"columns is-vcentered is-mobile"},[t("div",{staticClass:"column"},[t("ul",{staticClass:"form-export"},e._l(e.formats,(function(i){return t("li",{key:i,staticClass:"control is-flex"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.format,expression:"format"}],staticClass:"is-checkradio is-primary",attrs:{id:"format"+i,type:"radio",name:"exportFormat"},domProps:{value:i,checked:e._q(e.format,i)},on:{change:function(t){e.format=i}}}),e._v(" "),t("label",{attrs:{for:"format"+i}},[e._v(e._s(i))])])})),0)]),e._v(" "),t("div",{staticClass:"column is-narrow"},[t("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-disabled":e.validSimplifyTolerance},on:{click:e.downloadCourse}},[e._v("\n          Export route\n        ")])])])],1):t("div",[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("No route right now")]),e._v(" "),t("div",{staticClass:"load-gpx"},[t("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-loading":e.loading},attrs:{disabled:e.loading},on:{click:e.onLoadGpx}},[e._v("\n        Upload a GPS track\n      ")]),e._v(" "),t("div",{staticClass:"control upload-button"},[t("input",{ref:"gpxFileInput",attrs:{type:"file",accept:".gpx"},on:{change:e.uploadGpx}})]),e._v(" "),t("info",{staticClass:"mt-5",attrs:{type:"help"}},[t("p",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("To draw (and edit) directly on the map")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("you need to activate drawing mode")])])])],1)])],1)},le=[],ue=i(32912),he=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"featureslist"},e._l(e.features,(function(i,r){return t("li",{key:r,staticClass:"featureslist-item tag",on:{mouseenter:function(t){return e.showFeature(i)},mouseleave:function(t){return e.hideFeature(i)}}},[t("span",[e._v(e._s(e.nbPointsOnFeature(i))+" points")]),e._v(" "),t("button",{staticClass:"delete is-small",on:{click:function(t){return e.removeFeature(i)}}},[e._v("x")])])})),0)},ce=[],ve={props:{features:{type:Array,required:!0}},methods:{removeFeature(e){Z.$emit("removeFeature",e)},showFeature(e){e.setStyle(e.get("highlightedStyle"))},hideFeature(e){e.setStyle(e.get("normalStyle"))},nbPointsOnFeature(e){return e.getGeometry().getCoordinates().length}}},de=ve,me=(0,c.Z)(de,he,ce,!1,null,"77f7ceed",null),pe=me.exports,fe=function(){var e=this,t=e._self._c;return t("dropdown-content",{staticClass:"mb-5",scopedSlots:e._u([{key:"content",fn:function(){return[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Select tolerance (preview result on map)")]),e._v(" "),t("div",{staticClass:"is-flex is-justify-content-center is-flex-wrap-wrap mt-3 mb-4"},e._l(e.tolerances,(function(i,r){return t("div",{key:i,staticClass:"mb-2 is-flex-grow-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.toleranceDistance,expression:"toleranceDistance"}],staticClass:"is-checkradio is-primary",attrs:{id:"tolerance"+r,type:"radio",name:"tolerances"},domProps:{value:i,checked:e._q(e.toleranceDistance,i)},on:{change:[function(t){e.toleranceDistance=i},e.onPreviewSimplify]}}),e._v(" "),t("label",{staticClass:"mr-0",attrs:{for:"tolerance"+r}},[e._v(e._s(e.tolerancesText[r]))])])})),0),e._v(" "),t("div",{staticClass:"is-flex is-justify-content-flex-end is-align-items-center"},[t("div",[t("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button",attrs:{disabled:!e.validToleranceDistance},on:{click:e.initialize}},[e._v("Cancel")]),e._v(" "),t("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",attrs:{disabled:!e.validToleranceDistance},on:{click:e.onSimplify}},[e._v("\n          Simplify\n        ")])])]),e._v(" "),t("info",[e._v("\n      "+e._s(e.featuresLength)+" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("points")]),e._v(" "),e.validToleranceDistance?t("strong",[e._v("\n        ("),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("after:")]),e._v(" "+e._s(e.featuresSimplifiedLength)+" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("points")]),e._v(")\n      ")]):e._e()]),e._v(" "),e.validToleranceDistance?t("info",{attrs:{type:"warning"}},[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Be careful,")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n        this is a preview. Geometry is not simplified yet. Map interactions and export are disabled.\n      ")])]):e._e(),e._v(" "),t("info",{staticClass:"mt-5",attrs:{type:"help"}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Create a simplified version of the geometry by reducing the amount of points")])])]},proxy:!0}])},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Simplify")]),e._v(" "),e.validToleranceDistance?t("fa-icon",{staticClass:"has-text-danger ml-1",attrs:{icon:"exclamation-circle",title:e.$gettext("Not simplified yet")}}):e._e()],1)},ge=[],ye={components:{DropdownContent:q,Info:ie},data(){return{tolerances:[0,25,50,100,200],tolerancesText:[this.$gettext("No"),"25m","50m","100m","200m"],toleranceDistance:0}},computed:{features(){return Z.features},featuresLength(){return Z.featuresLength},featuresSimplifiedLength(){return this.features.map((e=>e.getGeometry().getCoordinates().length)).reduce(((e,t)=>e+t))},validToleranceDistance(){return 0!==this.toleranceDistance}},watch:{toleranceDistance(){this.validToleranceDistance?Z.setValidSimplifyTolerance(!0):Z.setValidSimplifyTolerance(!1)}},destroyed(){Z.setValidSimplifyTolerance(!1)},methods:{onPreviewSimplify(){Z.$emit("previewSimplify",this.toleranceDistance)},onSimplify(){Z.$emit("simplify"),this.initialize()},initialize(){this.toleranceDistance=0,this.onPreviewSimplify()}}},we=ye,xe=(0,c.Z)(we,fe,ge,!1,null,null,null),be=xe.exports,_e=i(62869),Ae=i(38854),Se={components:{FeaturesList:pe,Info:ie,SimplifyTool:be,SubPanelTitle:m},data(){return{newFeaturesTitle:!1,loading:!1,formats:["GPX","KML"],format:"GPX"}},computed:{features(){return Z.features},featuresTitle(){return Z.featuresTitle},validSimplifyTolerance(){return Z.validSimplifyTolerance},hasFeaturesTitle(){return!(!this.featuresTitle.length&&!this.newFeaturesTitle)}},methods:{onEditFeaturesTitle(e){e.target.innerText.length||(this.newFeaturesTitle=!1),Z.setFeaturesTitle(e.target.innerText)},onEditNewFeaturesTitle(){this.newFeaturesTitle=!0,this.$nextTick((()=>{this.$refs.featuresTitle.focus()}))},onLoadGpx(){this.$refs.gpxFileInput.click()},onRemoveFeatures(){confirm(this.$gettext("Confirm delete"))&&(Z.$emit("removeFeatures"),this.$refs.simplifyTool.initialize())},uploadGpx(e){this.loading=!0;const t=new FileReader;t.onload=()=>{this.loading=!1,Z.$emit("gpx",t.result)},t.readAsText(e.target.files[0]),this.$refs.gpxFileInput.value="",Z.$emit("gpx",null)},downloadCourse(){if(this.validSimplifyTolerance)return window.alert("Export is disabled. You must confirm simplified geometry first.");"GPX"===this.format?this.downloadFeatures(new _e.Z.format.GPX,".gpx","application/gpx+xml"):"KML"===this.format&&this.downloadFeatures(new _e.Z.format.KML,".kml","application/vnd.google-earth.kml+xml")},downloadFeatures(e,t,i){const r=this.features;r[0].set("name",this.featuresTitle);const a=this.setFilename(t),n=e.writeFeatures(r,{featureProjection:"EPSG:3857"});Ae.Z.download(n,a,i+";charset=utf-8")},setFilename(e){return(0,ue.Z)(new Date,"yyyy-MM-dd_HH-mm-ss")+e}}},ke=Se,Ee=(0,c.Z)(ke,oe,le,!1,null,"3739719b",null),Le=Ee.exports,Ce=function(){var e=this,t=e._self._c;return t("div",{staticClass:"yeti-subpanel"},[t("sub-panel-title",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Methods")])]),e._v(" "),t("div",{staticClass:"columns is-mobile yetitabs"},e._l(Object.keys(e.methods),(function(i){return t("div",{key:i,staticClass:"column yetitab"},[t("div",{staticClass:"control yetitab-control",class:{"yetitab-control--selected":e.method.type===i}},[t("input",{staticClass:"is-checkradio is-primary",attrs:{id:"c2c-method-"+i,type:"radio",name:"method",disabled:"mrd"===i&&(4==e.bra.high||4==e.bra.low)},domProps:{value:i,checked:i===e.method.type},on:{change:function(t){return e.onChange(t,"type")}}}),e._v(" "),t("label",{staticClass:"yetitab-label",attrs:{for:"c2c-method-"+i},on:{click:function(t){return e.warnAboutMethodBra(i)}}},[e._v("\n          "+e._s(e.methods[i][0])+"\n          "),t("span",{staticClass:"is-size-7",class:{"has-text-grey":i!==e.method.type}},[e._v(e._s(e.methods[i][1]))])])])])})),0),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"mrd"==e.method.type,expression:"method.type == 'mrd'"}]},[t("p",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("With the")]),e._v(" "),t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Beginner Reduction Method")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n        (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\n      ")])]),e._v(" "),t("info",{attrs:{type:"help"}},[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n        As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\n        important. No parameter other than the danger level is specified. Orientation is ignored.\n      ")])]),e._v(" "),t("table",{staticClass:"yetiform-danger"},[t("tr",[e._m(0),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - low")])]),e._v(" "),t("td",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I must not use slopes > 40°")])]),e._v(" "),t("tr",[e._m(1),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - moderate")])]),e._v(" "),t("td",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I must not use slopes > 35°")])]),e._v(" "),t("tr",{staticClass:"multiline"},[e._m(2),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - considerable")])]),e._v(" "),t("td",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I must not use slopes > 30°")]),e._v(" "),t("br"),e._v(" "),t("small",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("including dominant slopes")])])]),e._v(" "),t("tr",[e._m(3),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - high to very high")])]),e._v(" "),t("td",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I choose to cancel the outing")])])])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"mre"==e.method.type,expression:"method.type == 'mre'"}]},[t("p",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("With the")]),e._v(" "),t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Elementary Reduction Method")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n        (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\n      ")])]),e._v(" "),t("input-orientation",{staticClass:"has-text-centered mb-2",attrs:{value:e.method.orientation},on:{input:function(t){return e.onChange(t,"orientation")}}}),e._v(" "),0!=e.method.orientation.length?t("info",[t("span",{directives:[{name:"translate",rawName:"v-translate"}],key:"tr1"},[e._v("Orientations")]),e._v(": "+e._s(e.method.orientation.join(", "))+"\n    ")]):t("info",{attrs:{type:"warning"}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}],key:"tr2"},[e._v("No orientation selected")])]),e._v(" "),t("info",{attrs:{type:"help"}},[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n        Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\n        critical sectors presenting an increased risk.\n      ")])]),e._v(" "),t("table",{staticClass:"yetiform-danger"},[t("tr",{staticClass:"multiline"},[e._m(4),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - low")])]),e._v(" "),t("td",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Stay careful while skiing")]),e._v(" "),t("br"),e._v(" "),t("small",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("risk of a rough fall on hard snow")])])]),e._v(" "),t("tr",[e._m(5),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - moderate")])]),e._v(" "),t("td",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I must not use slopes > 40°")])]),e._v(" "),t("tr",{staticClass:"multiline"},[e._m(6),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - considerable")])]),e._v(" "),t("td",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I must not use slopes > 35°")]),e._v(" "),t("br"),e._v(" "),t("small",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("including dominant slopes")])])]),e._v(" "),t("tr",{staticClass:"multiline"},[e._m(7),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - high")])]),e._v(" "),t("td",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I must not use slopes > 30°")]),e._v(" "),t("br"),e._v(" "),t("small",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("including dominant slopes")])])]),e._v(" "),t("tr",[e._m(8),e._v(" "),t("td",[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger rating - very high")])]),e._v(" "),t("td",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("I choose to cancel the outing")])])])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"mrp"==e.method.type,expression:"method.type == 'mrp'"}]},[t("p",[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("With the")]),e._v(" "),t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Professional Reduction Method")]),e._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n        (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\n      ")])]),e._v(" "),t("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3"},[e._v("Hazard potential")]),e._v(" "),t("ul",{staticClass:"potential-danger-labels has-text-black"},e._l(e.potentialDangerLabels,(function(i){return t("li",{key:i.text,staticClass:"potential-danger-label is-size-5",attrs:{disabled:!e.bra.high||i.text<e.potentialDangerOptions.min||i.text>e.potentialDangerOptions.max,selected:e.method.potentialDanger==i.text},on:{click:function(t){return e.onChange(i.text,"potentialDanger")}}},[t("span",{class:{"is-size-3 has-text-weight-bold":i.val}},[e._v("\n          "+e._s(i.text)+"\n        ")])])})),0),e._v(" "),e.method.potentialDanger?t("info",[t("span",{directives:[{name:"translate",rawName:"v-translate"}],key:"tr1"},[e._v("Hazard potential:")]),e._v("\n      "+e._s(e.method.potentialDanger)+"\n      ("),t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger level:")]),e._v(" "+e._s(e.bra.high)+")\n    ")]):t("info",{attrs:{type:"warning"}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}],key:"tr2"},[e._v("No selected hazard potential. Set danger level first.")])]),e._v(" "),t("info",{attrs:{type:"help"}},[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n        The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\n        selecting a potential within the danger level’s corresponding range. For example: the avalanche bulletin\n        evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\n      ")])]),e._v(" "),t("p",[t("input-checkbox",{attrs:{value:e.method.wetSnow},on:{input:function(t){return e.onChange(t,"wetSnow")}}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Wet snow: orientation not taken into account")])])],1),e._v(" "),t("info",{attrs:{type:"help"}},[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.")])]),e._v(" "),t("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3"},[e._v("Group")]),e._v(" "),t("ul",e._l(e.groupSizes,(function(i,r){return t("li",{key:r,staticClass:"control"},[t("input",{staticClass:"is-checkradio is-primary",attrs:{id:"c2c-group-size-"+r,type:"radio",name:"groupSize"},domProps:{value:i.value,checked:i.value===e.method.groupSize},on:{change:function(t){return e.onChange(t,"groupSize")}}}),e._v(" "),t("label",{attrs:{for:"c2c-group-size-"+r}},[e._v(e._s(i.text))])])})),0),e._v(" "),t("info",{attrs:{type:"help"}},[t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Group size")]),e._v(" "),t("ul",{staticClass:"content-ul"},[t("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Large group = 5 people and more")]),e._v(" "),t("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Small group = 2 to 4 people")])]),e._v(" "),t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Load shedding distance")]),e._v(" "),t("ul",{staticClass:"content-ul"},[t("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("10 meters minimum while ascending")]),e._v(" "),t("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("50 meters while descending")])])]),e._v(" "),t("p",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n      The “slope traveled frequently” factor is not taken into account by the application, as it is often difficult to\n      ascertain when preparing for an outing.\n    ")])],1)],1)},Pe=[function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level1",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level2",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level3",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level4",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level1",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level2",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level3",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level4",loading:"lazy"}})])},function(){var e=this,t=e._self._c;return t("td",[t("img",{attrs:{src:i(65857)+"#level4",loading:"lazy"}})])}];const Me={min:1,max:16,bra:[{min:1,max:2,val:2},{min:3,max:6,val:4},{min:6,max:12,val:8},{min:13,max:16,val:16}]};var Fe={components:{Info:ie,SubPanelTitle:m},data(){return{methods:{mrd:["MRD",this.$gettext("Beginner")],mre:["MRE",this.$gettext("Elementary")],mrp:["MRP",this.$gettext("Expert")]},groupSizes:[{value:1,text:this.$gettext("No reduction factor")},{value:2.1,text:this.$gettext("Large group with load shedding distance")},{value:2.2,text:this.$gettext("Small group without distance")},{value:3,text:this.$gettext("Small group with load shedding distance")}]}},computed:{bra(){return Z.bra},method(){return Z.method},potentialDangerLabels(){const e=[];for(let t=Me.min;t<=Me.max;t++){const i={text:t};2!==t&&4!==t&&8!==t&&16!==t||(i.val=t),e.push(i)}return e},potentialDangerOptions(){return this.bra.high?Me.bra[this.bra.high-1]:{val:void 0,min:1,max:16}}},watch:{"bra.high":"onBraChange"},methods:{onChange(e,t){let i=null;i="orientation"===t||"wetSnow"===t||"potentialDanger"===t?e:e.target.value,Z.setMethod(t,i)},warnAboutMethodBra(e){this.$emit("warn-about-method-bra",e)},onBraChange(){this.onChange(this.potentialDangerOptions.val,"potentialDanger")}}},Ze=Fe,De=(0,c.Z)(Ze,Ce,Pe,!1,null,"4ec168e5",null),Ne=De.exports,Ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"column pb-0 mb-0 tabs is-boxed yetitabs"},[t("ul",{attrs:{role:"tablist"}},e._l(e.tabs,(function(i,r){return t("li",{key:i,class:{"is-active":e.activeTab===r},attrs:{role:"presentation"}},[t("a",{ref:"tab",refInFor:!0,staticClass:"yetitabs-link",attrs:{role:"tab",href:"#panel"+r,id:"tab"+r,"aria-selected":e.activeTab===r,tabindex:e.activeTab!==r&&-1},on:{click:function(t){return t.preventDefault(),e.setActiveTab(r)},keydown:function(t){return e.setActiveTabKeyboard(t,r)}}},[e._v("\n        "+e._s(i)+"\n        "),1===r&&e.hasFeatures&&!e.validSimplifyTolerance?t("fa-icon",{staticClass:"ml-1",attrs:{icon:"check-circle"}}):e._e(),e._v(" "),1===r&&e.validSimplifyTolerance?t("fa-icon",{staticClass:"has-text-danger ml-1",attrs:{icon:"exclamation-circle",title:e.$gettext("Not simplified yet")}}):e._e()],1)])})),0)])},Te=[],Be={props:{tabs:{type:Array,required:!0}},computed:{activeTab(){return Z.activeTab},hasFeatures(){return Z.hasFeatures},validSimplifyTolerance(){return Z.validSimplifyTolerance}},methods:{setActiveTab(e){this.$refs.tab[e].focus(),Z.setActiveTab(e)},setActiveTabKeyboard(e,t){const i=37,r=39,a=40;let n=e.which===i?t-1:e.which===r?t+1:e.which===a?"down":null;null!==n&&(e.preventDefault(),"down"===n?this.$parent.$refs["panel"+t].$el.focus():this.tabs[n]&&this.setActiveTab(n))}}},Oe=Be,Re=(0,c.Z)(Oe,Ie,Te,!1,null,"64dc426c",null),Ge=Re.exports,Ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column has-text-right"},[t("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-loading":e.loading},attrs:{disabled:e.loading,tabindex:e.tabindex},on:{click:function(t){return e.$emit("click")}}},[e._v("\n      Compute risk\n    ")]),e._v(" "),e.currentError?t("p",{staticClass:"yetiform-error"},[t("span",[e._v("\n        "+e._s(e.currentError)+"\n      ")])]):e._e()])])},ze=[],Ye={props:{currentError:{type:String,default:""},loading:{type:[Promise,Object],default:null},tabindex:{type:String,default:"0"}}},Ue=Ye,We=(0,c.Z)(Ue,Ve,ze,!1,null,"ad96ba08",null),Qe=We.exports,Je=function(){var e=this,t=e._self._c;return t("div",{staticClass:"column map-container"},[t("div",{staticStyle:{width:"100%",height:"100%"}},[t("div",{ref:"map",staticStyle:{width:"100%",height:"100%"}}),e._v(" "),t("area-layer"),e._v(" "),t("avalanche-bulletins-layer"),e._v(" "),t("yeti-layer",{attrs:{data:e.yetiData,extent:e.yetiExtent}}),e._v(" "),t("route-layer"),e._v(" "),t("div",{ref:"layerSwitcherButton",staticClass:"ol-control ol-control-layer-switcher-button",attrs:{title:e.$gettext("Layers","Map controls")}},[t("button",{on:{click:function(t){t.stopPropagation(),e.showLayerSwitcher=!e.showLayerSwitcher}}},[t("fa-layers",[t("fa-icon",{attrs:{icon:"layer-group"}}),e._v(" "),e.atLeastOneYetiLayerIsShown?t("fa-icon",{attrs:{icon:"circle",transform:"shrink-2 up-10 right-10"}}):e._e(),e._v(" "),e.atLeastOneYetiLayerIsShown?t("fa-icon",{staticClass:"icon-notification",attrs:{icon:"check-circle",inverse:"",transform:"shrink-2 up-10 right-10"}}):e._e()],1)],1)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showLayerSwitcher,expression:"showLayerSwitcher"}],ref:"layerSwitcher",staticClass:"ol-control ol-control-layer-switcher",on:{click:function(e){e.stopPropagation()}}},[t("div",[t("header",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Base layer")]),e._v(" "),e._l(e.cartoLayers,(function(i,r){return t("div",{key:i.get("title"),staticClass:"map-control-listitem"},[t("input",{attrs:{id:"carto-checkbox"+r,type:"radio"},domProps:{checked:i==e.visibleCartoLayer},on:{change:function(t){e.visibleCartoLayer=i}}}),e._v(" "),t("label",{attrs:{for:"carto-checkbox"+r}},[e._v(e._s(e.$gettext(i.get("title"),"Map layer")))])])}))],2),e._v(" "),t("div",[t("header",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Slopes")]),e._v(" "),e._l(e.dataLayers,(function(i,r){return t("div",{key:i.get("title"),staticClass:"map-control-listitem"},[t("input",{attrs:{id:"data-checkbox"+r,type:"checkbox"},domProps:{checked:i.getVisible()},on:{change:function(t){return e.toggleMapDataLayer(i)}}}),e._v(" "),t("label",{attrs:{for:"data-checkbox"+r}},[e._v(e._s(e.$gettext(i.get("title"),"Map slopes layer")))])])})),e._v(" "),t("header",[e._v("YETI")]),e._v(" "),e._l(e.yetiLayers,(function(i,r){return t("div",{key:i.title,staticClass:"map-control-listitem"},[t("input",{attrs:{id:"yeti-checkbox"+r,type:"checkbox"},domProps:{checked:i.checked},on:{change:i.action}}),e._v(" "),t("label",{attrs:{for:"yeti-checkbox"+r}},[e._v(e._s(i.title))])])}))],2)]),e._v(" "),t("div",{ref:"recenterOnControl",staticClass:"ol-control ol-control-recenter-on"},[t("input",{attrs:{type:"text",placeholder:e.$gettext("Recenter on...")},on:{input:e.searchRecenterPropositions}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showRecenterOnPropositions,expression:"showRecenterOnPropositions"}],ref:"recenterOnPropositions",staticClass:"ol-control ol-control-recenter-on-propositions"},[e.recenterPropositions&&e.recenterPropositions.data&&e.recenterPropositions.data.features?t("ul",e._l(e.recenterPropositions.data.features,(function(i,r){return t("li",{key:r,on:{click:function(t){return e.recenterOn(i)}}},[e._v("\n          "+e._s(i.properties.name)+",\n          "),t("small",[e._v(e._s(i.properties.state)+", "+e._s(i.properties.country))])])})),0):e._e()]),e._v(" "),t("div",{ref:"drawingMode",staticClass:"ol-control ol-control-drawing-mode",class:{"is-primary":e.drawingMode}},[t("div",{staticClass:"ol-control-drawing-mode-inner"},[t("input-checkbox",{attrs:{value:e.drawingMode,disabled:e.validSimplifyTolerance},on:{input:e.onDrawingMode}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{title:"Enable drawing and editing features on map"}},[e._v("Drawing mode")]),e._v(" "),t("span",{staticClass:"yeti-tag"},[e.validSimplifyTolerance?t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("DISABLED")]):e.drawingMode?t("span",[e._v("ON")]):t("span",[e._v("OFF")])])])],1)])],1)])},je=[],He=i(55864),qe={computed:{map(){return this.$parent.map},view(){return this.map.getView()}},methods:{getExtent(e){return this.$parent.getExtent(e)},getFeaturesFromData(e){let t=e.data;return(new _e.Z.format.GeoJSON).readFeatures(t,{featureProjection:"EPSG:3857"})},getPropertiesFromFeatures(e){return e.map((e=>e.getProperties()))}}};let Xe=e=>{const t=8,i=10,r=0,a=.8;let n=a,s=1;return e&&(e>=t&&e<=i?n=a/(i-t)*(i-e):e>i&&(n=r),e>i&&(s=2)),new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"hsla(20, 90%, 45%, .85)",width:s}),fill:new _e.Z.style.Fill({color:`hsla(20, 90%, 55%, ${n})`})})};var Ke,$e,et={mixins:[qe],computed:{mapZoom(){return Z.mapZoom},areas(){return Z.areas},showAreas(){return Z.showAreas}},watch:{showAreas(){this.onShowAreas()}},mounted(){this.areasLayer=new _e.Z.layer.Vector({renderMode:"image",source:new _e.Z.source.Vector,style:Xe()}),this.map.addLayer(this.areasLayer),this.areasLayer.setVisible(this.showAreas),0===this.areas.length&&(Z.fetchAreas().then(this.onAreasResult),Z.$on("mapMoveEnd",this.onMapMoveEnd))},methods:{onAreasResult(e){let t=this.getFeaturesFromData(e),i=this.getPropertiesFromFeatures(t);Z.setAreas(i),this.areasLayer.getSource().addFeatures(t),this.isAreaOK()},isAreaOK(){let e=this.getExtent("EPSG:3857"),t=!0;for(let i in this.areas){let r=this.areas[i].geometry;if(r.intersectsExtent(e))break;t=!1}Z.setAreaOk(t)},onShowAreas(){this.areasLayer.setVisible(this.showAreas)},onMapMoveEnd(){this.isAreaOK(),this.areasLayer.setStyle(Xe(this.mapZoom))}},render(){return null}},tt=et,it=(0,c.Z)(tt,Ke,$e,!1,null,null,null),rt=it.exports,at=function(){var e=this,t=e._self._c;return t("div",{ref:"bulletinsOverlay",staticClass:"bulletins-overlay"},[t("button",{staticClass:"delete is-small button-close",on:{click:e.closeOverlay}},[e._v("x")]),e._v(" "),t("div",{staticClass:"bulletins-header pt-5 pb-3 has-text-centered"},[t("p",{staticClass:"title is-5"},[e._v(e._s(e.overlayData.mountainName))])]),e._v(" "),e.overlayData.danger.low?t("div",{staticClass:"py-2"},[t("p",{staticClass:"is-size-7 px-3 pb-5 bulletins-date"},[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Validity date:")]),e._v(" "+e._s(e.overlayValidUntil)+"\n    ")]),e._v(" "),t("div",{staticClass:"is-flex is-justify-content-space-around is-align-items-center px-3"},[t("div",[t("svg",{attrs:{viewBox:e.overlayData.danger.altitude?"0 0 150 100":"0 0 100 100",width:e.overlayData.danger.altitude?120:80,height:"80"}},[t("polygon",{staticStyle:{fill:"none",stroke:"#000","stroke-miterlimit":"10","stroke-width":"1.5"},attrs:{points:"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 "}}),e._v(" "),t("text",{attrs:{x:"50",y:e.overlayData.danger.high?82:65,"text-anchor":"middle","font-family":"sans-serif","font-size":"20px","font-weight":"bold"}},[t("tspan",[e._v(e._s(e.overlayData.danger.low))]),e._v(" "),e.overlayData.danger.lowEvol?t("tspan",[e._v(" ")]):e._e(),e._v(" "),e.overlayData.danger.lowEvol?t("tspan",[e._v(e._s(e.overlayData.danger.lowEvol))]):e._e()]),e._v(" "),e.overlayData.danger.lowEvol?t("g",{staticStyle:{fill:"none",stroke:"#000","stroke-width":"2"}},[t("line",{attrs:{x1:"45",x2:"55",y1:e.overlayData.danger.high?75:58,y2:e.overlayData.danger.high?75:58}}),e._v(" "),t("line",{attrs:{x1:"50",x2:"55",y1:e.overlayData.danger.high?70:53,y2:e.overlayData.danger.high?75:58}}),e._v(" "),t("line",{attrs:{x1:"50",x2:"55",y1:e.overlayData.danger.high?80:63,y2:e.overlayData.danger.high?75:58}})]):e._e(),e._v(" "),t("g",{directives:[{name:"show",rawName:"v-show",value:e.overlayData.danger.high,expression:"overlayData.danger.high"}]},[t("line",{staticStyle:{fill:"none",stroke:"#000","stroke-miterlimit":"10","stroke-width":"1.5"},attrs:{x1:"10",y1:"61.5",x2:"90",y2:"61.5"}}),e._v(" "),t("text",{attrs:{x:"50",y:"54","text-anchor":"middle","font-family":"sans-serif","font-size":"20px","font-weight":"bold"}},[t("tspan",[e._v(e._s(e.overlayData.danger.high))]),e._v(" "),e.overlayData.danger.highEvol?t("tspan",[e._v(" ")]):e._e(),e._v(" "),e.overlayData.danger.highEvol?t("tspan",[e._v(e._s(e.overlayData.danger.highEvol))]):e._e()]),e._v(" "),e.overlayData.danger.highEvol?t("g",{staticStyle:{fill:"none",stroke:"#000","stroke-width":"2"}},[t("line",{attrs:{x1:"45",x2:"55",y1:"46",y2:"46"}}),e._v(" "),t("line",{attrs:{x1:"50",x2:"55",y1:"41",y2:"46"}}),e._v(" "),t("line",{attrs:{x1:"50",x2:"55",y1:"51",y2:"46"}})]):e._e()]),e._v(" "),e.overlayData.danger.altitude?t("text",{attrs:{x:"92",y:"65","font-family":"sans-serif","font-size":"16px","font-weight":"bold"}},[e._v("\n            "+e._s(e.overlayData.danger.altitude)+"m\n          ")]):e._e()])]),e._v(" "),t("input-orientation",{attrs:{value:e.overlayOrientations}})],1),e._v(" "),e.overlayDangerComment||e.overlayOrientationsComment?t("dl",{staticClass:"is-size-6 px-3 pt-3"},[e.overlayDangerComment?t("div",[t("dt",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Danger:")]),e._v(" "),t("dd",[e._v(e._s(e.overlayDangerComment))])]):e._e(),e._v(" "),e.overlayOrientationsComment?t("div",[t("dt",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Orientations:")]),e._v(" "),t("dd",[e._v(e._s(e.overlayOrientationsComment))])]):e._e()]):e._e()]):t("div",{staticClass:"py-2"},[t("p",{staticClass:"is-size-6 p-3"},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("No avalanche bulletin right now")])])]),e._v(" "),t("p",{staticClass:"is-size-7 px-3 pt-2 pb-2 bulletins-footer"},[t("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Full bulletin:")]),e._v(" "),e._l(e.overlayData.urls,(function(i,r){return t("span",{key:r,staticClass:"pl-1"},[t("a",{attrs:{href:i.url,target:"_blank"}},[t("fa-icon",{attrs:{icon:"external-link-alt"}}),e._v(" "+e._s(i.title))],1)])}))],2),e._v(" "),t("img",{staticClass:"bulletins-overlay-danger-icon",attrs:{src:e.overlayDangerIcon,alt:""}})])},nt=[];i(2707),i(21703);function st(e,t,i){void 0===i&&(i={});var r={type:"Feature"};return(0===i.id||i.id)&&(r.id=i.id),i.bbox&&(r.bbox=i.bbox),r.properties=t||{},r.geometry=e,r}function ot(e,t,i){void 0===i&&(i={});for(var r=0,a=e;r<a.length;r++){var n=a[r];if(n.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<n[n.length-1].length;s++)if(n[n.length-1][s]!==n[0][s])throw new Error("First and last Position are not equivalent.")}var o={type:"Polygon",coordinates:e};return st(o,t,i)}function lt(e,t,i){void 0===i&&(i={});var r={type:"MultiPolygon",coordinates:e};return st(r,t,i)}function ut(e){return"Feature"===e.type?e.geometry:e}var ht=i(32676);function ct(e,t,i){void 0===i&&(i={});var r=ut(e),a=ut(t),n=ht.intersection(r.coordinates,a.coordinates);return 0===n.length?null:1===n.length?ot(n[0],i.properties):lt(n,i.properties)}let vt=e=>{const t=8,i=10,r=0,a=.8;let n=a,s=1;return e&&(e>=t&&e<=i?n=a/(i-t)*(i-e):e>i&&(n=r),e>i&&(s=2)),new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"rgba(0, 0, 0, .85)",width:s}),fill:new _e.Z.style.Fill({color:`rgba(255, 255, 255, ${n})`})})},dt=80,mt=e=>{e=e||0;let t=["#999","#cbdb45","#fff100","#f6921e","#ec1c24","#ec1c24"],i=`\n    <svg xmlns="http://www.w3.org/2000/svg" width="${dt}" height="${dt}" viewBox="-50 0 200 100">\n      <path d="M5,50L50,5L95,50" fill="white" />\n      <path d="M5,50L50,95L95,50" fill="${t[e]}" />\n      <path d="m50,0l50,50-50,50-50-50zv5L21,33l19-10L50,26l9-8L80,38l2-1L50,5M5,50L50,95L95,50" />\n  `;return i+=0!==e?`\n      <text x="50" y="83" text-anchor="middle" font-family="sans-serif" font-size="40px" font-weight="bold">${e}</text>\n    `:'\n      <g stroke-width="5" stroke="black">\n        <line x1="40" x2="60" y1="58" y2="78" />\n        <line x1="40" x2="60" y1="78" y2="58" />\n      </g>\n    ',2===e?i+='\n      <path d="M86,45a7,7,0,106.5-13.5a7,7,0,00-10.5-8a5.4,5.4,0,00-10.2,3" />\n      <path d="M69,27L86,44a5,5,0,104-12a5,5,0,10-9-5a3,3,0,10-8,0" fill="white" />\n      <path d="M85,32a1,1,0,110,8v-2a1,1,0,100-4" />\n    ':3===e?i+='\n      <path d="M54,22L79,50h33a5,5,0,10-4-22.3a11.3,11.3,0,00-20,0q-8-2,-14,6" />\n      <path d="M55,21L82,48h30a5,5,0,10-5-18a9.7,9.7,0,00-18,0q-7-2,-11,3L60,16" fill="white" />\n      <path d="M59,18l25,25-1.5,1.5-25-25M87,38a1,1,0,1110,5l-2-1a1,1,0,10-6-3" />\n    ':4!==e&&5!==e||(i+='\n      <path d="M54,22L79,50h52a12.5,12.5,0,001.5-24.4a7,7,0,00-8.2-7a11.9,11.9,0,00-22.5-2q-11-1,-14,7q-10-2-14,4" />\n      <path d="M52,24L77,48h50a5,5,0,103-21a5,5,0,00-7-6a10.3,10.3,0,00-20-2q-11-2,-14,7q-10-3-14,4L60,16" fill="white" />\n      <path d="M59,18l25,25-1.5,1.5-25-25m-1.5,1.5l22.5,22.5-1.5,1.5-22.5-22.5M87,38a1,1,0,1110,5l-2-1a1,1,0,10-6-3M96,29a1,1,0,1115,14l-1.7-1.7A1,1,0,1097.7,30.7" />\n    '),i+="</svg>","data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i)},pt=e=>new _e.Z.style.Style({image:new _e.Z.style.Icon({src:mt(e),size:[dt,dt]})}),ft=new _e.Z.layer.Vector({source:new _e.Z.source.Vector,style:vt()}),gt=new _e.Z.layer.Vector({source:new _e.Z.source.Vector}),yt=new _e.Z.layer.Group({layers:[ft,gt]}),wt=new _e.Z.Overlay({positioning:"top-center",offset:[0,0],className:"bulletins-overlay-container"}),xt={animation:{duration:250},margin:10};var bt={mixins:[qe],data(){return{overlayData:{mountainName:null,validUntil:null,danger:{},orientations:[],urls:[]},panIntoView:!1}},computed:{mapZoom(){return Z.mapZoom},showAvalancheBulletins(){return Z.showAvalancheBulletins},bulletinsLoaded(){return Z.bulletinsLoaded},drawingMode(){return Z.drawingMode},overlayOrientations(){return Object.keys(this.overlayData.orientations).filter((e=>"comment"!==e)).filter((e=>this.overlayData.orientations[e])).map((e=>e.toUpperCase()))},overlayValidUntil(){return(0,ue.Z)(new Date(this.overlayData.validUntil),"dd/MM/yyyy HH:mm")},overlayDangerIcon(){return mt(this.overlayData.danger.max)},overlayDangerComment(){return this.overlayData.danger.low?this.overlayData.danger.comment:null},overlayOrientationsComment(){return this.overlayData.orientations.comment}},watch:{showAvalancheBulletins(){this.onShowAvalancheBulletins()}},mounted(){this.activeBulletins=null,wt.setElement(this.$refs.bulletinsOverlay),this.map.addOverlay(wt),this.map.addLayer(yt),yt.setVisible(!1),0===Z.mountains.all.length&&(Z.fetchMountains().then(this.onMountainsResult),Z.$on("mapMoveEnd",this.onMapMoveEnd),Z.$on("mapClick",this.onMapClick))},methods:{onMountainsResult(e){let t=this.getFeaturesFromData(e);t=t.filter((e=>"France"===e.get("country"))),ft.getSource().addFeatures(t);let i=this.getPropertiesFromFeatures(t);i=this.sortMountainsByMassif(i),Z.setAllMountains(i),this.setVisibleMountains()},sortMountainsByMassif(e){let t={};for(let r=0;r<e.length;r++)t[e[r].mountain]||(t[e[r].mountain]=[]),t[e[r].mountain].push(e[r]);e=Object.keys(t).sort().reduce(((e,i)=>(e[i]=t[i],e)),{});let i="name";for(let r in e)e[r].sort(((e,t)=>e[i]<t[i]?-1:e[i]>t[i]?1:0));return e},setVisibleMountains(){let e=this.getExtent("EPSG:3857"),t=Object.assign({},Z.mountains.all);for(let i in t)t[i]=t[i].filter((t=>{let i=t.geometry;return i.intersectsExtent(e)})),0===t[i].length&&delete t[i];Z.setVisibleMountains(t)},updateMountainsStyle(){ft.setStyle(vt(this.mapZoom))},onMapMoveEnd(){this.setVisibleMountains(),this.showAvalancheBulletins&&(this.updateMountainsStyle(),this.updateBulletinsGeometry())},onMapClick(e){this.showAvalancheBulletins&&!this.drawingMode&&this.setBulletinsOverlay(e)},onShowAvalancheBulletins(){this.bulletinsLoaded||(Z.setBulletinsLoaded(!0),Z.fetchBulletins().then(this.onBulletinsResult)),yt.setVisible(this.showAvalancheBulletins),this.updateMountainsStyle(),this.updateBulletinsGeometry()},onBulletinsResult(e){let t=e.data,i=ft.getSource().getFeatures();t.zones.forEach((e=>{i.find((t=>{if(t.get("name")===e.zone){let i=t.getGeometry(),r=i.getType(),a=null;if("MultiPolygon"!==r)throw new Error("Mountain geometry have to be MultiPolygon.");a=i.getInteriorPoints();let n=new _e.Z.Feature({geometry:a,initialGeometry:a,overlayData:{mountainName:t.get("name"),validUntil:e.validUntil,danger:e.danger,orientations:e.orientations,urls:t.get("urls")}});return gt.getSource().addFeature(n),n.setStyle(pt(e.danger.max)),t.setProperties({bulletinsFeature:n}),!0}}))})),this.updateBulletinsGeometry()},updateBulletinsGeometry(){if(this.bulletinsLoaded){if(this.panIntoView)return this.panIntoView=!1,void this.updateBulletinsOverlay();if(this.mapZoom>10){let e=this.getExtent("EPSG:3857"),t=new _e.Z.Feature(_e.Z.geom.polygonFromExtent(e)),i=ft.getSource().getFeatures();i.forEach((e=>{let i=ct((new _e.Z.format.GeoJSON).writeFeatureObject(e),(new _e.Z.format.GeoJSON).writeFeatureObject(t));if(i){let t=(new _e.Z.format.GeoJSON).readFeature(i),r=t.getGeometry(),a=r.getType();"Polygon"===a&&(t=new _e.Z.Feature({geometry:new _e.Z.geom.MultiPolygon([r])}));let n=t.getGeometry().getInteriorPoints(),s=e.get("bulletinsFeature");s&&s.setGeometry(n)}}))}else{let e=gt.getSource().getFeatures();e.forEach((e=>{e.setGeometry(e.get("initialGeometry"))}))}this.updateBulletinsOverlay()}},setBulletinsOverlay(e){let t=this.map.getFeaturesAtPixel(e.pixel,{layerFilter:function(e){return e===gt}}),i=t.length?t[0]:void 0;if(i){this.overlayData=i.get("overlayData");let t=i.getGeometry().getClosestPoint(e.coordinate);this.openOverlay(t,!0),this.activeBulletins={feature:i};let r=i.getGeometry().getPoints();r.length>1&&r.forEach(((e,i)=>{e.getCoordinates().every(((e,i)=>e===t[i]))&&(this.activeBulletins.index=i)}))}else this.closeOverlay(!0)},updateBulletinsOverlay(){if(this.activeBulletins&&this.showAvalancheBulletins){let e=this.activeBulletins.feature,t=this.activeBulletins.index||0,i=e.getGeometry().getPoint(t);i||(i=e.getGeometry().getPoint(0)),this.openOverlay(i.getCoordinates())}else this.closeOverlay()},openOverlay(e,t=!1){this.$nextTick((()=>{wt.setPosition(e),t&&(this.panIntoView=!0,wt.panIntoView(xt))}))},closeOverlay(e=!1){wt.setPosition(void 0),e&&(this.activeBulletins=null)}}},_t=bt,At=(0,c.Z)(_t,at,nt,!1,null,"57c862e2",null),St=At.exports;i(74916),i(15306);let kt=[new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"rgba(0, 0, 0, 0.4)",width:5})}),new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"yellow",width:3})})],Et=[new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"white",width:5})}),new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"rgba(0, 0, 0, 0.7)",width:3})})],Lt=[new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"yellow",width:9}),zIndex:1}),new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"red",width:3}),zIndex:1})];var Ct,Pt,Mt={mixins:[qe],data(){return{visibleSimplifiedLayer:!1}},computed:{features(){return Z.features},featuresLength(){return Z.featuresLength},validMinimumMapZoom(){return Z.VALID_MINIMUM_MAP_ZOOM},drawingMode(){return Z.drawingMode}},watch:{drawingMode(){this.drawingMode?this.enableInteractions():this.disableInteractions()}},mounted(){this.featuresLayer=new _e.Z.layer.Vector({source:new _e.Z.source.Vector,style:kt}),this.featuresLayerSource=this.featuresLayer.getSource(),this.map.addLayer(this.featuresLayer),this.simplifiedLayer=new _e.Z.layer.Vector({source:new _e.Z.source.Vector,style:Et}),this.simplifiedSource=this.simplifiedLayer.getSource(),this.map.addLayer(this.simplifiedLayer),this.simplifiedLayer.setVisible(!1),Z.setFeaturesTitle(this.$gettext(Z.featuresTitle));let e=this.$route.params.document_id,t=this.$language.current;e&&p.Z.route.getCooked(e,t).then(this.addFeaturesFromDocument),this.featuresLayerSource.on("addfeature",this.onFeature),this.simplifiedSource.on("addfeature",this.onFeature),this.addInteractions(),Z.$on("removeFeature",this.removeFeature),Z.$on("removeFeatures",this.removeFeatures),Z.$on("gpx",this.addFeaturesFromGpx),Z.$on("previewSimplify",this.previewSimplify),Z.$on("simplify",this.simplify)},methods:{addInteractions(){let e=this.featuresLayerSource;this.modifyInteraction=new _e.Z.interaction.Modify({source:e}),this.map.addInteraction(this.modifyInteraction),this.drawInteraction=new _e.Z.interaction.Draw({source:e,type:"LineString"}),this.map.addInteraction(this.drawInteraction),this.snapInteraction=new _e.Z.interaction.Snap({source:e}),this.map.addInteraction(this.snapInteraction),this.drawInteraction.on("drawstart",this.onDrawStart),this.drawInteraction.on("drawend",this.onDrawEnd),this.modifyInteraction.on("modifyend",this.onModifyEnd),this.disableInteractions()},enableInteractions(){this.drawInteraction.setActive(!0),this.modifyInteraction.setActive(!0),this.snapInteraction.setActive(!0)},disableInteractions(){this.drawInteraction.setActive(!1),this.modifyInteraction.setActive(!1),this.snapInteraction.setActive(!1)},onDrawStart(){document.addEventListener("keydown",this.onKeyWhileDrawing),document.addEventListener("keypress",this.onKeyWhileDrawing)},onDrawEnd(){document.removeEventListener("keydown",this.onKeyWhileDrawing),document.removeEventListener("keypress",this.onKeyWhileDrawing)},onModifyEnd(){this.updateFeaturesFromStore()},onKeyWhileDrawing(e){e.preventDefault(),"Backspace"===e.key&&this.drawInteraction.removeLastPoint()},onFeature(e){e.feature.set("highlightedStyle",Lt),this.loadingExternalFeatures||this.updateFeaturesFromStore()},updateFeaturesFromStore(){let e=this.visibleSimplifiedLayer?this.getSimplifiedFeatures():this.getFeaturesLayerFeatures();Z.setFeatures(e);let t=this.getFeaturesLayerFeatures().map((e=>e.getGeometry().getCoordinates().length)).reduce(((e,t)=>e+t),0);Z.setFeaturesLength(t),0===e.length&&this.$route.params.document_id&&this.$router.replace({path:"/"+this.$route.name})},getFeaturesLayerFeatures(){return this.featuresLayerSource.getFeatures()},getSimplifiedFeatures(){return this.simplifiedSource.getFeatures()},removeFeature(e){let t=!(1===this.featuresLayerSource.getFeatures().length&&!confirm(this.$gettext("Confirm delete")));t&&(this.visibleSimplifiedLayer?(this.simplifiedSource.removeFeature(e),this.getFeaturesLayerFeatures().forEach((t=>{e.get("id")===t.ol_uid&&this.featuresLayerSource.removeFeature(t)}))):this.featuresLayerSource.removeFeature(e),this.updateFeaturesFromStore())},removeFeatures(){this.featuresLayerSource.clear(),this.simplifiedSource.clear(!0),this.hideSimplifiedLayer(),this.updateFeaturesFromStore()},addFeaturesFromGpx(e){if(!e)return;this.featuresLayerSource.clear(),this.loadingExternalFeatures=!0;let t=new _e.Z.format.GPX,i=t.readFeatures(e,{featureProjection:"EPSG:3857"});i.forEach(this.addFeature),Z.setFeaturesTitle(this.getFeaturesTitleFromGpx(i)),this.loadingExternalFeatures=!1,this.updateFeaturesFromStore(),this.fitMapToFeatures()},getFeaturesTitleFromGpx(e){if(e&&e.length){let t=e[0].getProperties();return t.name?t.name:this.$gettext("GPX file")}},addFeaturesFromDocument(e){this.loadingExternalFeatures=!0;let t=e.data.geometry.geom_detail,i=(new _e.Z.format.GeoJSON).readFeature(t);this.addFeature(i),Z.setFeaturesTitle(this.getFeaturesTitleFromDocument(e)),this.loadingExternalFeatures=!1,this.updateFeaturesFromStore(),this.fitMapToFeatures()},addFeature(e){if("MultiLineString"===e.getGeometry().getType()){let t=e.getGeometry().getLineStrings();t.map((e=>new _e.Z.Feature({geometry:e}))).forEach(this.addFeature)}else{let t=e.getGeometry().getCoordinates().length;t>=2&&this.featuresLayerSource.addFeature(e)}},getFeaturesTitleFromDocument(e){return this.$documentUtils.getDocumentTitle(e.data)},fitMapToFeatures(){let e=_e.Z.extent.createEmpty();_e.Z.extent.extend(e,this.featuresLayerSource.getExtent()),this.view.fit(e,{size:this.map.getSize()}),this.view.setZoom(Math.max(this.validMinimumMapZoom,this.view.getZoom()))},hideSimplifiedLayer(){this.featuresLayer.setVisible(!0),this.simplifiedLayer.setVisible(!1),this.visibleSimplifiedLayer=!1},showSimplifiedLayer(){this.featuresLayer.setVisible(!1),this.simplifiedLayer.setVisible(!0),this.visibleSimplifiedLayer=!0},previewSimplify(e){if(this.simplifiedSource.clear(!0),0===e)this.hideSimplifiedLayer();else{this.showSimplifiedLayer();let t=this.getFeaturesLayerFeatures();t.forEach((t=>{let i=t.getGeometry(),r=i;0!==e&&(r=r.simplify(e));let a=new _e.Z.Feature({geometry:r,id:t.ol_uid});this.simplifiedSource.addFeature(a)}))}this.updateFeaturesFromStore()},simplify(){this.featuresLayerSource.clear();let e=this.getSimplifiedFeatures();e.forEach((e=>{this.featuresLayerSource.addFeature(e)})),this.hideSimplifiedLayer()}},render(){return null}},Ft=Mt,Zt=(0,c.Z)(Ft,Ct,Pt,!1,null,null,null),Dt=Zt.exports,Nt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"legend"},[t("div",[t("div",{staticClass:"legend-button is-pulled-right ol-control"},[t("button",{attrs:{type:"button"},on:{click:function(t){e.showLegend=!e.showLegend}}},[t("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Legend")])])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.showLegend,expression:"showLegend === true"}],staticClass:"legend-content"},[e.mapLegend?t("div",[t("ul",e._l(e.mapLegend.items,(function(i,r){return t("li",{key:r},[t("span",{staticClass:"legend-color",style:"background:"+i.color}),e._v(" "),t("span",[e._v(e._s(e.$gettext(i.text["en"])))])])})),0),e._v(" "),t("p",{staticClass:"is-size-6 is-italic"},[e._v(e._s(e.$gettext(e.mapLegend.comment["en"])))])]):t("p",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-italic"},[e._v("Legend will appear automatically with the generated image")])])]),e._v(" "),e.isLayerLoaded?t("div",{staticClass:"ol-control opacity"},[t("div",{staticClass:"opacity-slider"},[t("vue-slider",{attrs:{min:0,max:1,interval:.01,tooltip:"none",direction:"btt","rail-style":{background:"rgba(0,0,0,.25)"},"process-style":{background:"white"}},on:{change:e.onUpdateOpacity},model:{value:e.opacity,callback:function(t){e.opacity=t},expression:"opacity"}})],1)]):e._e()])},It=[];const Tt=.75;var Bt={components:{VueSlider:()=>i.e(309).then(i.t.bind(i,79454,23))},mixins:[qe],props:{data:{type:String,default:null},extent:{type:Array,required:!0}},data(){return{isLayerLoaded:!1,opacity:Tt,showLegend:void 0,mapLegend:null}},watch:{data(){this.data?this.drawImage():this.clearLayers()},extent(){this.drawExtent(this.extent)}},created(){this.layer=new _e.Z.layer.Image({source:new _e.Z.source.ImageStatic({url:null,imageExtent:_e.Z.extent.createEmpty()}),opacity:this.opacity}),this.extentLayer=new _e.Z.layer.Vector({source:new _e.Z.source.Vector,style:[new _e.Z.style.Style({fill:new _e.Z.style.Fill({color:"hsla(30, 100%, 60%, .45)"})}),new _e.Z.style.Style({stroke:new _e.Z.style.Stroke({color:"hsla(30, 100%, 40%, 1)",width:2}),geometry:e=>new _e.Z.geom.Polygon([e.getGeometry().getCoordinates()[1]])})]})},mounted(){this.map.addLayer(this.layer),this.map.addLayer(this.extentLayer)},methods:{clearLayers(){this.layer.setSource(null),this.isLayerLoaded=!1,this.extentLayer.getSource().clear()},drawExtent(e){let t=_e.Z.extent.buffer(e,Math.max(e[2]-e[0],e[3]-e[1])/10),i=new _e.Z.Feature(new _e.Z.geom.Polygon([this.toLinearRing(t),this.toLinearRing(e)]));this.extentLayer.getSource().addFeature(i)},drawImage(){let e=(new DOMParser).parseFromString(this.data,"application/xml"),t=e.getElementsByTagName("wps:ComplexData")[0].textContent,i=e.getElementsByTagName("wps:ComplexData")[1].textContent,r=_e.Z.proj.transformExtent(i.split(",").map(Number),"EPSG:4326","EPSG:3857");this.layer.setSource(new _e.Z.source.ImageStatic({imageLoadFunction(e){e.getImage().src="data:image/png;base64,"+t},imageExtent:r})),this.isLayerLoaded=!0,this.setLegend(e)},onUpdateOpacity(){this.layer.setOpacity(this.opacity)},setLegend(e){this.mapLegend=JSON.parse(e.getElementsByTagName("wps:ComplexData")[2].textContent),this.mapLegend.items.forEach((e=>{e.color=`rgb(${e.color[0]}, ${e.color[1]}, ${e.color[2]})`})),this.layer.getSource().setAttributions(this.mapLegend.attributions)},toLinearRing(e){let t=e[0],i=e[1],r=e[2],a=e[3];return[[t,i],[t,a],[r,a],[r,i],[t,i]]}}},Ot=Bt,Rt=(0,c.Z)(Ot,Nt,It,!1,null,"42ee7258",null),Gt=Rt.exports,Vt=i(22456);const zt=[6.25,45.15],Yt=6,Ut=19;var Wt={components:{AreaLayer:rt,AvalancheBulletinsLayer:St,RouteLayer:Dt,YetiLayer:Gt},props:{yetiExtent:{type:Array,required:!0},yetiData:{type:String,default:null}},data(){return{cartoLayers:(0,He.$i)(),dataLayers:(0,He.o6)(),showLayerSwitcher:!1,recenterPropositions:null,showRecenterOnPropositions:!1}},computed:{mapZoom(){return Z.mapZoom},showAvalancheBulletins(){return Z.showAvalancheBulletins},showAreas(){return Z.showAreas},drawingMode(){return Z.drawingMode},validSimplifyTolerance(){return Z.validSimplifyTolerance},yetiLayers(){return[{title:this.$gettext("YETI extent"),checked:this.showAreas,action:this.onShowAreas},{title:this.$gettext("Avalanche bulletins"),checked:this.showAvalancheBulletins,action:this.onShowAvalancheBulletins}]},visibleCartoLayer:{get(){return this.cartoLayers.find((e=>!0===e.getVisible()))},set(e){this.visibleCartoLayer.setVisible(!1),e.setVisible(!0)}},atLeastOneYetiLayerIsShown(){return this.yetiLayers.filter((e=>e.checked)).length}},watch:{showAvalancheBulletins(){this.updateCartoLayersOpacity()},showAreas(){this.updateCartoLayersOpacity()}},created(){this.map=new _e.Z.Map({controls:[new _e.Z.control.Zoom({zoomInTipLabel:this.$gettext("Zoom in","Map controls"),zoomOutTipLabel:this.$gettext("Zoom out","Map controls")}),new _e.Z.control.ScaleLine,new _e.Z.control.Attribution({tipLabel:this.$gettext("Attributions","Map controls")})],layers:[...this.cartoLayers,...this.dataLayers],view:new _e.Z.View({center:_e.Z.proj.transform(zt,"EPSG:4326","EPSG:3857"),zoom:Yt,maxZoom:Ut})}),this.view=this.map.getView()},mounted(){this.map.setTarget(this.$refs.map);let e=[new _e.Z.control.FullScreen({source:this.$el,tipLabel:this.$gettext("Toggle full-screen","Map Controls")}),new _e.Z.control.Control({element:this.$refs.layerSwitcherButton}),new _e.Z.control.Control({element:this.$refs.layerSwitcher}),new _e.Z.control.Control({element:this.$refs.drawingMode}),new _e.Z.control.Control({element:this.$refs.recenterOnControl}),new _e.Z.control.Control({element:this.$refs.recenterOnPropositions})];e.map((e=>this.map.addControl(e))),this.map.on("moveend",this.onMapMoveEnd),this.map.on("click",this.onMapClick)},methods:{getExtent(e){let t=this.view.calculateExtent(this.map.getSize()||null);return e&&(t=_e.Z.proj.transformExtent(t,_e.Z.proj.get("EPSG:3857"),_e.Z.proj.get(e))),t},toggleMapDataLayer(e){e.setVisible(!e.getVisible())},searchRecenterPropositions(e){let t=e.target.value;if(t&&t.length>=3){let e=this.view.getCenter(),i=_e.Z.proj.toLonLat(e);this.recenterPropositions=Vt.Z.getPropositions(t,this.$language.current,i),this.showRecenterOnPropositions=!0}},recenterOn(e){let t=(new _e.Z.format.GeoJSON).readFeature(e),i=t.get("extent"),r=t.getGeometry().flatCoordinates;i?(i=_e.Z.proj.transformExtent(i,"EPSG:4326","EPSG:3857"),this.view.fit(i,{size:this.map.getSize(),maxZoom:12})):(r=_e.Z.proj.transform(r,"EPSG:4326","EPSG:3857"),this.view.setCenter(r),this.view.setZoom(16)),this.showRecenterOnPropositions=!1},getMapZoom(){return Math.floor(10*this.view.getZoom())/10},onMapMoveEnd(){let e=this.getMapZoom();this.mapZoom!==e&&Z.setMapZoom(e),(this.showAvalancheBulletins||this.showAreas)&&this.updateCartoLayersOpacity(),Z.$emit("mapMoveEnd")},onMapClick(e){this.showLayerSwitcher=!1,this.showRecenterOnPropositions=!1,Z.$emit("mapClick",e)},updateCartoLayersOpacity(){const e=9;this.cartoLayers.forEach((t=>{t.setOpacity((this.showAvalancheBulletins||this.showAreas)&&this.mapZoom<e?.5:1)}))},onShowAvalancheBulletins(){Z.setShowAvalancheBulletins(!this.showAvalancheBulletins)},onShowAreas(){Z.setShowAreas(!this.showAreas)},onDrawingMode(){Z.setDrawingMode(!this.drawingMode)}}},Qt=Wt,Jt=(0,c.Z)(Qt,Je,je,!1,null,"eb255532",null),jt=Jt.exports;const Ht="https://api.ensg.eu/yeti-wps?request=Execute&service=WPS&version=1.0.0&identifier=Yeti&datainputs=";var qt={name:"Yeti",components:{YetiArticle:b,Panel:T,SubPanelBra:se,SubPanelCourse:Le,SubPanelMethods:Ne,Tabs:Ge,ValidationButton:Qe,YetiMap:jt},data(){return{showDisclaimer:!1,checkDisclaimer:!1,articles:{faq:{id:1257569,title:"FAQ"},disclaimer:{id:1257571,title:this.$gettext("Disclaimer")}},tabs:[this.$gettext("Compute"),this.$gettext("Outing")],formError:void 0,currentError:void 0,promise:null,yetiData:null,yetiExtent:[]}},computed:{validMinimumMapZoom(){return Z.VALID_MINIMUM_MAP_ZOOM},dangerMaxWhenMrd(){return Z.DANGER_MAX_WHEN_MRD},bra(){return Z.bra},method(){return Z.method},mapZoom(){return Z.mapZoom},areaOk(){return Z.areaOk},errors(){return{area:{simple:this.$gettext("Area not covered"),full:this.$gettext("Current map view is not covered by YETI. Only french mountains are as of now (determined by a dashed stroke).")},method:{simple:this.$gettext("Missing method"),full:this.$gettext("Please select a method before computing.")},method_bra:{simple:this.$gettext("Conflicting method and danger"),full:this.$gettext("The MRD method (beginner) is allowed when danger is 3 maximum. Choose another method: MRE or MRP.")},bra:{simple:this.$gettext("Missing danger level"),full:this.$gettext("Please set danger level as specified on avalanche bulletin for the specific area.")},altitude:{simple:this.$gettext("Missing altitude"),full:this.$gettext("Altitude is mandatory when danger high and low are different. Please set altitude as specified on avalanche bulletin for the specific area.")},zoom:{simple:this.$gettext("Area too large"),full:this.$gettext("Current map view is too large. Please zoom to level")+" "+this.validMinimumMapZoom},ok:this.$gettext("Seems fine! :)"),yeti:this.$gettext("Service is inactive right now"),yeti_prefix:"YETI Service: ",yeti_unauthorized:this.$gettext("You have to be authorized. Please contact administrators of the service if interested.")}},mrdIsNotApplicable(){return this.isBraMax&&"mrd"===this.method.type},isBraMax(){return this.bra.high>this.dangerMaxWhenMrd||this.bra.low>this.dangerMaxWhenMrd},isValidMapZoom(){return this.mapZoom>=this.validMinimumMapZoom}},watch:{"bra.low":"check","bra.altiThreshold":"check","bra.isDifferent":"check","method.type":"check","method.potentialDanger":"check",mapZoom:"check",areaOk:"check"},created(){this.$localStorage.get("yeti-disclaimer")||(this.showDisclaimer=!0),Z.setDefault()},mounted(){this.check()},methods:{check(){this.areaOk?this.isValidMapZoom?this.bra.high?this.bra.low&&this.bra.high!==this.bra.low&&!this.bra.altiThreshold?this.formError="altitude":this.method.type?this.mrdIsNotApplicable?this.formError="method_bra":!this.bra.isDifferent||this.bra.low&&this.bra.high?this.formError=null:this.formError="bra":this.formError="method":this.formError="bra":this.formError="zoom":this.formError="area",this.mrdIsNotApplicable&&(this.method.type=null),this.setCurrentError()},warnAboutMethodBra(e){"mrd"===e&&this.isBraMax&&window.alert(this.errors.method_bra.full)},setCurrentError(){this.formError?(this.currentError=this.errors[this.formError]["simple"],"zoom"===this.formError&&(this.currentError+=" ("+this.$gettext("current zoom:")+" "+this.mapZoom+" "+this.$gettext("on")+" "+this.validMinimumMapZoom+")")):this.currentError=this.errors["ok"]},compute(){if(this.formError)return void window.alert(this.errors[this.formError]["full"]);const e=this.$refs.map.getExtent("EPSG:3857"),t=this.extendExtent(e),i=this.getYetiUrl(t);this.yetiData=null,this.promise=s().get(i).then((e=>this.onYetiResult(e,t))).catch(this.onYetiError)},extendExtent(e){const t=Math.min(.5,(this.mapZoom-this.validMinimumMapZoom)/6),i=Math.max(e[2]-e[0],e[3]-e[1])*t;return _e.Z.extent.buffer(e,i)},onYetiResult(e,t){this.yetiData=e.data,this.yetiExtent=t,this.promise=null},onYetiError(e){this.promise=null;let t=this.errors["yeti"];if(400===e.response.status){const i=(new DOMParser).parseFromString(e.response.data,"text/xml");t=[...i.getElementsByTagName("ExceptionText")].map((e=>e.textContent)).join(" ")}403===e.response.status&&(t=this.errors["yeti_unauthorized"]),window.alert(this.errors["yeti_prefix"]+t)},getYetiUrl(e){const t=_e.Z.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),i=this.bra.isDifferent?this.bra.low:this.bra.high,r=this.bra.isDifferent?this.bra.altiThreshold:0,a="mre"===this.method.type&&0!==this.method.orientation.length?"none,"+this.method.orientation.join(",").toLowerCase():"none",n="mrp"===this.method.type?this.method.potentialDanger:0,s="mrp"===this.method.type&&this.method.wetSnow,o="mrp"===this.method.type?Math.floor(this.method.groupSize):0;let l=Ht;return l+=`methode=${this.method.type};`,l+=`bbox=${t[0]},${t[1]},${t[2]},${t[3]};`,l+=`risque_haut=${this.bra.high};`,l+=`risque_bas=${i};`,l+=`seuil_alti=${r}`,"mre"===this.method.type?l+=`;rdv=${a}`:"mrp"===this.method.type&&(l+=`;potentiel_danger=${n};`,l+=`neige_mouillee=${s};`,l+=`taille_groupe=${o}`),l},onSubmitDisclaimer(){this.showDisclaimer=!1,this.$localStorage.set("yeti-disclaimer","validated")}}},Xt=qt,Kt=(0,c.Z)(Xt,r,a,!1,null,"0fd3759c",null),$t=Kt.exports},32676:function(e){(function(t,i){e.exports=i()})(0,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}
/**
   * splaytree v3.1.0
   * Fast Splay tree for Node and browser
   *
   * @author Alexander Milevski <info@w8r.name>
   * @license MIT
   * @preserve
   */var r=function(){function e(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}return e}();function a(e,t){return e>t?1:e<t?-1:0}function n(e,t,i){var a=new r(null,null),n=a,s=a;while(1){var o=i(e,t.key);if(o<0){if(null===t.left)break;if(i(e,t.left.key)<0){var l=t.left;if(t.left=l.right,l.right=t,t=l,null===t.left)break}s.left=t,s=t,t=t.left}else{if(!(o>0))break;if(null===t.right)break;if(i(e,t.right.key)>0){l=t.right;if(t.right=l.left,l.left=t,t=l,null===t.right)break}n.right=t,n=t,t=t.right}}return n.right=t.left,s.left=t.right,t.left=a.right,t.right=a.left,t}function s(e,t,i,a){var s=new r(e,t);if(null===i)return s.left=s.right=null,s;i=n(e,i,a);var o=a(e,i.key);return o<0?(s.left=i.left,s.right=i,i.left=null):o>=0&&(s.right=i.right,s.left=i,i.right=null),s}function o(e,t,i){var r=null,a=null;if(t){t=n(e,t,i);var s=i(t.key,e);0===s?(r=t.left,a=t.right):s<0?(a=t.right,t.right=null,r=t):(r=t.left,t.left=null,a=t)}return{left:r,right:a}}function l(e,t,i){return null===t?e:(null===e||(t=n(e.key,t,i),t.left=e),t)}function u(e,t,i,r,a){if(e){r(t+(i?"└── ":"├── ")+a(e)+"\n");var n=t+(i?"    ":"│   ");e.left&&u(e.left,n,!1,r,a),e.right&&u(e.right,n,!0,r,a)}}var h=function(){function e(e){void 0===e&&(e=a),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=s(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var i=new r(e,t);null===this._root&&(i.left=i.right=null,this._size++,this._root=i);var a=this._comparator,s=n(e,this._root,a),o=a(e,s.key);return 0===o?this._root=s:(o<0?(i.left=s.left,i.right=s,s.left=null):o>0&&(i.right=s.right,i.left=s,s.right=null),this._size++,this._root=i),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,i){var r;if(null===t)return null;t=n(e,t,i);var a=i(e,t.key);return 0===a?(null===t.left?r=t.right:(r=n(e,t.left,i),r.right=t.right),this._size--,r):t},e.prototype.pop=function(){var e=this._root;if(e){while(e.left)e=e.left;return this._root=n(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){var t=this._root,i=this._comparator;while(t){var r=i(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=n(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){var t=this._root,i=this._comparator;while(t){var r=i(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){var i=this._root,r=[],a=!1;while(!a)null!==i?(r.push(i),i=i.left):0!==r.length?(i=r.pop(),e.call(t,i),i=i.right):a=!0;return this},e.prototype.range=function(e,t,i,r){var a,n=[],s=this._comparator,o=this._root;while(0!==n.length||o)if(o)n.push(o),o=o.left;else{if(o=n.pop(),a=s(o.key,t),a>0)break;if(s(o.key,e)>=0&&i.call(r,o))return this;o=o.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var i=t.key;return e.push(i)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var i=t.data;return e.push(i)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)while(e.left)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)while(e.right)e=e.right;return e},e.prototype.at=function(e){var t=this._root,i=!1,r=0,a=[];while(!i)if(t)a.push(t),t=t.left;else if(a.length>0){if(t=a.pop(),r===e)return t;r++,t=t.right}else i=!0;return null},e.prototype.next=function(e){var t=this._root,i=null;if(e.right){i=e.right;while(i.left)i=i.left;return i}var r=this._comparator;while(t){var a=r(e.key,t.key);if(0===a)break;a<0?(i=t,t=t.left):t=t.right}return i},e.prototype.prev=function(e){var t=this._root,i=null;if(null!==e.left){i=e.left;while(i.right)i=i.right;return i}var r=this._comparator;while(t){var a=r(e.key,t.key);if(0===a)break;a<0?t=t.left:(i=t,t=t.right)}return i},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return d(this._root)},e.prototype.load=function(e,t,i){void 0===t&&(t=[]),void 0===i&&(i=!1);var r=e.length,a=this._comparator;if(i&&f(e,t,0,r-1,a),null===this._root)this._root=c(e,t,0,r),this._size=r;else{var n=p(this.toList(),v(e,t),a);r=this._size+r,this._root=m({head:n},0,r)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return u(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,i){var r=this._comparator,a=o(e,this._root,r),n=a.left,u=a.right;r(e,t)<0?u=s(t,i,u,r):n=s(t,i,n,r),this._root=l(n,u,r)},e.prototype.split=function(e){return o(e,this._root,this._comparator)},e}();function c(e,t,i,a){var n=a-i;if(n>0){var s=i+Math.floor(n/2),o=e[s],l=t[s],u=new r(o,l);return u.left=c(e,t,i,s),u.right=c(e,t,s+1,a),u}return null}function v(e,t){for(var i=new r(null,null),a=i,n=0;n<e.length;n++)a=a.next=new r(e[n],t[n]);return a.next=null,i.next}function d(e){var t=e,i=[],a=!1,n=new r(null,null),s=n;while(!a)t?(i.push(t),t=t.left):i.length>0?(t=s=s.next=i.pop(),t=t.right):a=!0;return s.next=null,n.next}function m(e,t,i){var r=i-t;if(r>0){var a=t+Math.floor(r/2),n=m(e,t,a),s=e.head;return s.left=n,e.head=e.head.next,s.right=m(e,a+1,i),s}return null}function p(e,t,i){var a=new r(null,null),n=a,s=e,o=t;while(null!==s&&null!==o)i(s.key,o.key)<0?(n.next=s,s=s.next):(n.next=o,o=o.next),n=n.next;return null!==s?n.next=s:null!==o&&(n.next=o),a.next}function f(e,t,i,r,a){if(!(i>=r)){var n=e[i+r>>1],s=i-1,o=r+1;while(1){do{s++}while(a(e[s],n)<0);do{o--}while(a(e[o],n)>0);if(s>=o)break;var l=e[s];e[s]=e[o],e[o]=l,l=t[s],t[s]=t[o],t[o]=l}f(e,t,i,o,a),f(e,t,o+1,r,a)}}var g=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},y=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var i=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,a=e.ll.y<t.ll.y?t.ll.y:e.ll.y,n=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:i,y:a},ur:{x:r,y:n}}},w=Number.EPSILON;void 0===w&&(w=Math.pow(2,-52));var x=w*w,b=function(e,t){if(-w<e&&e<w&&-w<t&&t<w)return 0;var i=e-t;return i*i<x*e*t?0:e<t?-1:1},_=function(){function t(){e(this,t),this.reset()}return i(t,[{key:"reset",value:function(){this.xRounder=new A,this.yRounder=new A}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),t}(),A=function(){function t(){e(this,t),this.tree=new h,this.round(0)}return i(t,[{key:"round",value:function(e){var t=this.tree.add(e),i=this.tree.prev(t);if(null!==i&&0===b(t.key,i.key))return this.tree.remove(e),i.key;var r=this.tree.next(t);return null!==r&&0===b(t.key,r.key)?(this.tree.remove(e),r.key):e}}]),t}(),S=new _,k=function(e,t){return e.x*t.y-e.y*t.x},E=function(e,t){return e.x*t.x+e.y*t.y},L=function(e,t,i){var r={x:t.x-e.x,y:t.y-e.y},a={x:i.x-e.x,y:i.y-e.y},n=k(r,a);return b(n,0)},C=function(e){return Math.sqrt(E(e,e))},P=function(e,t,i){var r={x:t.x-e.x,y:t.y-e.y},a={x:i.x-e.x,y:i.y-e.y};return k(a,r)/C(a)/C(r)},M=function(e,t,i){var r={x:t.x-e.x,y:t.y-e.y},a={x:i.x-e.x,y:i.y-e.y};return E(a,r)/C(a)/C(r)},F=function(e,t,i){return 0===t.y?null:{x:e.x+t.x/t.y*(i-e.y),y:i}},Z=function(e,t,i){return 0===t.x?null:{x:i,y:e.y+t.y/t.x*(i-e.x)}},D=function(e,t,i,r){if(0===t.x)return Z(i,r,e.x);if(0===r.x)return Z(e,t,i.x);if(0===t.y)return F(i,r,e.y);if(0===r.y)return F(e,t,i.y);var a=k(t,r);if(0==a)return null;var n={x:i.x-e.x,y:i.y-e.y},s=k(n,t)/a,o=k(n,r)/a,l=e.x+o*t.x,u=i.x+s*r.x,h=e.y+o*t.y,c=i.y+s*r.y,v=(l+u)/2,d=(h+c)/2;return{x:v,y:d}},N=function(){function t(i,r){e(this,t),void 0===i.events?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=r}return i(t,null,[{key:"compare",value:function(e,i){var r=t.comparePoints(e.point,i.point);return 0!==r?r:(e.point!==i.point&&e.link(i),e.isLeft!==i.isLeft?e.isLeft?1:-1:T.compare(e.segment,i.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),i(t,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,i=0,r=t.length;i<r;i++){var a=t[i];this.point.events.push(a),a.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var i=this.point.events[t];if(void 0===i.segment.consumedBy)for(var r=t+1;r<e;r++){var a=this.point.events[r];void 0===a.consumedBy&&(i.otherSE.point.events===a.otherSE.point.events&&i.segment.consume(a.segment))}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,i=this.point.events.length;t<i;t++){var r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,i=new Map,r=function(r){var a=r.otherSE;i.set(r,{sine:P(t.point,e.point,a.point),cosine:M(t.point,e.point,a.point)})};return function(e,t){i.has(e)||r(e),i.has(t)||r(t);var a=i.get(e),n=a.sine,s=a.cosine,o=i.get(t),l=o.sine,u=o.cosine;return n>=0&&l>=0?s<u?1:s>u?-1:0:n<0&&l<0?s<u?-1:s>u?1:0:l<n?-1:l>n?1:0}}}]),t}(),I=0,T=function(){function t(i,r,a,n){e(this,t),this.id=++I,this.leftSE=i,i.segment=this,i.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=i,this.rings=a,this.windings=n}return i(t,null,[{key:"compare",value:function(e,t){var i=e.leftSE.point.x,r=t.leftSE.point.x,a=e.rightSE.point.x,n=t.rightSE.point.x;if(n<i)return 1;if(a<r)return-1;var s=e.leftSE.point.y,o=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(i<r){if(o<s&&o<l)return 1;if(o>s&&o>l)return-1;var h=e.comparePoint(t.leftSE.point);if(h<0)return 1;if(h>0)return-1;var c=t.comparePoint(e.rightSE.point);return 0!==c?c:-1}if(i>r){if(s<o&&s<u)return-1;if(s>o&&s>u)return 1;var v=t.comparePoint(e.leftSE.point);if(0!==v)return v;var d=e.comparePoint(t.rightSE.point);return d<0?1:d>0?-1:1}if(s<o)return-1;if(s>o)return 1;if(a<n){var m=t.comparePoint(e.rightSE.point);if(0!==m)return m}if(a>n){var p=e.comparePoint(t.rightSE.point);if(p<0)return 1;if(p>0)return-1}if(a!==n){var f=l-s,g=a-i,y=u-o,w=n-r;if(f>g&&y<w)return 1;if(f<g&&y>w)return-1}return a>n?1:a<n||l<u?-1:l>u?1:e.id<t.id?-1:e.id>t.id?1:0}}]),i(t,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,i=this.rightSE.point,r=this.vector();if(t.x===i.x)return e.x===t.x?0:e.x<t.x?1:-1;var a=(e.y-t.y)/r.y,n=t.x+a*r.x;if(e.x===n)return 0;var s=(e.x-t.x)/r.x,o=t.y+s*r.y;return e.y===o?0:e.y<o?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),i=e.bbox(),r=y(t,i);if(null===r)return null;var a=this.leftSE.point,n=this.rightSE.point,s=e.leftSE.point,o=e.rightSE.point,l=g(t,s)&&0===this.comparePoint(s),u=g(i,a)&&0===e.comparePoint(a),h=g(t,o)&&0===this.comparePoint(o),c=g(i,n)&&0===e.comparePoint(n);if(u&&l)return c&&!h?n:!c&&h?o:null;if(u)return h&&a.x===o.x&&a.y===o.y?null:a;if(l)return c&&n.x===s.x&&n.y===s.y?null:s;if(c&&h)return null;if(c)return n;if(h)return o;var v=D(a,this.vector(),s,e.vector());return null===v?null:g(r,v)?S.round(v.x,v.y):null}},{key:"split",value:function(e){var i=[],r=void 0!==e.events,a=new N(e,!0),n=new N(e,!1),s=this.rightSE;this.replaceRightSE(n),i.push(n),i.push(a);var o=new t(a,s,this.rings.slice(),this.windings.slice());return N.comparePoints(o.leftSE.point,o.rightSE.point)>0&&o.swapEvents(),N.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(a.checkForConsuming(),n.checkForConsuming()),i}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,i=this.windings.length;t<i;t++)this.windings[t]*=-1}},{key:"consume",value:function(e){var i=this,r=e;while(i.consumedBy)i=i.consumedBy;while(r.consumedBy)r=r.consumedBy;var a=t.compare(i,r);if(0!==a){if(a>0){var n=i;i=r,r=n}if(i.prev===r){var s=i;i=r,r=s}for(var o=0,l=r.rings.length;o<l;o++){var u=r.rings[o],h=r.windings[o],c=i.rings.indexOf(u);-1===c?(i.rings.push(u),i.windings.push(h)):i.windings[c]+=h}r.rings=null,r.windings=null,r.consumedBy=i,r.leftSE.consumedBy=i.leftSE,r.rightSE.consumedBy=i.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,i=this._afterState.windings,r=this._afterState.multiPolys,a=0,n=this.rings.length;a<n;a++){var s=this.rings[a],o=this.windings[a],l=t.indexOf(s);-1===l?(t.push(s),i.push(o)):i[l]+=o}for(var u=[],h=[],c=0,v=t.length;c<v;c++)if(0!==i[c]){var d=t[c],m=d.poly;if(-1===h.indexOf(m))if(d.isExterior)u.push(m);else{-1===h.indexOf(m)&&h.push(m);var p=u.indexOf(d.poly);-1!==p&&u.splice(p,1)}}for(var f=0,g=u.length;f<g;f++){var y=u[f].multiPoly;-1===r.indexOf(y)&&r.push(y)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(J.type){case"union":var i=0===e.length,r=0===t.length;this._isInResult=i!==r;break;case"intersection":var a,n;e.length<t.length?(a=e.length,n=t.length):(a=t.length,n=e.length),this._isInResult=n===J.numMultiPolys&&a<n;break;case"xor":var s=Math.abs(e.length-t.length);this._isInResult=s%2===1;break;case"difference":var o=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=o(e)!==o(t);break;default:throw new Error("Unrecognized operation type found ".concat(J.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,i,r){var a,n,s,o=N.comparePoints(e,i);if(o<0)a=e,n=i,s=1;else{if(!(o>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));a=i,n=e,s=-1}var l=new N(a,!0),u=new N(n,!1);return new t(l,u,[r],[s])}}]),t}(),B=function(){function t(i,r,a){if(e(this,t),!Array.isArray(i)||0===i.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=a,this.segments=[],"number"!==typeof i[0][0]||"number"!==typeof i[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var n=S.round(i[0][0],i[0][1]);this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};for(var s=n,o=1,l=i.length;o<l;o++){if("number"!==typeof i[o][0]||"number"!==typeof i[o][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=S.round(i[o][0],i[o][1]);u.x===s.x&&u.y===s.y||(this.segments.push(T.fromRing(s,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),s=u)}n.x===s.x&&n.y===s.y||this.segments.push(T.fromRing(s,n,this))}return i(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,i=this.segments.length;t<i;t++){var r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}]),t}(),O=function(){function t(i,r){if(e(this,t),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new B(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,n=i.length;a<n;a++){var s=new B(i[a],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=r}return i(t,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,i=this.interiorRings.length;t<i;t++)for(var r=this.interiorRings[t].getSweepEvents(),a=0,n=r.length;a<n;a++)e.push(r[a]);return e}}]),t}(),R=function(){function t(i,r){if(e(this,t),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof i[0][0][0]&&(i=[i])}catch(o){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,n=i.length;a<n;a++){var s=new O(i[a],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=r}return i(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,i=this.polys.length;t<i;t++)for(var r=this.polys[t].getSweepEvents(),a=0,n=r.length;a<n;a++)e.push(r[a]);return e}}]),t}(),G=function(){function t(i){e(this,t),this.events=i;for(var r=0,a=i.length;r<a;r++)i[r].segment.ringOut=this;this.poly=null}return i(t,null,[{key:"factory",value:function(e){for(var i=[],r=0,a=e.length;r<a;r++){var n=e[r];if(n.isInResult()&&!n.ringOut){var s=null,o=n.leftSE,l=n.rightSE,u=[o],h=o.point,c=[];while(1){if(s=o,o=l,u.push(o),o.point===h)break;while(1){var v=o.getAvailableLinkedEvents();if(0===v.length){var d=u[0].point,m=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(d.x,",")+" ".concat(d.y,"]. Last matching segment found ends at")+" [".concat(m.x,", ").concat(m.y,"]."))}if(1===v.length){l=v[0].otherSE;break}for(var p=null,f=0,g=c.length;f<g;f++)if(c[f].point===o.point){p=f;break}if(null===p){c.push({index:u.length,point:o.point});var y=o.getLeftmostComparator(s);l=v.sort(y)[0].otherSE;break}var w=c.splice(p)[0],x=u.splice(w.index);x.unshift(x[0].otherSE),i.push(new t(x.reverse()))}}i.push(new t(u))}}return i}}]),i(t,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],i=1,r=this.events.length-1;i<r;i++){var a=this.events[i].point,n=this.events[i+1].point;0!==L(a,e,n)&&(t.push(a),e=a)}if(1===t.length)return null;var s=t[0],o=t[1];0===L(s,e,o)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:t.length-1,h=this.isExteriorRing()?t.length:-1,c=[],v=u;v!=h;v+=l)c.push([t[v].x,t[v].y]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,i=this.events.length;t<i;t++){var r=this.events[t];N.compare(e,r)>0&&(e=r)}var a=e.segment.prevInResult(),n=a?a.prevInResult():null;while(1){if(!a)return null;if(!n)return a.ringOut;if(n.ringOut!==a.ringOut)return n.ringOut.enclosingRing()!==a.ringOut?a.ringOut:a.ringOut.enclosingRing();a=n.prevInResult(),n=a?a.prevInResult():null}}}]),t}(),V=function(){function t(i){e(this,t),this.exteriorRing=i,i.poly=this,this.interiorRings=[]}return i(t,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,i=this.interiorRings.length;t<i;t++){var r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}]),t}(),z=function(){function t(i){e(this,t),this.rings=i,this.polys=this._composePolys(i)}return i(t,[{key:"getGeom",value:function(){for(var e=[],t=0,i=this.polys.length;t<i;t++){var r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}},{key:"_composePolys",value:function(e){for(var t=[],i=0,r=e.length;i<r;i++){var a=e[i];if(!a.poly)if(a.isExteriorRing())t.push(new V(a));else{var n=a.enclosingRing();n.poly||t.push(new V(n)),n.poly.addInterior(a)}}return t}}]),t}(),Y=function(){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.compare;e(this,t),this.queue=i,this.tree=new h(r),this.segments=[]}return i(t,[{key:"process",value:function(e){var t=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),i;var r=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!r)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");var a=r,n=r,s=void 0,o=void 0;while(void 0===s)a=this.tree.prev(a),null===a?s=null:void 0===a.key.consumedBy&&(s=a.key);while(void 0===o)n=this.tree.next(n),null===n?o=null:void 0===n.key.consumedBy&&(o=n.key);if(e.isLeft){var l=null;if(s){var u=s.getIntersection(t);if(null!==u&&(t.isAnEndpoint(u)||(l=u),!s.isAnEndpoint(u)))for(var h=this._splitSafely(s,u),c=0,v=h.length;c<v;c++)i.push(h[c])}var d=null;if(o){var m=o.getIntersection(t);if(null!==m&&(t.isAnEndpoint(m)||(d=m),!o.isAnEndpoint(m)))for(var p=this._splitSafely(o,m),f=0,g=p.length;f<g;f++)i.push(p[f])}if(null!==l||null!==d){var y=null;if(null===l)y=d;else if(null===d)y=l;else{var w=N.comparePoints(l,d);y=w<=0?l:d}this.queue.remove(t.rightSE),i.push(t.rightSE);for(var x=t.split(y),b=0,_=x.length;b<_;b++)i.push(x[b])}i.length>0?(this.tree.remove(t),i.push(e)):(this.segments.push(t),t.prev=s)}else{if(s&&o){var A=s.getIntersection(o);if(null!==A){if(!s.isAnEndpoint(A))for(var S=this._splitSafely(s,A),k=0,E=S.length;k<E;k++)i.push(S[k]);if(!o.isAnEndpoint(A))for(var L=this._splitSafely(o,A),C=0,P=L.length;C<P;C++)i.push(L[C])}}this.tree.remove(t)}return i}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var i=e.rightSE;this.queue.remove(i);var r=e.split(t);return r.push(i),void 0===e.consumedBy&&this.tree.insert(e),r}}]),t}(),U="undefined"!==typeof process&&{NODE_ENV:"production",BASE_URL:"/c2c_ui/master/"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,W="undefined"!==typeof process&&{NODE_ENV:"production",BASE_URL:"/c2c_ui/master/"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Q=function(){function t(){e(this,t)}return i(t,[{key:"run",value:function(e,t,i){J.type=e,S.reset();for(var r=[new R(t,!0)],a=0,n=i.length;a<n;a++)r.push(new R(i[a],!1));if(J.numMultiPolys=r.length,"difference"===J.type){var s=r[0],o=1;while(o<r.length)null!==y(r[o].bbox,s.bbox)?o++:r.splice(o,1)}if("intersection"===J.type)for(var l=0,u=r.length;l<u;l++)for(var c=r[l],v=l+1,d=r.length;v<d;v++)if(null===y(c.bbox,r[v].bbox))return[];for(var m=new h(N.compare),p=0,f=r.length;p<f;p++)for(var g=r[p].getSweepEvents(),w=0,x=g.length;w<x;w++)if(m.insert(g[w]),m.size>U)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");var b=new Y(m),_=m.size,A=m.pop();while(A){var k=A.key;if(m.size===_){var E=k.segment;throw new Error("Unable to pop() ".concat(k.isLeft?"left":"right"," SweepEvent ")+"[".concat(k.point.x,", ").concat(k.point.y,"] from segment #").concat(E.id," ")+"[".concat(E.leftSE.point.x,", ").concat(E.leftSE.point.y,"] -> ")+"[".concat(E.rightSE.point.x,", ").concat(E.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(m.size>U)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(b.segments.length>W)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var L=b.process(k),C=0,P=L.length;C<P;C++){var M=L[C];void 0===M.consumedBy&&m.insert(M)}_=m.size,A=m.pop()}S.reset();var F=G.factory(b.segments),Z=new z(F);return Z.getGeom()}}]),t}(),J=new Q,j=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J.run("union",e,i)},H=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J.run("intersection",e,i)},q=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J.run("xor",e,i)},X=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J.run("difference",e,i)},K={union:j,intersection:H,xor:q,difference:X};return K}))},65857:function(e,t,i){"use strict";e.exports=i.p+"img/levels-danger.5c2a565c.svg"},86236:function(e){"use strict";e.exports="data:image/avif;base64,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"},61070:function(e,t,i){"use strict";e.exports=i.p+"img/logo-ensg.b6185e88.jpg"},16448:function(e){"use strict";e.exports="data:image/webp;base64,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"},7085:function(e,t,i){"use strict";e.exports=i.p+"img/logo-fondation-petzl.05112e01.avif"},32102:function(e,t,i){"use strict";e.exports=i.p+"img/logo-fondation-petzl.c22c4824.jpg"},99576:function(e,t,i){"use strict";e.exports=i.p+"img/logo-fondation-petzl.671c0a48.webp"}}]);
//# sourceMappingURL=yeti.b1aebe6d.js.map