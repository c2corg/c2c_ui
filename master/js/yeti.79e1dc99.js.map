{"version":3,"file":"js/yeti.79e1dc99.js","mappings":"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AC,UAAAA,GACA,mBACA,EACAC,UAAAA,GACA,mBACA,EACAC,KAAAA,GACA,cACA,EACAC,MAAAA,GACA,eACA,EACAC,SAAAA,GACA,kBACA,EACAC,QAAAA,GACA,iBACA,EACAgC,WAAAA,GACA,yBACA,EACA/B,aAAAA,GACA,sBACA,EACAC,cAAAA,GACA,uBACA,EACAC,sBAAAA,GACA,+BACA,EACAC,SAAAA,GACA,kBACA,EACAG,eAAAA,GACA,wBACA,EACAC,sBAAAA,GACA,+BACA,EACAC,YAAAA,GACA,qBACA,EACAwB,eAAAA,GACA,6BACA,EACAvB,eAAAA,GACA,wBACA,EACAC,iBAAAA,GACA,0BACA,EACAC,kBAAAA,GACA,2BACA,EACAC,OAAAA,GACA,gBACA,EACAC,WAAAA,GACA,oBACA,EACAC,KAAAA,GACA,cACA,EACAC,SAAAA,GACA,kBACA,EACAC,QAAAA,GACA,iBACA,EACAC,YAAAA,GACA,qBACA,EACAC,aAAAA,GACA,sBACA,EACAC,iBAAAA,GACA,0BACA,EACAC,gBAAAA,GACA,yBACA,EACAC,IAAAA,GACA,aACA,EACAC,QAAAA,GACA,iBACA,EACAC,OAAAA,GACA,gBACA,EACAC,QAAAA,GACA,iBACA,EACAC,sBAAAA,GACA,+BACA,GAEA5D,QAAAA,CAEAoE,OAAAA,CAAAA,GACAP,EAAAA,KAAAA,CACA,EACAQ,YAAAA,CAAAA,GACAR,EAAAA,UAAAA,CACA,EACAS,MAAAA,CAAAA,EAAAA,GACAT,EAAAA,IAAAA,GAAAA,CACA,EACAU,SAAAA,CAAAA,EAAAA,GACAV,EAAAA,OAAAA,GAAAA,CACA,EACAW,qBAAAA,CAAAA,GACAX,EAAAA,mBAAAA,CACA,EACAY,uBAAAA,CAAAA,GACAZ,EAAAA,qBAAAA,CACA,EACAa,4BAAAA,CAAAA,EAAAA,GAGA,oBACA,yBACA,qCAGA,mCACA,EACAC,WAAAA,CAAAA,GACAd,EAAAA,SAAAA,CACA,EACAe,SAAAA,CAAAA,GACAf,EAAAA,OAAAA,EACA,GACA,oBAEA,EACAgB,WAAAA,CAAAA,GACAhB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","sources":["webpack://c2c_ui/./src/views/portals/YetiView.vue","webpack://c2c_ui/./src/components/yeti/Article.vue","webpack://c2c_ui/./src/components/yeti/SubPanelTitle.vue","webpack://c2c_ui/./src/components/yeti/SubPanelTitle.vue?70f4","webpack://c2c_ui/src/components/yeti/Article.vue","webpack://c2c_ui/./src/components/yeti/Article.vue?4470","webpack://c2c_ui/./src/components/yeti/Article.vue?e0e2","webpack://c2c_ui/./src/components/yeti/Panel.vue","webpack://c2c_ui/src/components/yeti/Yetix.vue","webpack://c2c_ui/./src/components/yeti/Yetix.vue","webpack://c2c_ui/./src/components/yeti/Yetix.vue?fc9b","webpack://c2c_ui/src/components/yeti/Panel.vue","webpack://c2c_ui/./src/components/yeti/Panel.vue?ed81","webpack://c2c_ui/./src/components/yeti/Panel.vue?88f7","webpack://c2c_ui/./src/components/yeti/SubPanelBra.vue","webpack://c2c_ui/./src/components/yeti/Counter.vue","webpack://c2c_ui/src/components/yeti/Counter.vue","webpack://c2c_ui/./src/components/yeti/Counter.vue?203e","webpack://c2c_ui/./src/components/yeti/Counter.vue?1d54","webpack://c2c_ui/./src/components/yeti/DropdownContent.vue","webpack://c2c_ui/src/components/yeti/DropdownContent.vue","webpack://c2c_ui/./src/components/yeti/DropdownContent.vue?dcd3","webpack://c2c_ui/./src/components/yeti/DropdownContent.vue?b696","webpack://c2c_ui/./src/components/yeti/Info.vue","webpack://c2c_ui/src/components/yeti/Info.vue","webpack://c2c_ui/./src/components/yeti/Info.vue?9f48","webpack://c2c_ui/./src/components/yeti/Info.vue?79eb","webpack://c2c_ui/src/components/yeti/SubPanelBra.vue","webpack://c2c_ui/./src/components/yeti/SubPanelBra.vue?f6f2","webpack://c2c_ui/./src/components/yeti/SubPanelBra.vue?bf21","webpack://c2c_ui/./src/components/yeti/SubPanelCourse.vue","webpack://c2c_ui/./src/components/yeti/EditModeButton.vue","webpack://c2c_ui/src/components/yeti/EditModeButton.vue","webpack://c2c_ui/./src/components/yeti/EditModeButton.vue?cedd","webpack://c2c_ui/./src/components/yeti/EditModeButton.vue?8c36","webpack://c2c_ui/./src/components/yeti/ElevationProfile.vue","webpack://c2c_ui/./src/components/yeti/map-layers/simplify.js","webpack://c2c_ui/src/components/yeti/ElevationProfile.vue","webpack://c2c_ui/./src/components/yeti/ElevationProfile.vue?3203","webpack://c2c_ui/./src/components/yeti/ElevationProfile.vue?4c14","webpack://c2c_ui/./src/components/yeti/FeaturesList.vue","webpack://c2c_ui/src/components/yeti/FeaturesList.vue","webpack://c2c_ui/./src/components/yeti/FeaturesList.vue?de61","webpack://c2c_ui/./src/components/yeti/FeaturesList.vue?737b","webpack://c2c_ui/./src/components/yeti/SimplifyTool.vue","webpack://c2c_ui/src/components/yeti/SimplifyTool.vue","webpack://c2c_ui/./src/components/yeti/SimplifyTool.vue?7d3d","webpack://c2c_ui/./src/components/yeti/SimplifyTool.vue?ae11","webpack://c2c_ui/src/components/yeti/SubPanelCourse.vue","webpack://c2c_ui/./src/components/yeti/SubPanelCourse.vue?f01a","webpack://c2c_ui/./src/components/yeti/SubPanelCourse.vue?ed14","webpack://c2c_ui/./src/components/yeti/SubPanelLayers.vue","webpack://c2c_ui/./src/components/yeti/LayerButton.vue","webpack://c2c_ui/./src/components/yeti/Toast.vue","webpack://c2c_ui/src/components/yeti/Toast.vue","webpack://c2c_ui/./src/components/yeti/Toast.vue?7db4","webpack://c2c_ui/./src/components/yeti/Toast.vue?1a14","webpack://c2c_ui/src/components/yeti/LayerButton.vue","webpack://c2c_ui/./src/components/yeti/LayerButton.vue?00ec","webpack://c2c_ui/./src/components/yeti/LayerButton.vue?86ed","webpack://c2c_ui/./src/components/yeti/Slider.vue","webpack://c2c_ui/src/components/yeti/Slider.vue","webpack://c2c_ui/./src/components/yeti/Slider.vue?e788","webpack://c2c_ui/./src/components/yeti/Slider.vue?b169","webpack://c2c_ui/src/components/yeti/SubPanelLayers.vue","webpack://c2c_ui/./src/components/yeti/SubPanelLayers.vue?1ec0","webpack://c2c_ui/./src/components/yeti/SubPanelLayers.vue?0ac2","webpack://c2c_ui/./src/components/yeti/SubPanelMeteo.vue","webpack://c2c_ui/src/components/yeti/SubPanelMeteo.vue","webpack://c2c_ui/./src/components/yeti/SubPanelMeteo.vue?3bee","webpack://c2c_ui/./src/components/yeti/SubPanelMeteo.vue?43f7","webpack://c2c_ui/./src/components/yeti/SubPanelMethods.vue","webpack://c2c_ui/src/components/yeti/SubPanelMethods.vue","webpack://c2c_ui/./src/components/yeti/map-layers/BaseLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/SlopesLayers.vue","webpack://c2c_ui/./src/components/yeti/SubPanelMethods.vue?6851","webpack://c2c_ui/./src/components/yeti/SubPanelMethods.vue?da38","webpack://c2c_ui/./src/components/yeti/Tabs.vue","webpack://c2c_ui/src/components/yeti/Tabs.vue","webpack://c2c_ui/./src/components/yeti/Tabs.vue?e8d4","webpack://c2c_ui/./src/components/yeti/Tabs.vue?4e23","webpack://c2c_ui/./src/components/yeti/ValidationButton.vue","webpack://c2c_ui/src/components/yeti/ValidationButton.vue","webpack://c2c_ui/./src/components/yeti/ValidationButton.vue?8804","webpack://c2c_ui/./src/components/yeti/ValidationButton.vue?e8fe","webpack://c2c_ui/./src/components/yeti/YetiMap.vue","webpack://c2c_ui/./src/components/yeti/map-layers/MapLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/layer.js","webpack://c2c_ui/src/components/yeti/map-layers/BaseLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/BaseLayers.vue?c05a","webpack://c2c_ui/src/components/yeti/map-layers/SlopesLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/SlopesLayers.vue?2a36","webpack://c2c_ui/src/components/yeti/map-layers/MapLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/MapLayers.vue?1ac0","webpack://c2c_ui/./src/components/yeti/map-layers/MapLayers.vue?95cb","webpack://c2c_ui/./src/components/yeti/map-layers/OverlaysLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AvalancheBulletinsLayer.vue","webpack://c2c_ui/./node_modules/bignumber.js/bignumber.mjs","webpack://c2c_ui/./node_modules/splaytree-ts/dist/esm/index.js","webpack://c2c_ui/./node_modules/polyclip-ts/dist/esm/index.js","webpack://c2c_ui/./node_modules/@turf/difference/dist/esm/index.js","webpack://c2c_ui/./node_modules/@turf/intersect/dist/esm/index.js","webpack://c2c_ui/./src/components/yeti/map-layers/DangerLevel.vue","webpack://c2c_ui/src/components/yeti/map-layers/DangerLevel.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DangerLevel.vue?2bd2","webpack://c2c_ui/./src/components/yeti/map-layers/DangerLevel.vue?4772","webpack://c2c_ui/src/components/yeti/map-layers/AvalancheBulletinsLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AvalancheBulletinsLayer.vue?c29f","webpack://c2c_ui/./src/components/yeti/map-layers/AvalancheBulletinsLayer.vue?71ae","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/IconLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/IconLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/IconLayer.vue?caff","webpack://c2c_ui/./src/components/yeti/map-layers/IconLayer.vue?bd0d","webpack://c2c_ui/./src/components/yeti/map-layers/getIconLayer.js","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayerContent.vue","webpack://c2c_ui/src/components/yeti/map-layers/DataAvalancheLayerContent.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayerContent.vue?9d26","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayerContent.vue?6477","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayerContentTitle.vue","webpack://c2c_ui/src/components/yeti/map-layers/DataAvalancheLayerContentTitle.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayerContentTitle.vue?c170","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayerContentTitle.vue?338b","webpack://c2c_ui/src/components/yeti/map-layers/DataAvalancheLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayer.vue?cad5","webpack://c2c_ui/./src/components/yeti/map-layers/DataAvalancheLayer.vue?8c0f","webpack://c2c_ui/./src/components/yeti/map-layers/FfvlLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/FfvlLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/FfvlLayer.vue?0025","webpack://c2c_ui/./src/components/yeti/map-layers/FfvlLayer.vue?fa25","webpack://c2c_ui/./src/components/yeti/map-layers/FlowcaptLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/FlowcaptLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/FlowcaptLayer.vue?e12b","webpack://c2c_ui/./src/components/yeti/map-layers/FlowcaptLayer.vue?b3e3","webpack://c2c_ui/src/components/yeti/map-layers/MeteoLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/MeteoLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/MeteoLayer.vue?7cd0","webpack://c2c_ui/./src/components/yeti/map-layers/NivosesLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/NivosesLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/NivosesLayer.vue?ff7d","webpack://c2c_ui/./src/components/yeti/map-layers/NivosesLayer.vue?1569","webpack://c2c_ui/./src/components/yeti/map-layers/ProtectedAreasLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/ProtectedAreasLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/ProtectedAreasLayer.vue?d1f4","webpack://c2c_ui/./src/components/yeti/map-layers/ProtectedAreasLayer.vue?ca8e","webpack://c2c_ui/./src/components/yeti/map-layers/RommaLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/RommaLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/RommaLayer.vue?159a","webpack://c2c_ui/./src/components/yeti/map-layers/RommaLayer.vue?19d4","webpack://c2c_ui/./src/components/yeti/map-layers/RouteLayer.vue","webpack://c2c_ui/src/components/yeti/map-layers/RouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/RouteLayer.vue?1578","webpack://c2c_ui/./src/components/yeti/map-layers/RouteLayer.vue?3a26","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerContent.vue","webpack://c2c_ui/src/components/yeti/map-layers/WinterRouteLayerContent.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerContent.vue?e398","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerContent.vue?699d","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerContentTitle.vue","webpack://c2c_ui/src/components/yeti/map-layers/WinterRouteLayerContentTitle.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerContentTitle.vue?d63d","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerContentTitle.vue?bec4","webpack://c2c_ui/src/components/yeti/map-layers/WinterRouteLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayer.vue?3bbc","webpack://c2c_ui/src/components/yeti/map-layers/OverlaysLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/OverlaysLayers.vue?9718","webpack://c2c_ui/./src/components/yeti/map-layers/OverlaysLayers.vue?9ae6","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AreaLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/layer-selector-watcher.js","webpack://c2c_ui/src/components/yeti/map-layers/AreaLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/AreaLayer.vue?d50d","webpack://c2c_ui/./src/components/yeti/map-layers/AreaLayer.vue?108b","webpack://c2c_ui/src/components/yeti/map-layers/YetiLayer.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayer.vue?8eb2","webpack://c2c_ui/src/components/yeti/map-layers/YetiLayers.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayers.vue?dfb6","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayers.vue?3e4f","webpack://c2c_ui/./src/components/yeti/YetiMapLegend.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerLegend.vue","webpack://c2c_ui/src/components/yeti/map-layers/WinterRouteLayerLegend.vue","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerLegend.vue?97a4","webpack://c2c_ui/./src/components/yeti/map-layers/WinterRouteLayerLegend.vue?e666","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayerLegend.vue","webpack://c2c_ui/src/components/yeti/map-layers/YetiLayerLegend.vue","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayerLegend.vue?fd53","webpack://c2c_ui/./src/components/yeti/map-layers/YetiLayerLegend.vue?d240","webpack://c2c_ui/src/components/yeti/YetiMapLegend.vue","webpack://c2c_ui/./src/components/yeti/YetiMapLegend.vue?33fa","webpack://c2c_ui/./src/components/yeti/YetiMapLegend.vue?4bb5","webpack://c2c_ui/src/components/yeti/YetiMap.vue","webpack://c2c_ui/./src/components/yeti/YetiMap.vue?e142","webpack://c2c_ui/./src/components/yeti/YetiMap.vue?4247","webpack://c2c_ui/src/views/portals/YetiView.vue","webpack://c2c_ui/./src/views/portals/YetiView.vue?1f73","webpack://c2c_ui/./src/views/portals/YetiView.vue?4e9b","webpack://c2c_ui/./src/assets/img/yeti/layers/ sync ^\\.\\/.*$","webpack://c2c_ui/./src/assets/img/yeti/legends/ sync ^\\.\\/.*$","webpack://c2c_ui/./node_modules/core-js/internals/dom-exception-constants.js","webpack://c2c_ui/./node_modules/core-js/internals/error-to-string.js","webpack://c2c_ui/./node_modules/core-js/internals/map-helpers.js","webpack://c2c_ui/./node_modules/core-js/modules/es.aggregate-error.constructor.js","webpack://c2c_ui/./node_modules/core-js/modules/es.aggregate-error.js","webpack://c2c_ui/./node_modules/core-js/modules/es.promise.any.js","webpack://c2c_ui/./node_modules/core-js/modules/es.string.replace-all.js","webpack://c2c_ui/./node_modules/core-js/modules/web.dom-exception.constructor.js","webpack://c2c_ui/./node_modules/core-js/modules/web.dom-exception.stack.js","webpack://c2c_ui/./node_modules/core-js/modules/web.dom-exception.to-string-tag.js","webpack://c2c_ui/./node_modules/core-js/modules/web.structured-clone.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"section yeti-app\"},[_c('html-header',{attrs:{\"title\":\"YETI\"}}),_vm._v(\" \"),(_vm.showDisclaimer)?_c('div',{staticClass:\"box yeti-overlay\"},[_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('form',{attrs:{\"action\":\"#\"},on:{\"submit\":_vm.onSubmitDisclaimer}},[_c('input-checkbox',{model:{value:(_vm.checkDisclaimer),callback:function ($$v) {_vm.checkDisclaimer=$$v},expression:\"checkDisclaimer\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I read and understood the interest and limitations of YETI\")])]),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",attrs:{\"disabled\":!_vm.checkDisclaimer}},[_vm._v(\"Launch YETI\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.$route.params.page === 'faq')?_c('div',{staticClass:\"box yeti-overlay\"},[_c('p',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"to\":\".\"}},[_vm._v(\"Go back to YETI\")])],1),_vm._v(\" \"),_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('yeti-article',{attrs:{\"article\":_vm.articles.faq}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns yeti-content\"},[_c('div',{staticClass:\"column is-5-tablet is-5-desktop is-4-fullhd form-container\"},[_c('div',{staticClass:\"columns is-mobile is-justify-content-space-between mb-5\"},[_vm._m(0),_vm._v(\" \"),_c('ul',{staticClass:\"column is-narrow pb-0\"},[_c('li',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-block yetitabs-link\",attrs:{\"to\":_vm.$route.fullPath + '/faq'}},[_vm._v(\"\\n                FAQ?\\n              \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"columns mb-0 is-mobile\"},[_c('tabs',{attrs:{\"tabs\":_vm.tabs}})],1),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('panel',{attrs:{\"index\":0}},[_c('sub-panel-layers')],1),_vm._v(\" \"),_c('panel',{attrs:{\"index\":1}},[_c('validation-button',{staticClass:\"is-hidden-mobile yeti-validation--top\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise,\"tabindex\":\"-1\"},on:{\"click\":_vm.compute}}),_vm._v(\" \"),_c('sub-panel-bra'),_vm._v(\" \"),_c('sub-panel-methods',{on:{\"warn-about-method-bra\":_vm.warnAboutMethodBra}}),_vm._v(\" \"),_c('validation-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type),expression:\"method.type\"}],staticClass:\"yeti-validation--bottom\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise},on:{\"click\":_vm.compute}})],1),_vm._v(\" \"),_c('panel',{attrs:{\"index\":2}},[_c('sub-panel-course')],1),_vm._v(\" \"),_c('panel',{attrs:{\"index\":3}},[_c('sub-panel-meteo')],1)],1),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),_c('yeti-map',{ref:\"map\"})],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"is-flex is-align-items-center yeti-title\"},[_c('h1',{staticClass:\"ml-3 mr-1 px-2 has-text-weight-bold has-background-primary has-text-white\"},[_vm._v(\"YETI\")]),_vm._v(\" \"),_c('p',{staticClass:\"has-text-primary\"},[_vm._v(\"Prparez votre course\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box yeti-logos\"},[_c('div',{staticClass:\"columns is-mobile is-vcentered\"},[_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"http://www.geodata-paris.fr\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-geodataparis.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-geodataparis.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-geodataparis.jpg\"),\"alt\":\"Logo Godata Paris\",\"loading\":\"lazy\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"https://www.petzl.com/fondation/fondation-petzl?language=fr\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-fondation-petzl.jpg\"),\"alt\":\"Logo Fondation Petzl\",\"width\":\"90\",\"loading\":\"lazy\"}})])])])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.document)?_c('div',{staticClass:\"yeti-article\"},[_c('sub-panel-title',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('markdown-section',{attrs:{\"document\":_vm.document,\"field\":_vm.fields.description,\"hide-title\":\"\"}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('h2',{staticClass:\"title is-6\"},[_vm._t(\"default\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SubPanelTitle.vue?vue&type=template&id=7bc9fc37&scoped=true\"\nvar script = {}\nimport style0 from \"./SubPanelTitle.vue?vue&type=style&index=0&id=7bc9fc37&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bc9fc37\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-article\" v-if=\"document\">\n    <sub-panel-title>{{ title }}</sub-panel-title>\n    <markdown-section :document=\"document\" :field=\"fields.description\" hide-title></markdown-section>\n  </div>\n</template>\n\n<script>\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport c2c from '@/js/apis/c2c';\nimport constants from '@/js/constants';\nimport MarkdownSection from '@/views/document/utils/field-viewers/MarkdownSection';\n\nexport default {\n  components: {\n    SubPanelTitle,\n    MarkdownSection,\n  },\n  props: {\n    article: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      promise: null,\n    };\n  },\n  computed: {\n    id() {\n      return this.article.id;\n    },\n    title() {\n      return this.article.title;\n    },\n    document() {\n      return this.promise?.data ?? null;\n    },\n    fields() {\n      return constants.objectDefinitions.article.fields;\n    },\n    lang() {\n      return this.$language.current;\n    },\n  },\n  watch: {\n    lang() {\n      this.cookDocument();\n    },\n  },\n  mounted() {\n    this.cookDocument();\n  },\n  methods: {\n    cookDocument() {\n      // get document, and set promise only in then (no FOIT)\n      c2c.article.getCooked(this.id, this.$language.current).then((result) => {\n        this.promise = result;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yeti-article {\n  max-width: 1039px;\n  margin-top: 1.75em;\n}\n:deep(h3) {\n  margin-top: 2em;\n}\n:deep(p) {\n  margin: 1em 0;\n}\n:deep(ul) {\n  list-style-type: disc;\n}\n:deep(figure) img {\n  max-width: 90%;\n  max-height: 500px;\n}\n.yeti-article--disclaimer :deep(li) {\n  margin: 2em 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Article.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Article.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=6c55e92e&scoped=true\"\nimport script from \"./Article.vue?vue&type=script&lang=js\"\nexport * from \"./Article.vue?vue&type=script&lang=js\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=6c55e92e&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c55e92e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-panel\",attrs:{\"role\":\"tabpanel\",\"id\":'panel' + _vm.index,\"aria-labelledby\":'tab' + _vm.index,\"hidden\":_vm.activeTab !== _vm.index}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/*\n * Yetix\n * State management component for Yeti (VueX inspired)\n *\n * - Read-only state\n * - State mutations can only occur here\n * - Actions call API\n */\n\nimport axios from 'axios';\nimport Vue from 'vue';\n\nimport ol from '@/js/libs/ol';\n\nlet defaultState = {\n  API_URL: 'https://api.ensg.eu/',\n  BLEND_MODES_CLASS_NAME: 'areas',\n  BLEND_MODES_MAX_ZOOM: 10,\n  BLEND_MODES_MIN_ZOOM: 8,\n  DANGER_MAX_WHEN_MRD: 3,\n  VALID_MINIMUM_MAP_ZOOM: 13,\n  YETI_LAYER_OPACITY: 0.9,\n  /* fixed zoom by 0.5 */\n  ZOOM_DELTA: 0.5,\n\n  tabs: [],\n  activeTab: 0,\n\n  bra: {\n    high: null,\n    low: null,\n    altiThreshold: null,\n    isDifferent: false,\n  },\n\n  method: {\n    type: null,\n    orientation: [],\n    potentialDanger: null,\n    wetSnow: false,\n    groupSize: 1,\n  },\n\n  // base/slopes layers\n  baseLayersSelector: [],\n  slopesLayersSelector: [],\n\n  // yeti layers\n  yetiLayersSelector: [],\n  showYeti: false,\n  yetiOk: false,\n\n  yetiData: null,\n  yetiExtent: [],\n  yetiLegend: null,\n\n  areas: [],\n  areaOk: true,\n  showAreas: false,\n\n  features: [],\n  featuresTitle: 'New route',\n  featuresLength: 0,\n\n  // overlays selector\n  overlaysLayersSelector: [],\n\n  mountains: {\n    all: [],\n    visible: [],\n  },\n  bulletinsLoaded: false,\n  showAvalancheBulletins: false,\n\n  winterRoutes: [],\n  showWinterRoute: false,\n  winterRouteLegend: null,\n\n  showProtectedAreas: false,\n\n  nivoses: [],\n  showNivoses: false,\n\n  romma: [],\n  showRomma: false,\n\n  flowcapt: [],\n  showFlowcapt: false,\n\n  dataAvalanche: [],\n  showDataAvalanche: false,\n  dataAvalancheAll: false,\n\n  ffvl: [],\n  showFfvl: false,\n\n  mapZoom: 0,\n  editMode: false,\n\n  validSimplifyTolerance: false,\n};\n\n/**\n * Read-only reactive state\n *\n * A copy of `defaultState` without reference (to be able to reset default state)\n */\nlet state = Vue.observable(JSON.parse(JSON.stringify(defaultState)));\n\n/**\n * Exported state\n *\n * Computed act as getters for read-only state properties Methods act as mutations (to mutate state) or actions (api\n * calls)\n */\nexport default new Vue({\n  name: 'Yeti',\n  computed: {\n    BLEND_MODES_CLASS_NAME() {\n      return state.BLEND_MODES_CLASS_NAME;\n    },\n    BLEND_MODES_MAX_ZOOM() {\n      return state.BLEND_MODES_MAX_ZOOM;\n    },\n    BLEND_MODES_MIN_ZOOM() {\n      return state.BLEND_MODES_MIN_ZOOM;\n    },\n    DANGER_MAX_WHEN_MRD() {\n      return state.DANGER_MAX_WHEN_MRD;\n    },\n    VALID_MINIMUM_MAP_ZOOM() {\n      return state.VALID_MINIMUM_MAP_ZOOM;\n    },\n    YETI_LAYER_OPACITY() {\n      return state.YETI_LAYER_OPACITY;\n    },\n    ZOOM_DELTA() {\n      return state.ZOOM_DELTA;\n    },\n    tabs() {\n      return state.tabs;\n    },\n    activeTab() {\n      return state.activeTab;\n    },\n    bra() {\n      return state.bra;\n    },\n    method() {\n      return state.method;\n    },\n    baseLayersSelector() {\n      return state.baseLayersSelector;\n    },\n    slopesLayersSelector() {\n      return state.slopesLayersSelector;\n    },\n    yetiLayersSelector() {\n      return state.yetiLayersSelector;\n    },\n    showYeti() {\n      return state.showYeti;\n    },\n    yetiOk() {\n      return state.yetiOk;\n    },\n    yetiData() {\n      return state.yetiData;\n    },\n    yetiExtent() {\n      return state.yetiExtent;\n    },\n    yetiLegend() {\n      return state.yetiLegend;\n    },\n    areas() {\n      return state.areas;\n    },\n    areaOk() {\n      return state.areaOk;\n    },\n    showAreas() {\n      return state.showAreas;\n    },\n    features() {\n      return state.features;\n    },\n    hasFeatures() {\n      return !!state.features.length;\n    },\n    featuresTitle() {\n      return state.featuresTitle;\n    },\n    featuresLength() {\n      return state.featuresLength;\n    },\n    overlaysLayersSelector() {\n      return state.overlaysLayersSelector;\n    },\n    mountains() {\n      return state.mountains;\n    },\n    bulletinsLoaded() {\n      return state.bulletinsLoaded;\n    },\n    showAvalancheBulletins() {\n      return state.showAvalancheBulletins;\n    },\n    winterRoutes() {\n      return state.winterRoutes;\n    },\n    hasWinterRoutes() {\n      return !!state.winterRoutes.length;\n    },\n    showWinterRoute() {\n      return state.showWinterRoute;\n    },\n    winterRouteLegend() {\n      return state.winterRouteLegend;\n    },\n    showProtectedAreas() {\n      return state.showProtectedAreas;\n    },\n    nivoses() {\n      return state.nivoses;\n    },\n    showNivoses() {\n      return state.showNivoses;\n    },\n    romma() {\n      return state.romma;\n    },\n    showRomma() {\n      return state.showRomma;\n    },\n    flowcapt() {\n      return state.flowcapt;\n    },\n    showFlowcapt() {\n      return state.showFlowcapt;\n    },\n    dataAvalanche() {\n      return state.dataAvalanche;\n    },\n    showDataAvalanche() {\n      return state.showDataAvalanche;\n    },\n    dataAvalancheAll() {\n      return state.dataAvalancheAll;\n    },\n    ffvl() {\n      return state.ffvl;\n    },\n    showFfvl() {\n      return state.showFfvl;\n    },\n    mapZoom() {\n      return state.mapZoom;\n    },\n    editMode() {\n      return state.editMode;\n    },\n    validSimplifyTolerance() {\n      return state.validSimplifyTolerance;\n    },\n  },\n  methods: {\n    // mutations\n    setTabs(tabs) {\n      state.tabs = tabs;\n    },\n    setActiveTab(index) {\n      state.activeTab = index;\n    },\n    setBra(prop, value) {\n      state.bra[prop] = value;\n    },\n    setMethod(prop, value) {\n      state.method[prop] = value;\n    },\n    setBaseLayersSelector(layers) {\n      state.baseLayersSelector = layers;\n    },\n    setSlopesLayersSelector(layers) {\n      state.slopesLayersSelector = layers;\n    },\n    addLayerToYetiLayersSelector(layer, index) {\n      // to keep reactivity AND order in array\n      // we need to fill array first with empty data\n      for (let i = 0; i < index; i++) {\n        if (!state.yetiLayersSelector[i]) {\n          this.$set(state.yetiLayersSelector, i, {});\n        }\n      }\n      this.$set(state.yetiLayersSelector, index, layer);\n    },\n    setShowYeti(showYeti) {\n      state.showYeti = showYeti;\n    },\n    setYetiOk(yetiOk) {\n      state.yetiOk = yetiOk;\n      if (yetiOk) {\n        this.setShowYeti(true);\n      }\n    },\n    setYetiData(yetiData) {\n      state.yetiData = yetiData;\n    },\n    setYetiExtent(yetiExtent) {\n      state.yetiExtent = yetiExtent;\n    },\n    setYetiLegend(yetiLegend) {\n      state.yetiLegend = yetiLegend;\n    },\n    setAreas(areas) {\n      state.areas = areas;\n    },\n    setAreaOk(areaOk) {\n      state.areaOk = areaOk;\n    },\n    setShowAreas(showAreas) {\n      state.showAreas = showAreas;\n    },\n    setFeatures(features) {\n      state.features = features;\n\n      // store features in localstorage\n      let coords = features.map((feature) => {\n        return feature\n          .getGeometry()\n          .getCoordinates()\n          .map((coords) => {\n            // round coords to 1 meter\n            return [Math.round(coords[0]), Math.round(coords[1]), Math.round(coords[2])];\n          });\n      });\n      this.$localStorage.set('yeti-map-features', coords);\n    },\n    setFeaturesTitle(featuresTitle) {\n      state.featuresTitle = featuresTitle;\n\n      // store features title in localstorage\n      this.$localStorage.set('yeti-map-features-title', featuresTitle);\n    },\n    setFeaturesLength(featuresLength) {\n      state.featuresLength = featuresLength;\n    },\n    addLayerToOverlaysLayersSelector(layer, index) {\n      // to keep reactivity AND order in array\n      // we need to fill array first with empty data\n      for (let i = 0; i < index; i++) {\n        if (!state.overlaysLayersSelector[i]) {\n          this.$set(state.overlaysLayersSelector, i, {});\n        }\n      }\n      this.$set(state.overlaysLayersSelector, index, layer);\n    },\n    setAllMountains(mountains) {\n      state.mountains.all = mountains;\n    },\n    setVisibleMountains(mountains) {\n      state.mountains.visible = mountains;\n    },\n    setShowAvalancheBulletins(showAvalancheBulletins) {\n      state.showAvalancheBulletins = showAvalancheBulletins;\n      this.setOverlaysToLocalStorage({ avalanche: showAvalancheBulletins });\n    },\n    setBulletinsLoaded(bool) {\n      state.bulletinsLoaded = bool;\n    },\n    setWinterRoutes(routes) {\n      state.winterRoutes = routes;\n    },\n    setShowWinterRoute(showWinterRoute) {\n      state.showWinterRoute = showWinterRoute;\n      this.setOverlaysToLocalStorage({ winterRoute: showWinterRoute });\n    },\n    setWinterRouteLegend(winterRouteLegend) {\n      state.winterRouteLegend = winterRouteLegend;\n    },\n    setShowProtectedAreas(showProtectedAreas) {\n      state.showProtectedAreas = showProtectedAreas;\n      this.setOverlaysToLocalStorage({ protectedAreas: showProtectedAreas });\n    },\n    setNivoses(nivoses) {\n      state.nivoses = nivoses;\n    },\n    setShowNivoses(showNivoses) {\n      state.showNivoses = showNivoses;\n      this.setOverlaysToLocalStorage({ nivoses: showNivoses });\n    },\n    setRomma(romma) {\n      state.romma = romma;\n    },\n    setShowRomma(showRomma) {\n      state.showRomma = showRomma;\n      this.setOverlaysToLocalStorage({ romma: showRomma });\n    },\n    setFlowcapt(flowcapt) {\n      state.flowcapt = flowcapt;\n    },\n    setShowFlowcapt(showFlowcapt) {\n      state.showFlowcapt = showFlowcapt;\n      this.setOverlaysToLocalStorage({ flowcapt: showFlowcapt });\n    },\n    setDataAvalanche(dataAvalanche) {\n      state.dataAvalanche = dataAvalanche;\n    },\n    setShowDataAvalanche(showDataAvalanche) {\n      state.showDataAvalanche = showDataAvalanche;\n      this.setOverlaysToLocalStorage({ dataAvalanche: showDataAvalanche });\n    },\n    setDataAvalancheAll(dataAvalancheAll) {\n      state.dataAvalancheAll = dataAvalancheAll;\n    },\n    setFfvl(ffvl) {\n      state.ffvl = ffvl;\n    },\n    setShowFfvl(showFfvl) {\n      state.showFfvl = showFfvl;\n      this.setOverlaysToLocalStorage({ ffvl: showFfvl });\n    },\n    setMapZoom(mapZoom) {\n      state.mapZoom = mapZoom;\n    },\n    setEditMode(editMode) {\n      state.editMode = editMode;\n    },\n    setValidSimplifyTolerance(validSimplifyTolerance) {\n      state.validSimplifyTolerance = validSimplifyTolerance;\n      // when validSimplifyTolerance is OK\n      // check state for editMode:\n      // if it's on, store it (tmp), and retrieve state later\n      if (validSimplifyTolerance) {\n        if (state.editMode) {\n          state.tmpEditMode = true;\n          this.setEditMode(false);\n        }\n      } else {\n        if (state.tmpEditMode) {\n          this.setEditMode(true);\n          delete state.tmpEditMode;\n        }\n      }\n    },\n    setDefault() {\n      // revert all state properties to default\n      for (let i in state) {\n        if (typeof state[i] === 'object' && !Array.isArray(state[i])) {\n          for (let j in state[i]) {\n            state[i][j] = defaultState[i][j];\n          }\n        } else {\n          state[i] = defaultState[i];\n        }\n      }\n      // read localstorage and modify\n      let mapOverlays = this.$localStorage.get('yeti-map-layers-overlays', {\n        avalanche: this.showAvalancheBulletins,\n        winterRoute: this.showWinterRoute,\n        protectedAreas: this.showProtectedAreas,\n        dataAvalanche: this.showDataAvalanche,\n        nivoses: this.showNivoses,\n        romma: this.showRomma,\n        flowcapt: this.showFlowcapt,\n        ffvl: this.showFfvl,\n      });\n      this.setShowAvalancheBulletins(mapOverlays.avalanche);\n      this.setShowWinterRoute(mapOverlays.winterRoute);\n      this.setShowProtectedAreas(mapOverlays.protectedAreas);\n      this.setShowDataAvalanche(mapOverlays.dataAvalanche);\n      this.setShowNivoses(mapOverlays.nivoses);\n      this.setShowRomma(mapOverlays.romma);\n      this.setShowFlowcapt(mapOverlays.flowcapt);\n      this.setShowFfvl(mapOverlays.ffvl);\n\n      // features (routeLayer)\n      // first, get saved features\n      let savedFeatures = this.$localStorage\n        .get('yeti-map-features', [])\n        .map((feature) => new ol.Feature(new ol.geom.LineString(feature)));\n      // if data, set features/featuresTitle\n      if (savedFeatures.length) {\n        this.setFeatures(savedFeatures);\n        let featuresTitle = this.$localStorage.get('yeti-map-features-title', state.featuresTitle);\n        this.setFeaturesTitle(featuresTitle);\n      }\n    },\n    setOverlaysToLocalStorage(overlay) {\n      let overlays = this.$localStorage.get('yeti-map-layers-overlays', {});\n      this.$localStorage.set('yeti-map-layers-overlays', { ...overlays, ...overlay });\n    },\n    // actions\n    fetchApi(url) {\n      return axios.get(state.API_URL + url);\n    },\n    fetchAreas() {\n      return this.fetchApi('yeti-extent');\n    },\n    fetchMountains() {\n      return this.fetchApi('zonesbra');\n    },\n    fetchBulletins() {\n      return this.fetchApi('bra');\n    },\n    fetchNivoses() {\n      return this.fetchApi('nivoses');\n    },\n    fetchRomma() {\n      return this.fetchApi('romma');\n    },\n    fetchFlowcapt() {\n      return this.fetchApi('flowcapt');\n    },\n    fetchDataAvalanche() {\n      return this.fetchApi('data-avalanche');\n    },\n    fetchFfvl() {\n      return this.fetchApi('ffvl');\n    },\n    fetchWpsAlti(points, interpolate) {\n      let params = {\n        identifier: 'alti',\n        operation: 'execute',\n        inputs: {\n          points,\n          datum: 'EPSG:4326',\n          interpolate,\n        },\n      };\n      return axios.post(state.API_URL + 'yeti-wps-json', params);\n    },\n  },\n});\n</script>\n","var render, staticRenderFns\nimport script from \"./Yetix.vue?vue&type=script&lang=js\"\nexport * from \"./Yetix.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Yetix.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Yetix.vue?vue&type=script&lang=js\"","<template>\n  <div\n    class=\"yeti-panel\"\n    role=\"tabpanel\"\n    :id=\"'panel' + index\"\n    :aria-labelledby=\"'tab' + index\"\n    :hidden=\"activeTab !== index\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  props: {\n    index: {\n      type: Number,\n      required: true,\n    },\n  },\n  computed: {\n    activeTab() {\n      return Yetix.activeTab;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.yeti-panel {\n  position: relative;\n}\n\n:deep(a) {\n  &:hover,\n  &:focus {\n    text-decoration: underline;\n  }\n}\n\n:deep(h4) {\n  margin-top: 1rem;\n  margin-bottom: 0.25rem !important;\n}\n\n:deep(abbr) {\n  text-decoration: none;\n  border-bottom: dotted 2px #aaa;\n}\n\n:deep(strong),\n:deep(dt) {\n  font-weight: bold;\n  color: inherit;\n}\n\n:deep(.yeti-subpanel + .yeti-subpanel) {\n  margin-top: 2rem;\n}\n\n:deep(.content-ul) {\n  list-style: disc outside;\n  margin-left: 2em;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=58b640a3&scoped=true\"\nimport script from \"./Panel.vue?vue&type=script&lang=js\"\nexport * from \"./Panel.vue?vue&type=script&lang=js\"\nimport style0 from \"./Panel.vue?vue&type=style&index=0&id=58b640a3&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58b640a3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"inputs-bra\",class:{ 'inputs-bra-different': _vm.bra.isDifferent }},[_c('svg',{attrs:{\"viewBox\":\"0 0 100 100\",\"width\":\"120\",\"height\":\"120\"}},[_c('polygon',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"points\":\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"}}),_vm._v(\" \"),_c('line',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"x1\":\"10\",\"y1\":\"61.5\",\"x2\":\"90\",\"y2\":\"61.5\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-bra-high select is-small\"},[_c('select',{attrs:{\"id\":\"selectBra\",\"aria-label\":_vm.$gettext('High danger level from the avalanche bulletin')},domProps:{\"value\":_vm.bra.high},on:{\"change\":function($event){return _vm.onChange($event, 'high')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-threshold control\"},[_c('label',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"for\":\"inputThreshold\"}},[_vm._v(\"Altitude\")]),_vm._v(\" \"),_c('input',{staticClass:\"input is-small\",attrs:{\"id\":\"inputThreshold\",\"type\":\"number\",\"min\":\"0\",\"max\":\"4800\",\"step\":\"100\",\"maxlength\":\"4\"},domProps:{\"value\":_vm.bra.altiThreshold},on:{\"change\":function($event){return _vm.onChange($event, 'altiThreshold')}}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-low select is-small\"},[_c('select',{attrs:{\"aria-label\":\"$gettext('Low danger level from the avalanche bulletin')\"},domProps:{\"value\":_vm.bra.low},on:{\"change\":function($event){return _vm.onChange($event, 'low')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])])]),_vm._v(\" \"),_c('div',[_c('input-checkbox',{staticClass:\"control--bradifferent\",attrs:{\"value\":_vm.bra.isDifferent},on:{\"input\":function($event){return _vm.onChange($event, 'isDifferent')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Different high/low danger?\")])])],1)])]),_vm._v(\" \"),_c('dropdown-content',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [(_vm.showVisibleMountains)?_c('div',[_c('div',{staticClass:\"mb-2\"},[_c('input-checkbox',{attrs:{\"value\":_vm.showAvalancheBulletins},on:{\"input\":_vm.onShowAvalancheBulletins}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Visible on map\")])])],1),_vm._v(\" \"),_c('dl',_vm._l((_vm.visibleMountains),function(mountainsForMassif,massif){return _c('div',{key:massif},[_c('dt',[_vm._v(\"\\n              \"+_vm._s(massif)+\"\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"yetimountains-list px-4 py-3\"},_vm._l((mountainsForMassif),function(mountain){return _c('dd',{key:mountain.name},[_c('a',{attrs:{\"href\":mountain.urls[0].url,\"target\":\"_blank\"}},[_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}}),_vm._v(\"\\n                  \"+_vm._s(mountain.name)+\"\\n                \")],1)])}),0)])}),0)]):_c('div',[_c('info',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"column\"},[_vm._v(\"Massifs could not be loaded\")])],1)]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Avalanche bulletins\")]),_vm._v(\" \"),(_vm.showVisibleMountains)?_c('counter',[_vm._v(_vm._s(_vm.countVisibleMountains))]):_vm._e(),_vm._v(\" \"),(_vm.showAvalancheBulletins)?_c('fa-icon',{staticClass:\"has-text-primary\",attrs:{\"icon\":\"check-circle\",\"title\":_vm.$gettext('Visible on map')}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"yeti-counter\",class:{ 'has-background-primary': _vm.isPrimary }},[_c('span',[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"yeti-counter\" :class=\"{ 'has-background-primary': isPrimary }\">\n    <span><slot /></span>\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    isPrimary: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.yeti-counter {\n  display: inline-block;\n  min-width: 1em;\n  height: 1em;\n  line-height: 1em;\n  margin-left: 0.25rem;\n  padding: 0 0.25rem;\n  background: $grey-lighter;\n  color: $grey-darker;\n  border-radius: 1em;\n  font-weight: normal;\n  text-align: center;\n\n  span {\n    font-size: 0.72em;\n    vertical-align: 0.125em;\n  }\n\n  &.has-background-primary {\n    color: $white;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Counter.vue?vue&type=template&id=3b0367fe&scoped=true\"\nimport script from \"./Counter.vue?vue&type=script&lang=js\"\nexport * from \"./Counter.vue?vue&type=script&lang=js\"\nimport style0 from \"./Counter.vue?vue&type=style&index=0&id=3b0367fe&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b0367fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dropdown-content\",class:{ 'dropdown-content-inverted': _vm.inverted }},[_c('div',[_c('h3',{staticClass:\"dropdown-content-title\",class:{ 'is-open': _vm.localOpen },on:{\"click\":_vm.switchOpen}},[_vm._t(\"default\"),_vm._v(\" \"),_c('fa-icon',{staticClass:\"dropdown-content-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\",attrs:{\"icon\":\"angle-down\",\"rotation\":_vm.localOpen ? 180 : undefined}})],2)]),_vm._v(\" \"),(_vm.localOpen)?_c('div',{staticClass:\"dropdown-content-content p-3\"},[_vm._t(\"content\")],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dropdown-content\" :class=\"{ 'dropdown-content-inverted': inverted }\">\n    <div>\n      <h3 class=\"dropdown-content-title\" :class=\"{ 'is-open': localOpen }\" @click=\"switchOpen\">\n        <slot />\n        <fa-icon\n          class=\"dropdown-content-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\"\n          icon=\"angle-down\"\n          :rotation=\"localOpen ? 180 : undefined\"\n        />\n      </h3>\n    </div>\n    <div v-if=\"localOpen\" class=\"dropdown-content-content p-3\">\n      <slot name=\"content\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    inverted: {\n      type: Boolean,\n      default: false,\n    },\n    open: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      localOpen: this.open,\n    };\n  },\n  methods: {\n    switchOpen() {\n      this.localOpen = !this.localOpen;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.dropdown-content {\n  border: 1px solid #dbdbdb;\n  padding: 0;\n  box-shadow: none;\n\n  &:hover {\n    border-color: #b5b5b5;\n  }\n}\n.dropdown-content-title {\n  display: flex;\n  align-items: center;\n  color: $grey-darker;\n  cursor: pointer;\n  padding: 0.25rem 0.75rem;\n  border-radius: 4px;\n}\n.is-open {\n  font-weight: bold;\n  border-radius: 4px 4px 0 0;\n}\n.dropdown-content-title:hover {\n  background: $grey-lightest;\n}\n.dropdown-content-arrow {\n  color: $primary;\n  margin-left: auto;\n}\n\n.dropdown-content-inverted {\n  background: $primary;\n  border: 1px solid rgba(0, 0, 0, 0.25);\n\n  &:hover {\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .dropdown-content-title {\n    color: $white;\n  }\n  .dropdown-content-title:hover {\n    background: $primary;\n  }\n  .dropdown-content-arrow {\n    color: $white;\n  }\n  .dropdown-content-content {\n    color: $white;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DropdownContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DropdownContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DropdownContent.vue?vue&type=template&id=10ac6acf&scoped=true\"\nimport script from \"./DropdownContent.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./DropdownContent.vue?vue&type=style&index=0&id=10ac6acf&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10ac6acf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"info-text\",class:['is-' + _vm.type, { 'is-inline-block': _vm.inline }]},[_c('fa-icon',{staticClass:\"info-icon mt-1 ml-1\",attrs:{\"icon\":_vm.icon}}),_vm._v(\" \"),_c('div',{staticClass:\"info-content\",class:[{ 'is-inline': _vm.inline }]},[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"info-text\" :class=\"['is-' + type, { 'is-inline-block': inline }]\">\n    <fa-icon :icon=\"icon\" class=\"info-icon mt-1 ml-1\" />\n    <div class=\"info-content\" :class=\"[{ 'is-inline': inline }]\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: 'info',\n    },\n    inline: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      icons: {\n        info: 'info-circle',\n        warning: 'exclamation-circle',\n        help: 'question-circle',\n      },\n    };\n  },\n  computed: {\n    icon() {\n      return this.icons[this.type];\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.info-text {\n  font-size: 0.85em;\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.is-info {\n  color: $primary;\n}\n.is-warning {\n  color: $red;\n}\n.is-help {\n  background: $grey-lightest;\n  color: $grey-dark;\n  border-radius: 4px;\n  padding: 0.75rem;\n  margin-bottom: 1.5rem !important;\n}\n.info-icon {\n  float: left;\n}\n.info-content {\n  margin-left: 2rem;\n}\n\n.is-inline-block {\n  &.info-text {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n  .info-icon {\n    float: none;\n  }\n  .info-content {\n    margin-left: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Info.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Info.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Info.vue?vue&type=template&id=5d07cbcf&scoped=true\"\nimport script from \"./Info.vue?vue&type=script&lang=js\"\nexport * from \"./Info.vue?vue&type=script&lang=js\"\nimport style0 from \"./Info.vue?vue&type=style&index=0&id=5d07cbcf&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d07cbcf\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Danger level</span></sub-panel-title>\n    <div class=\"columns is-mobile\">\n      <div class=\"column\">\n        <div class=\"inputs-bra\" :class=\"{ 'inputs-bra-different': bra.isDifferent }\">\n          <svg viewBox=\"0 0 100 100\" width=\"120\" height=\"120\">\n            <polygon\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              points=\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"\n            />\n            <line\n              v-show=\"bra.isDifferent\"\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              x1=\"10\"\n              y1=\"61.5\"\n              x2=\"90\"\n              y2=\"61.5\"\n            />\n          </svg>\n          <div class=\"input-bra-high select is-small\">\n            <select\n              id=\"selectBra\"\n              @change=\"onChange($event, 'high')\"\n              :value=\"bra.high\"\n              :aria-label=\"$gettext('High danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-threshold control\">\n            <label for=\"inputThreshold\" v-translate>Altitude</label>\n            <input\n              id=\"inputThreshold\"\n              class=\"input is-small\"\n              type=\"number\"\n              min=\"0\"\n              max=\"4800\"\n              step=\"100\"\n              maxlength=\"4\"\n              @change=\"onChange($event, 'altiThreshold')\"\n              :value=\"bra.altiThreshold\"\n            />\n          </div>\n\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-low select is-small\">\n            <select\n              @change=\"onChange($event, 'low')\"\n              :value=\"bra.low\"\n              aria-label=\"$gettext('Low danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n        </div>\n\n        <div>\n          <input-checkbox\n            @input=\"onChange($event, 'isDifferent')\"\n            :value=\"bra.isDifferent\"\n            class=\"control--bradifferent\"\n          >\n            <span v-translate>Different high/low danger?</span>\n          </input-checkbox>\n        </div>\n      </div>\n    </div>\n\n    <dropdown-content>\n      <span v-translate>Avalanche bulletins</span>\n      <counter v-if=\"showVisibleMountains\">{{ countVisibleMountains }}</counter>\n      <fa-icon\n        icon=\"check-circle\"\n        v-if=\"showAvalancheBulletins\"\n        class=\"has-text-primary\"\n        :title=\"$gettext('Visible on map')\"\n      />\n      <template #content>\n        <div v-if=\"showVisibleMountains\">\n          <div class=\"mb-2\">\n            <input-checkbox @input=\"onShowAvalancheBulletins\" :value=\"showAvalancheBulletins\">\n              <span v-translate>Visible on map</span>\n            </input-checkbox>\n          </div>\n          <dl>\n            <div v-for=\"(mountainsForMassif, massif) of visibleMountains\" :key=\"massif\">\n              <dt>\n                {{ massif }}\n              </dt>\n              <div class=\"yetimountains-list px-4 py-3\">\n                <dd v-for=\"mountain of mountainsForMassif\" :key=\"mountain.name\">\n                  <a :href=\"mountain.urls[0].url\" target=\"_blank\">\n                    <fa-icon icon=\"external-link-alt\" />\n                    {{ mountain.name }}\n                  </a>\n                </dd>\n              </div>\n            </div>\n          </dl>\n        </div>\n        <div v-else>\n          <info class=\"column\" v-translate>Massifs could not be loaded</info>\n        </div>\n      </template>\n    </dropdown-content>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter.vue';\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport Info from '@/components/yeti/Info.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: { Counter, DropdownContent, Info, SubPanelTitle },\n  data() {\n    return {\n      showMountainsList: false,\n    };\n  },\n  computed: {\n    bra() {\n      return Yetix.bra;\n    },\n    visibleMountains() {\n      return Yetix.mountains.visible;\n    },\n    showAvalancheBulletins() {\n      return Yetix.showAvalancheBulletins;\n    },\n    showVisibleMountains() {\n      return this.countVisibleMountains >= 0;\n    },\n    countVisibleMountains() {\n      // if visibleMountains are set\n      if (this.visibleMountains) {\n        return Object.values(this.visibleMountains).reduce((a, b) => a + b.length, 0);\n      }\n      // else, return -1 (because 0 is not an error)\n      return -1;\n    },\n  },\n  watch: {\n    'bra.isDifferent': 'checkBraIsDifferent',\n  },\n  methods: {\n    onChange(event, prop) {\n      const value = prop === 'isDifferent' ? event : event.target.value;\n      Yetix.setBra(prop, value);\n    },\n    checkBraIsDifferent() {\n      if (!this.bra.isDifferent) {\n        Yetix.setBra('low', null);\n        Yetix.setBra('altiThreshold', null);\n      }\n    },\n    onShowAvalancheBulletins(value) {\n      Yetix.setShowAvalancheBulletins(value);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.inputs-bra {\n  margin-left: 2rem;\n  position: relative;\n\n  .input-bra-high {\n    position: absolute;\n    left: 39px;\n    top: 62px;\n  }\n\n  .input-bra-threshold {\n    position: absolute;\n    left: 115px;\n    top: 40px;\n    width: 85px;\n  }\n\n  .input-bra-low {\n    position: absolute;\n    left: 39px;\n    top: 78px;\n  }\n}\n\n.inputs-bra-different {\n  .input-bra-high {\n    top: 45px;\n  }\n}\n\n.yetimountains-list {\n  columns: 3 170px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelBra.vue?vue&type=template&id=e8e4ddb2&scoped=true\"\nimport script from \"./SubPanelBra.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelBra.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelBra.vue?vue&type=style&index=0&id=e8e4ddb2&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8e4ddb2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Route\")])]),_vm._v(\" \"),_c('div',{staticClass:\"route-buttons\"},[_c('edit-mode-button',{attrs:{\"is-small\":\"\",\"icon-only\":\"\"}}),_vm._v(\" \"),(_vm.features.length)?_c('span',[_c('button',{staticClass:\"button is-secondary is-small\",attrs:{\"title\":_vm.$gettext('Delete route')},on:{\"click\":_vm.onRemoveFeatures}},[_c('fa-icon',{attrs:{\"icon\":\"trash\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-sr-only\"},[_vm._v(\"Delete route\")])],1),_vm._v(\" \"),_c('button',{staticClass:\"button is-secondary is-small\",attrs:{\"title\":_vm.$gettext('Fit map to route')},on:{\"click\":_vm.fitMapToFeatures}},[_c('fa-icon',{attrs:{\"icon\":\"location-crosshairs\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-sr-only\"},[_vm._v(\"Fit map to route\")])],1)]):_vm._e()],1),_vm._v(\" \"),(_vm.features.length)?_c('div',[_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('p',{staticClass:\"features-title\"},[_c('icon-route',{staticClass:\"icon document-icon\"}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"icon edit-icon\",attrs:{\"icon\":\"pen\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasFeaturesTitle),expression:\"!hasFeaturesTitle\"},{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"features-title-text features-title-placeholder\",on:{\"click\":_vm.onEditNewFeaturesTitle}},[_vm._v(\"\\n            Add title\\n          \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasFeaturesTitle),expression:\"hasFeaturesTitle\"}],ref:\"featuresTitle\",staticClass:\"features-title-text features-title-content\",attrs:{\"tabindex\":\"0\",\"contenteditable\":\"\",\"spellcheck\":\"false\"},on:{\"blur\":_vm.onEditFeaturesTitle,\"keypress\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13)return null;$event.preventDefault();}}},[_vm._v(_vm._s(_vm.featuresTitle))])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"ml-5 mb-5\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-size-7 is-italic mb-1 has-text-grey\"},[_vm._v(\"Lines chunks\")]),_vm._v(\" \"),_c('features-list',{attrs:{\"features\":_vm.features}})],1),_vm._v(\" \"),_c('dropdown-content',{staticClass:\"mb-5\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('elevation-profile',{attrs:{\"features\":_vm.features}})]},proxy:true}],null,false,1669202380)},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Elevation profile\")])]),_vm._v(\" \"),_c('simplify-tool',{ref:\"simplifyTool\"})],1):_c('div',{staticClass:\"columns is-vcentered is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"mb-2\"},[_vm._v(\"No route right now\")])])]),_vm._v(\" \"),_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Winter routes\")])]),_vm._v(\" \"),(_vm.winterRouteLayer)?_c('div',{staticClass:\"columns is-vcentered is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('input-checkbox',{on:{\"change\":_vm.winterRouteLayer.action},model:{value:(_vm.winterRouteLayer.checked),callback:function ($$v) {_vm.$set(_vm.winterRouteLayer, \"checked\", $$v)},expression:\"winterRouteLayer.checked\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Visible layer\")])]),_vm._v(\" \"),(_vm.winterRouteLayer.checked)?_c(_vm.winterRouteLayer.contentComponent,{tag:\"component\",staticClass:\"mt-2\"}):_vm._e()],1)]):_vm._e(),_vm._v(\" \"),(_vm.features.length)?_c('div',[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"export\"},[_vm._v(\"Export\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-vcentered is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('ul',{staticClass:\"form-export\"},_vm._l((_vm.formats),function(f){return _c('li',{key:f,staticClass:\"control is-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'format' + f,\"type\":\"radio\",\"name\":\"exportFormat\"},domProps:{\"value\":f,\"checked\":_vm._q(_vm.format,f)},on:{\"change\":function($event){_vm.format=f}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'format' + f}},[_vm._v(_vm._s(f))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"column is-narrow\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-disabled': _vm.validSimplifyTolerance },on:{\"click\":_vm.downloadCourse}},[_vm._v(\"\\n          Export route\\n        \")])])])],1):_c('div',[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"import\"},[_vm._v(\"Import\")])]),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary mr-2\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.onLoadGpx}},[_vm._v(\"\\n        Upload a GPS track\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"control upload-button\"},[_c('input',{ref:\"gpxFileInput\",attrs:{\"type\":\"file\",\"accept\":\".gpx\"},on:{\"change\":_vm.uploadGpx}})])],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Drawing tips\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Draw\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"new lines chunks\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Delete\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"last point with the Backspace key\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"On a drawn line\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points by moving them\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Create\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"a new point on an existing line\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a point\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"with Alt + clic\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Split a line\")]),_vm._v(\" with Ctrl + clic\")])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"From the interface\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a line chunk\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete route\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"to start or load a new one\")])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"button edit-mode-button ol-control-edit-mode\",class:{ 'is-dark': _vm.editMode, 'is-small': _vm.isSmall },attrs:{\"title\":_vm.$gettext('Enable drawing and editing features on map'),\"aria-label\":_vm.iconOnly ? _vm.$gettext('Enable drawing and editing features on map') : null}},[_c('input-checkbox',{attrs:{\"value\":_vm.editMode,\"disabled\":_vm.validSimplifyTolerance},on:{\"input\":_vm.onEditMode}},[(!_vm.iconOnly)?_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\" Edit mode \")]):_vm._e(),_vm._v(\" \"),_c('fa-icon',{staticClass:\"ml-1\",attrs:{\"icon\":\"pen\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button\n    class=\"button edit-mode-button ol-control-edit-mode\"\n    :class=\"{ 'is-dark': editMode, 'is-small': isSmall }\"\n    :title=\"$gettext('Enable drawing and editing features on map')\"\n    :aria-label=\"iconOnly ? $gettext('Enable drawing and editing features on map') : null\"\n  >\n    <input-checkbox @input=\"onEditMode\" :value=\"editMode\" :disabled=\"validSimplifyTolerance\">\n      <span v-if=\"!iconOnly\" v-translate> Edit mode </span>\n      <fa-icon icon=\"pen\" class=\"ml-1\" />\n    </input-checkbox>\n  </button>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  props: {\n    isSmall: {\n      type: Boolean,\n      default: false,\n    },\n    iconOnly: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    editMode() {\n      return Yetix.editMode;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n  },\n  methods: {\n    onEditMode() {\n      Yetix.setEditMode(!this.editMode);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.edit-mode-button {\n  padding-left: 0.25em;\n  padding-right: 0.25em;\n  .input-checkbox {\n    padding: 0;\n  }\n  .is-checkradio[type='checkbox'] + label {\n    margin-right: 0;\n    vertical-align: baseline;\n\n    &:before {\n      top: 1px;\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.edit-mode-button {\n  .input-checkbox {\n    padding: 0;\n  }\n\n  .is-checkradio[type='checkbox'] + label {\n    margin-right: 0;\n    vertical-align: baseline;\n\n    &:before {\n      top: 1px;\n    }\n  }\n}\n/* when used inside map */\n.map-container {\n  .edit-mode-button {\n    height: 2em;\n    border: none;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2);\n\n    .is-checkradio[type='checkbox'] + label {\n      font-size: 0.93em;\n      margin-right: 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./EditModeButton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./EditModeButton.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditModeButton.vue?vue&type=template&id=139174c8&scoped=true\"\nimport script from \"./EditModeButton.vue?vue&type=script&lang=js\"\nexport * from \"./EditModeButton.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditModeButton.vue?vue&type=style&index=0&id=139174c8&prod&scoped=true&lang=scss\"\nimport style1 from \"./EditModeButton.vue?vue&type=style&index=1&id=139174c8&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"139174c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{ref:\"container\"},[_c('div',{ref:\"graph\",staticClass:\"elevation-profile-chart\"})]),_vm._v(\" \"),_c('div',{staticClass:\"elevation-generate-panel\"},[_c('h4',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-6\"},[_vm._v(\"Generate new elevations\")]),_vm._v(\" \"),_c('div',[_c('input-checkbox',{staticClass:\"mt-2\",model:{value:(_vm.interpolate),callback:function ($$v) {_vm.interpolate=$$v},expression:\"interpolate\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Add more points\")])]),_vm._v(\" \"),(_vm.interpolate)?_c('div',[_c('div',{staticClass:\"control-subpanel\"},[_c('label',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"for\":\"inputInterpolate\"}},[_vm._v(\"Distance\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.interpolateValue),expression:\"interpolateValue\",modifiers:{\"number\":true}}],staticClass:\"input is-small input-interpolate ml-2\",attrs:{\"id\":\"inputInterpolate\",\"type\":\"number\",\"min\":\"5\",\"step\":\"5\"},domProps:{\"value\":(_vm.interpolateValue)},on:{\"input\":function($event){if($event.target.composing)return;_vm.interpolateValue=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),(_vm.atLeastOneLineChunkHasTooMuchPoints)?_c('info',{staticClass:\"ml-0 pl-0\",attrs:{\"inline\":\"\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"1\"},[_vm._v(\"Too much points\")])]):_vm._e(),_vm._v(\" \"),(_vm.interpolateValueInvalid)?_c('info',{staticClass:\"ml-0 pl-0\",attrs:{\"inline\":\"\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"2\"},[_vm._v(\"Invalid value\")])]):_vm._e()],1),_vm._v(\" \"),_c('info',{staticClass:\"column\",attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Will generate new points along route, at regular interval, defined by distance in meters\")])])],1):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-end is-align-items-center\"},[(_vm.routeIntersectsYetiAreas)?_c('info',{attrs:{\"inline\":\"\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Some points are out of extent\")])]):_vm._e(),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-disabled': _vm.validSimplifyTolerance, 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.onCalculateElevations}},[_vm._v(\"\\n      Generate elevations\\n    \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n (c) 2013, Vladimir Agafonkin\n Simplify.js, a high-performance JS polyline simplification library\n mourner.github.io/simplify-js\n*/\n\n// square distance between 2 points\nfunction getSquareDistance(p1, p2) {\n  let dx = p1[0] - p2[0];\n  let dy = p1[1] - p2[1];\n  let dz = p1[2] - p2[2];\n\n  return dx * dx + dy * dy + dz * dz;\n}\n\n// square distance from a point to a segment\nfunction getSquareSegmentDistance(p, p1, p2) {\n  let x = p1[0];\n  let y = p1[1];\n  let z = p1[2];\n\n  let dx = p2[0] - x;\n  let dy = p2[1] - y;\n  let dz = p2[2] - z;\n\n  if (dx !== 0 || dy !== 0 || dz !== 0) {\n    let t = ((p[0] - x) * dx + (p[1] - y) * dy + (p[2] - z) * dz) / (dx * dx + dy * dy + dz * dz);\n\n    if (t > 1) {\n      x = p2[0];\n      y = p2[1];\n      z = p2[2];\n    } else if (t > 0) {\n      x += dx * t;\n      y += dy * t;\n      z += dz * t;\n    }\n  }\n\n  dx = p[0] - x;\n  dy = p[1] - y;\n  dz = p[2] - z;\n\n  return dx * dx + dy * dy + dz * dz;\n}\n// the rest of the code doesn't care for the point format\n\n// basic distance-based simplification\nfunction simplifyRadialDistance(points, sqTolerance) {\n  let prevPoint = points[0];\n  let newPoints = [prevPoint];\n  let point;\n\n  for (let i = 1, len = points.length; i < len; i++) {\n    point = points[i];\n\n    if (getSquareDistance(point, prevPoint) > sqTolerance) {\n      newPoints.push(point);\n      prevPoint = point;\n    }\n  }\n\n  if (prevPoint !== point) {\n    newPoints.push(point);\n  }\n\n  return newPoints;\n}\n\n// simplification using optimized Douglas-Peucker algorithm with recursion elimination\nfunction simplifyDouglasPeucker(points, sqTolerance) {\n  let len = points.length;\n  let MarkerArray = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n  let markers = new MarkerArray(len);\n  let first = 0;\n  let last = len - 1;\n  let stack = [];\n  let newPoints = [];\n  let i;\n  let maxSqDist;\n  let sqDist;\n  let index;\n\n  markers[first] = markers[last] = 1;\n\n  while (last) {\n    maxSqDist = 0;\n\n    for (i = first + 1; i < last; i++) {\n      sqDist = getSquareSegmentDistance(points[i], points[first], points[last]);\n\n      if (sqDist > maxSqDist) {\n        index = i;\n        maxSqDist = sqDist;\n      }\n    }\n\n    if (maxSqDist > sqTolerance) {\n      markers[index] = 1;\n      stack.push(first, index, index, last);\n    }\n\n    last = stack.pop();\n    first = stack.pop();\n  }\n\n  for (i = 0; i < len; i++) {\n    if (markers[i]) {\n      newPoints.push(points[i]);\n    }\n  }\n\n  return newPoints;\n}\n\n// both algorithms combined for awesome performance\nexport default function simplify(points, tolerance, highestQuality) {\n  let sqTolerance = tolerance !== undefined ? tolerance * tolerance : 1;\n\n  points = highestQuality ? points : simplifyRadialDistance(points, sqTolerance);\n  points = simplifyDouglasPeucker(points, sqTolerance);\n\n  return points;\n}\n","<template>\n  <div>\n    <div ref=\"container\">\n      <div ref=\"graph\" class=\"elevation-profile-chart\" />\n    </div>\n    <div class=\"elevation-generate-panel\">\n      <h4 class=\"title is-6\" v-translate>Generate new elevations</h4>\n      <div>\n        <input-checkbox v-model=\"interpolate\" class=\"mt-2\">\n          <span v-translate>Add more points</span>\n        </input-checkbox>\n        <div v-if=\"interpolate\">\n          <div class=\"control-subpanel\">\n            <label for=\"inputInterpolate\" v-translate>Distance</label>\n            <input\n              id=\"inputInterpolate\"\n              class=\"input is-small input-interpolate ml-2\"\n              type=\"number\"\n              min=\"5\"\n              step=\"5\"\n              v-model.number=\"interpolateValue\"\n            />\n            <info inline class=\"ml-0 pl-0\" v-if=\"atLeastOneLineChunkHasTooMuchPoints\">\n              <span v-translate key=\"1\">Too much points</span>\n            </info>\n            <info inline class=\"ml-0 pl-0\" v-if=\"interpolateValueInvalid\">\n              <span v-translate key=\"2\">Invalid value</span>\n            </info>\n          </div>\n          <info type=\"help\" class=\"column\">\n            <p v-translate>Will generate new points along route, at regular interval, defined by distance in meters</p>\n          </info>\n        </div>\n      </div>\n    </div>\n    <div class=\"is-flex is-justify-content-end is-align-items-center\">\n      <info inline v-if=\"routeIntersectsYetiAreas\">\n        <span v-translate>Some points are out of extent</span>\n      </info>\n      <button\n        class=\"button is-primary\"\n        :class=\"{ 'is-disabled': validSimplifyTolerance, 'is-loading': loading }\"\n        :disabled=\"loading\"\n        @click=\"onCalculateElevations\"\n        v-translate\n      >\n        Generate elevations\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport simplify from './map-layers/simplify';\n\nimport Info from '@/components/yeti/Info.vue';\nimport Yetix from '@/components/yeti/Yetix';\nimport debounce from '@/js/debounce';\nimport d3 from '@/js/libs/d3';\nimport ol from '@/js/libs/ol';\n\nconst MIN_INTERPOLATE_VALUE = 5;\n\nexport default {\n  components: { Info },\n  props: {\n    features: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      data: [],\n      loading: false,\n      interpolate: false,\n      interpolateValue: 50,\n      i18n_: {\n        elevation_legend: this.$gettext('Elevation (m)'),\n        distance_legend: this.$gettext('Distance (km)'),\n      },\n      errors: {\n        actionDisabled: this.$gettext('Action is disabled. You must confirm simplified geometry first.'),\n        fromApi: this.$gettext('One or more route could not be processed:'),\n        interpolateValue: this.$gettext('Interpolate value should be a number > 0'),\n        tooMuchPoints: this.$gettext(\n          'One or more line chunks will generate more than 3000 points. Adjust distance to generate less points.'\n        ),\n      },\n    };\n  },\n  computed: {\n    areas() {\n      return Yetix.areas;\n    },\n    fetchWpsAlti() {\n      return Yetix.fetchWpsAlti;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n    atLeastOneLineChunkHasTooMuchPoints() {\n      if (this.interpolateValueInvalid) {\n        return false;\n      }\n      return this.data.filter((d) => {\n        return (d[d.length - 1].localD * 1000) / this.interpolateValue > 3000;\n      }).length;\n    },\n    interpolateValueInvalid() {\n      // type number is empty string when not number\n      return this.interpolateValue === 0 || this.interpolateValue === '';\n    },\n    routeIntersectsYetiAreas() {\n      if (this.areas.length) {\n        for (let feature of this.features) {\n          let coords = feature.getGeometry().getCoordinates();\n          // will simplify coords to improve compute time\n          // if no z, add 0 (simplify not working)\n          coords = coords.map((coord) => {\n            if (!coord[2]) {\n              coord[2] = 0;\n            }\n            return coord;\n          });\n          // and simplify\n          coords = simplify(coords, 200, true);\n          for (let coord of coords) {\n            let inside = this.areas[0].geometry.intersectsCoordinate(coord);\n            // return when at least one point if outside\n            if (!inside) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    },\n  },\n  watch: {\n    features() {\n      this.updateChart(true);\n    },\n  },\n  mounted() {\n    // debounce creating chart\n    debounce(() => {\n      d3.then(this.createChart);\n    }, 10)();\n\n    this.debouncedOnResize = debounce(this.onResize, 100);\n\n    Yetix.$on('showFeature', this.showFeature);\n    Yetix.$on('hideFeature', this.hideFeature);\n  },\n  beforeDestroy() {\n    this.resizeObserver?.unobserve(this.$refs.graph);\n  },\n  methods: {\n    onCalculateElevations() {\n      // deal with errors first\n      if (this.validSimplifyTolerance) {\n        return window.alert(this.errors.actionDisabled);\n      }\n      if (this.atLeastOneLineChunkHasTooMuchPoints) {\n        return window.alert(this.errors.tooMuchPoints);\n      }\n      if (this.interpolateValueInvalid) {\n        return window.alert(this.errors.interpolateValue);\n      }\n      // start loading\n      this.loading = true;\n      // and defer (next cycle)\n      setTimeout(() => {\n        // start by removing all elevations\n        this.removeAllElevations();\n        // interpolateValue is 5 meters min, or 0 if not checked\n        let interpolateValue = this.interpolate ? Math.max(MIN_INTERPOLATE_VALUE, this.interpolateValue) : 0;\n\n        // build promises for each http request (one per line chunk)\n        let promises = [];\n        // for each filtered features\n        this.features.forEach((feature) => {\n          let points = feature.getGeometry().clone().transform('EPSG:3857', 'EPSG:4326').getCoordinates();\n          promises.push(\n            this.fetchWpsAlti(points, interpolateValue).then(({ data }) => {\n              // if we got features from api, set new geometry to feature\n              if (data.features) {\n                // first transform coords\n                let coords = data.features[0].geometry.coordinates.map((coord) => {\n                  return ol.proj.transform(coord, 'EPSG:4326', 'EPSG:3857');\n                });\n                // replace this feature coordinates\n                feature.getGeometry().setCoordinates(coords);\n              }\n              // return promise (to deal with errors)\n              return data;\n            })\n          );\n        });\n        // when all requests finished\n        Promise.all(promises).then((promises) => {\n          // stop loading\n          this.loading = false;\n          // emit featureUpdated: routeLayer will update state.features\n          Yetix.$emit('featureUpdated');\n\n          // errors ?\n          // if we got status=error, concatenate all errors, and alert\n          let errors = promises\n            .filter((promise) => promise.status && promise.status === 'error')\n            .map((error) => {\n              return error.message;\n            });\n          if (errors.length) {\n            window.alert(this.errors.fromApi + '\\n' + errors.join('\\n'));\n          }\n        });\n      }, 10);\n    },\n    removeAllElevations() {\n      this.features.forEach((feature) => {\n        let coords = feature.getGeometry().getCoordinates();\n        coords = coords.map((coord) => {\n          coord[2] = 0;\n          return coord;\n        });\n        feature.getGeometry().setCoordinates(coords);\n      });\n      Yetix.$emit('featureUpdated');\n    },\n    showFeature(index) {\n      this.container\n        .selectAll('.area')\n        .select(function (d, i) {\n          if (index === i) {\n            return this;\n          }\n        })\n        .classed('area-highlighted', true);\n    },\n    hideFeature() {\n      this.container.selectAll('.area').classed('area-highlighted', false);\n    },\n    computeCoords() {\n      this.coords = this.features.map((feature) => {\n        return feature.getGeometry().getCoordinates();\n      });\n      this.concatCoords = this.coords.flat();\n\n      this.updateData();\n    },\n    updateData() {\n      let totalDist = 0;\n      this.data = this.coords.map((c) => {\n        let localTotalDist = 0;\n        return c.map((coord, i, coords) => {\n          let d = 0;\n\n          if (i > 0) {\n            // convert from web mercator to lng/lat\n            const deg1 = ol.proj.transform([coords[i][0], coords[i][1]], 'EPSG:3857', 'EPSG:4326');\n            const deg2 = ol.proj.transform([coords[i - 1][0], coords[i - 1][1]], 'EPSG:3857', 'EPSG:4326');\n            // arc distance x earth radius\n            d = d3.geoDistance(deg1, deg2) * 6371;\n          }\n          totalDist += d;\n          localTotalDist += d;\n\n          return {\n            ele: coord[2] ?? 0,\n            d: totalDist,\n            localD: localTotalDist,\n          };\n        });\n      });\n\n      this.concatData = this.data.flat();\n\n      this.areasData = this.data\n        .map((d) => {\n          return {\n            min: d[0].d,\n            max: d[d.length - 1].d,\n          };\n        })\n        .map((d) => {\n          // need to duplicate data for d3\n          return [d, d];\n        });\n    },\n    createChart() {\n      // first, compute coords\n      this.computeCoords();\n\n      const wrapper = this.$refs.graph;\n\n      this.size = {\n        width: wrapper.offsetWidth,\n        height: wrapper.offsetHeight,\n      };\n\n      this.margin = {\n        top: 8,\n        right: 10,\n        bottom: 25,\n        left: 15,\n      };\n\n      const width = this.size.width - this.margin.left - this.margin.right;\n      const height = this.size.height - this.margin.top - this.margin.bottom;\n\n      // Add an SVG element with the desired dimensions and margin\n      this.svg = d3.select(this.$refs.graph).append('svg').attr('width', '100%').attr('height', this.size.height);\n      this.container = this.svg\n        .append('g')\n        .attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\n      // areas container\n      this.container.append('g').attr('class', 'areas');\n      this.container.append('g').attr('class', 'areas-lines');\n\n      // Scales and axes\n      this.scaleX = d3.scaleLinear().range([0, width]);\n      this.axisX = d3.axisBottom().scale(this.scaleX);\n\n      this.scaleY = d3.scaleLinear().range([height, 0]);\n      this.axisY = d3.axisRight().scale(this.scaleY).ticks(5).tickFormat(d3.format('.0f'));\n\n      // scales containers\n      this.container.append('g').attr('class', 'y axis');\n      this.container.append('g').attr('class', 'x axis');\n\n      // scales legends\n      this.container\n        .select('.axis.x')\n        .attr('transform', 'translate(0,' + height + ')')\n        .call(this.axisX)\n        .append('text')\n        .attr('x', this.size.width - this.margin.left - this.margin.right)\n        .attr('dy', '-.5em')\n        .attr('class', 'legend')\n        .style('text-anchor', 'end')\n        .text(this.i18n_.distance_legend);\n\n      this.container\n        .select('.axis.y')\n        //.attr('transform', 'translate(0, 10)')\n        .call(this.axisY)\n        .append('text')\n        .attr('transform', 'rotate(-90)')\n        .attr('y', 6)\n        .attr('dy', '-1em')\n        .attr('class', 'legend')\n        .style('text-anchor', 'end')\n        .text(this.i18n_.elevation_legend);\n\n      // lines container\n      this.container.append('g').attr('class', 'elevation-lines');\n\n      // then, update chart\n      this.updateChart();\n\n      this.focus = this.container.append('circle').attr('class', 'circle').attr('r', 5).style('display', 'none');\n\n      // altitude popup\n      this.popupAltitude = this.container\n        .append('g')\n        .attr('class', 'popup')\n        .attr('x', this.margin.left + 5)\n        .style('display', 'none');\n      this.popupAltitudeRect = this.popupAltitude.append('rect').attr('y', -8);\n      this.popupAltitudeText = this.popupAltitude.append('text').attr('dx', 5).attr('dy', 4);\n\n      this.container\n        .append('rect')\n        .attr('class', 'overlay')\n        .attr('width', width)\n        .attr('height', height)\n        .on(\n          'mouseover',\n          () => {\n            this.focus.style('display', null);\n            this.popupAltitude.style('display', null);\n          },\n          { passive: true }\n        )\n        .on(\n          'mouseout',\n          () => {\n            this.focus.style('display', 'none');\n            this.popupAltitude.style('display', 'none');\n            this.emitCursorEndEvent();\n          },\n          { passive: true }\n        )\n        .on('mousemove', this.setCursor, { passive: true });\n\n      // update the graph when it is resized\n      this.resizeObserver = new ResizeObserver(([entry]) => {\n        if (entry.contentBoxSize) {\n          // Firefox implements `contentBoxSize` as a single content rect, rather than an array\n          const contentBoxSize = Array.isArray(entry.contentBoxSize) ? entry.contentBoxSize[0] : entry.contentBoxSize;\n          this.debouncedOnResize(contentBoxSize.inlineSize, contentBoxSize.blockSize);\n        } else {\n          this.debouncedOnResize(entry.contentRect.width, entry.contentRect.height);\n        }\n      });\n      this.resizeObserver.observe(this.$refs.graph);\n    },\n    updateChart(force = false) {\n      if (force) {\n        this.computeCoords();\n      }\n\n      // update axes\n      this.scaleX.domain(d3.extent(this.concatData, (d) => d.d)).nice();\n      this.container.select('.axis.x').call(this.axisX);\n\n      this.scaleY.domain(d3.extent(this.concatData, (d) => d.ele)).nice();\n      this.container.select('.axis.y').call(this.axisY);\n      // remove zeroes from y axis\n      this.container\n        .select('.axis.y')\n        .select('.tick')\n        .filter((d, a, b) => {\n          let first = b[0];\n          if (first) {\n            let transform = first.attributes.transform.value;\n            transform = transform.replace('transform(', '').replace(')', '');\n            let values = transform.split(',');\n            let posy = values[1];\n            if (posy > this.size.height - this.margin.top - this.margin.bottom) {\n              return true;\n            }\n          }\n        })\n        .remove();\n\n      this.line = d3\n        .line()\n        .x((d) => this.scaleX(d.d))\n        .y((d) => this.scaleY(d.ele));\n\n      this.area = d3\n        .area()\n        .x0((d) => this.scaleX(d.min))\n        .x1((d) => {\n          // set minimum width for lines\n          let minWidth = d.max - d.min < 1 ? 5 : 0;\n          return this.scaleX(d.max) + minWidth;\n        })\n        .y((d, i) => (i === 0 ? 0 : this.size.height - this.margin.top - this.margin.bottom));\n\n      this.areaLine = d3\n        .line()\n        .x((d) => Math.round(this.scaleX(d.max)) + 0.5)\n        .y((d, i) => (i === 0 ? 0 : this.size.height - this.margin.top - this.margin.bottom));\n\n      // build areas\n      this.container\n        .select('.areas')\n        .selectAll('path')\n        .data(this.areasData)\n        .join('path')\n        .attr('class', 'area')\n        .attr('d', this.area);\n\n      // build areas line (dashed)\n      let areasDataForLines = structuredClone(this.areasData);\n      // remove last one\n      areasDataForLines.pop();\n      this.container\n        .select('.areas-lines')\n        .selectAll('path')\n        .data(areasDataForLines)\n        .join('path')\n        .attr('d', this.areaLine);\n\n      // build lines\n      this.container\n        .select('.elevation-lines')\n        .selectAll('path')\n        .data(this.data)\n        .join('path')\n        .attr('class', 'line')\n        .attr('d', this.line);\n    },\n    onResize(graphWidth, graphHeight) {\n      const width = graphWidth - this.margin.left - this.margin.right;\n      const height = graphHeight - this.margin.top - this.margin.bottom;\n\n      // recompute axes, lines and resize elements\n      this.scaleX.range([0, width]);\n      this.scaleY.range([height, 0]);\n      // update overlay\n      this.container.select('rect.overlay').attr('width', width);\n\n      this.updateChart();\n    },\n    setCursor(mouseMoveEvent) {\n      const bisectDistance = d3.bisector((d) => d.d).left;\n\n      const x0 = this.scaleX.invert(d3.pointer(mouseMoveEvent, this.container.node())[0]);\n\n      const i = bisectDistance(this.concatData, x0, 1, this.concatData.length - 1);\n      const d0 = this.concatData[i - 1];\n      const d1 = this.concatData[i];\n\n      const d = x0 - d0.d > d1.d - x0 ? d1 : d0;\n\n      const dy = Math.round(this.scaleY(d.ele));\n      const dx = Math.round(this.scaleX(d.d));\n\n      this.focus.attr('transform', 'translate(' + dx + ',' + dy + ')');\n      this.popupAltitude.attr('transform', 'translate(0,' + dy + ')');\n      let bbox = this.popupAltitudeText.node().getBBox();\n      this.popupAltitudeRect.attr('width', Math.round(bbox.width + 10)).attr('height', Math.round(bbox.height));\n\n      this.popupAltitudeText.text(Math.round(d.ele) + ' m');\n\n      this.emitCursorMoveEvent(this.concatCoords[d === d0 ? i - 1 : i]);\n    },\n    emitCursorEndEvent() {\n      Yetix.$emit('elevationProfile', 'cursor_end');\n    },\n    emitCursorMoveEvent(coord) {\n      Yetix.$emit('elevationProfile', 'cursor_move', coord);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/sass/variables';\n\n:deep(.elevation-profile-chart) {\n  height: 150px; // default height on page\n\n  .axis {\n    pointer-events: none;\n  }\n\n  .axis path,\n  .axis line {\n    fill: none;\n    stroke: $grey;\n    shape-rendering: crispEdges;\n  }\n\n  .axis .legend {\n    fill: $grey;\n  }\n\n  .axis .tick {\n    color: $grey;\n  }\n\n  .axis.x .tick line {\n    display: none;\n  }\n\n  .line {\n    fill: none;\n    stroke: red;\n    stroke-width: 3px;\n    stroke-linejoin: round;\n    stroke-linecap: round;\n  }\n\n  .circle {\n    fill: red;\n    stroke: white;\n    stroke-width: 2px;\n  }\n\n  .popup {\n    font-size: 12px;\n    font-weight: bold;\n    fill: $primary;\n  }\n\n  .popup text {\n    fill: white;\n  }\n\n  .overlay {\n    fill: none;\n    pointer-events: all;\n  }\n\n  .area {\n    fill: none;\n  }\n\n  .area-highlighted {\n    fill: rgba(255, 255, 0, 0.75);\n  }\n\n  .areas-lines {\n    stroke: $grey;\n    stroke-width: 1px;\n    stroke-dasharray: 5;\n  }\n}\n\n.elevation-generate-panel {\n  margin-top: 1rem;\n  margin-left: -0.75rem;\n  margin-right: -0.75rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  border-top: 1px solid lightgray;\n}\n\n.input-interpolate {\n  width: 100px;\n  margin-right: 0.75rem;\n}\n\n.control-subpanel {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  line-height: 2;\n  margin-left: 0.75rem;\n  margin-bottom: 0.75rem;\n  padding-left: 2rem;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  border-left: solid 1px $primary;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ElevationProfile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ElevationProfile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ElevationProfile.vue?vue&type=template&id=2b09c7ae&scoped=true\"\nimport script from \"./ElevationProfile.vue?vue&type=script&lang=js\"\nexport * from \"./ElevationProfile.vue?vue&type=script&lang=js\"\nimport style0 from \"./ElevationProfile.vue?vue&type=style&index=0&id=2b09c7ae&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b09c7ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"featureslist\"},_vm._l((_vm.features),function(feature,i){return _c('li',{key:i,staticClass:\"featureslist-item tag\",on:{\"mouseenter\":function($event){return _vm.showFeature(feature, i)},\"mouseleave\":function($event){return _vm.hideFeature(feature, i)}}},[_c('span',[_vm._v(_vm._s(_vm.nbPointsOnFeature(feature))+\" points\")]),_vm._v(\" \"),_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){return _vm.removeFeature(feature)}}},[_vm._v(\"x\")])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"featureslist\">\n    <li\n      v-for=\"(feature, i) of features\"\n      :key=\"i\"\n      class=\"featureslist-item tag\"\n      @mouseenter=\"showFeature(feature, i)\"\n      @mouseleave=\"hideFeature(feature, i)\"\n    >\n      <span>{{ nbPointsOnFeature(feature) }} points</span>\n      <button class=\"delete is-small\" @click=\"removeFeature(feature)\">x</button>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  props: {\n    features: {\n      type: Array,\n      required: true,\n    },\n  },\n  methods: {\n    removeFeature(feature) {\n      Yetix.$emit('removeFeature', feature);\n    },\n    showFeature(feature, index) {\n      feature.setStyle(feature.get('highlightedStyle'));\n      Yetix.$emit('showFeature', index);\n    },\n    hideFeature(feature, index) {\n      feature.setStyle(feature.get('normalStyle'));\n      Yetix.$emit('hideFeature', index);\n    },\n    nbPointsOnFeature(feature) {\n      return feature.getGeometry().getCoordinates().length;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.featureslist {\n  margin: 0 -0.5rem;\n\n  &-item {\n    margin: 0.25rem;\n    font-size: 0.7em;\n\n    &:hover,\n    &:focus {\n      background: $grey-lighter;\n      cursor: default;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FeaturesList.vue?vue&type=template&id=1830b904&scoped=true\"\nimport script from \"./FeaturesList.vue?vue&type=script&lang=js\"\nexport * from \"./FeaturesList.vue?vue&type=script&lang=js\"\nimport style0 from \"./FeaturesList.vue?vue&type=style&index=0&id=1830b904&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1830b904\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('dropdown-content',{staticClass:\"mb-5\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Select tolerance (preview result on map)\")]),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-center is-flex-wrap-wrap mt-3 mb-4\"},_vm._l((_vm.tolerances),function(tolerance,i){return _c('div',{key:tolerance,staticClass:\"mb-2 is-flex-grow-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toleranceDistance),expression:\"toleranceDistance\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'tolerance' + i,\"type\":\"radio\",\"name\":\"tolerances\"},domProps:{\"value\":tolerance,\"checked\":_vm._q(_vm.toleranceDistance,tolerance)},on:{\"change\":[function($event){_vm.toleranceDistance=tolerance},_vm.onPreviewSimplify]}}),_vm._v(\" \"),_c('label',{staticClass:\"mr-0\",attrs:{\"for\":'tolerance' + i}},[_vm._v(_vm._s(_vm.tolerancesText[i]))])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-flex-end is-align-items-center\"},[_c('div',[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button\",attrs:{\"disabled\":!_vm.validToleranceDistance},on:{\"click\":_vm.initialize}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",attrs:{\"disabled\":!_vm.validToleranceDistance},on:{\"click\":_vm.onSimplify}},[_vm._v(\"\\n          Simplify\\n        \")])])]),_vm._v(\" \"),_c('info',[_vm._v(\"\\n      \"+_vm._s(_vm.featuresLength)+\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points\")]),_vm._v(\" \"),(_vm.validToleranceDistance)?_c('strong',[_vm._v(\"\\n        (\"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"after:\")]),_vm._v(\" \"+_vm._s(_vm.featuresSimplifiedLength)+\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points\")]),_vm._v(\")\\n      \")]):_vm._e()]),_vm._v(\" \"),(_vm.validToleranceDistance)?_c('info',{attrs:{\"type\":\"warning\"}},[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Be careful,\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        this is a preview. Geometry is not simplified yet. Map interactions and export are disabled.\\n      \")])]):_vm._e(),_vm._v(\" \"),_c('info',{staticClass:\"mt-5\",attrs:{\"type\":\"help\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Create a simplified version of the geometry by reducing the amount of points\")])])]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Simplify\")]),_vm._v(\" \"),(_vm.validToleranceDistance)?_c('fa-icon',{staticClass:\"has-text-danger ml-1\",attrs:{\"icon\":\"exclamation-circle\",\"title\":_vm.$gettext('Not simplified yet')}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <dropdown-content class=\"mb-5\">\n    <span v-translate>Simplify</span>\n    <fa-icon\n      icon=\"exclamation-circle\"\n      v-if=\"validToleranceDistance\"\n      class=\"has-text-danger ml-1\"\n      :title=\"$gettext('Not simplified yet')\"\n    />\n    <template #content>\n      <p v-translate>Select tolerance (preview result on map)</p>\n      <div class=\"is-flex is-justify-content-center is-flex-wrap-wrap mt-3 mb-4\">\n        <div v-for=\"(tolerance, i) of tolerances\" :key=\"tolerance\" class=\"mb-2 is-flex-grow-1\">\n          <input\n            :id=\"'tolerance' + i\"\n            class=\"is-checkradio is-primary\"\n            type=\"radio\"\n            name=\"tolerances\"\n            :value=\"tolerance\"\n            v-model=\"toleranceDistance\"\n            @change=\"onPreviewSimplify\"\n          />\n          <label :for=\"'tolerance' + i\" class=\"mr-0\">{{ tolerancesText[i] }}</label>\n        </div>\n      </div>\n      <div class=\"is-flex is-justify-content-flex-end is-align-items-center\">\n        <div>\n          <button class=\"button\" :disabled=\"!validToleranceDistance\" @click=\"initialize\" v-translate>Cancel</button>\n          <button class=\"button is-primary\" :disabled=\"!validToleranceDistance\" @click=\"onSimplify\" v-translate>\n            Simplify\n          </button>\n        </div>\n      </div>\n      <info>\n        {{ featuresLength }} <span v-translate>points</span>\n        <strong v-if=\"validToleranceDistance\">\n          (<span v-translate>after:</span> {{ featuresSimplifiedLength }} <span v-translate>points</span>)\n        </strong>\n      </info>\n      <info type=\"warning\" v-if=\"validToleranceDistance\">\n        <strong v-translate>Be careful,</strong>\n        <span v-translate>\n          this is a preview. Geometry is not simplified yet. Map interactions and export are disabled.\n        </span>\n      </info>\n      <info type=\"help\" class=\"mt-5\">\n        <span v-translate>Create a simplified version of the geometry by reducing the amount of points</span>\n      </info>\n    </template>\n  </dropdown-content>\n</template>\n\n<script>\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport Info from '@/components/yeti/Info.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: { DropdownContent, Info },\n  data() {\n    return {\n      tolerances: [0, 25, 50, 100, 200],\n      tolerancesText: [this.$gettext('No'), '25m', '50m', '100m', '200m'],\n      toleranceDistance: 0,\n    };\n  },\n  computed: {\n    features() {\n      return Yetix.features;\n    },\n    featuresLength() {\n      return Yetix.featuresLength;\n    },\n    featuresSimplifiedLength() {\n      return this.features\n        .map((feature) => {\n          return feature.getGeometry().getCoordinates().length;\n        })\n        .reduce((acc, value) => acc + value);\n    },\n    validToleranceDistance() {\n      return this.toleranceDistance !== 0;\n    },\n  },\n  watch: {\n    toleranceDistance() {\n      if (this.validToleranceDistance) {\n        Yetix.setValidSimplifyTolerance(true);\n      } else {\n        Yetix.setValidSimplifyTolerance(false);\n      }\n    },\n  },\n  destroyed() {\n    // set validSimplifyTolerance to false\n    // go back to normal case for simplify tool\n    // and retrieve default value for edit mode\n    Yetix.setValidSimplifyTolerance(false);\n  },\n  methods: {\n    onPreviewSimplify() {\n      Yetix.$emit('previewSimplify', this.toleranceDistance);\n    },\n    onSimplify() {\n      Yetix.$emit('simplify');\n      // go back to init\n      this.initialize();\n    },\n    initialize() {\n      this.toleranceDistance = 0;\n      this.onPreviewSimplify();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SimplifyTool.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SimplifyTool.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SimplifyTool.vue?vue&type=template&id=22f25aef\"\nimport script from \"./SimplifyTool.vue?vue&type=script&lang=js\"\nexport * from \"./SimplifyTool.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Route</span></sub-panel-title>\n    <div class=\"route-buttons\">\n      <edit-mode-button is-small icon-only />\n      <span v-if=\"features.length\">\n        <button class=\"button is-secondary is-small\" :title=\"$gettext('Delete route')\" @click=\"onRemoveFeatures\">\n          <fa-icon icon=\"trash\" />\n          <span v-translate class=\"is-sr-only\">Delete route</span>\n        </button>\n        <button class=\"button is-secondary is-small\" :title=\"$gettext('Fit map to route')\" @click=\"fitMapToFeatures\">\n          <fa-icon icon=\"location-crosshairs\" />\n          <span v-translate class=\"is-sr-only\">Fit map to route</span>\n        </button>\n      </span>\n    </div>\n    <div v-if=\"features.length\">\n      <div class=\"columns is-mobile\">\n        <div class=\"column\">\n          <p class=\"features-title\">\n            <icon-route class=\"icon document-icon\" />\n            <fa-icon icon=\"pen\" class=\"icon edit-icon\" />\n            <span\n              v-show=\"!hasFeaturesTitle\"\n              class=\"features-title-text features-title-placeholder\"\n              @click=\"onEditNewFeaturesTitle\"\n              v-translate\n            >\n              Add title\n            </span>\n            <span\n              v-show=\"hasFeaturesTitle\"\n              class=\"features-title-text features-title-content\"\n              ref=\"featuresTitle\"\n              tabindex=\"0\"\n              contenteditable\n              spellcheck=\"false\"\n              @blur=\"onEditFeaturesTitle\"\n              @keypress.13.prevent\n              >{{ featuresTitle }}</span\n            >\n          </p>\n        </div>\n      </div>\n      <div class=\"ml-5 mb-5\">\n        <p class=\"is-size-7 is-italic mb-1 has-text-grey\" v-translate>Lines chunks</p>\n        <features-list :features=\"features\" />\n      </div>\n      <dropdown-content class=\"mb-5\">\n        <span v-translate>Elevation profile</span>\n        <template #content>\n          <elevation-profile :features=\"features\" />\n        </template>\n      </dropdown-content>\n      <simplify-tool ref=\"simplifyTool\" />\n    </div>\n    <div v-else class=\"columns is-vcentered is-mobile\">\n      <div class=\"column\">\n        <p v-translate class=\"mb-2\">No route right now</p>\n      </div>\n    </div>\n\n    <sub-panel-title><span v-translate>Winter routes</span></sub-panel-title>\n    <div v-if=\"winterRouteLayer\" class=\"columns is-vcentered is-mobile\">\n      <div class=\"column\">\n        <input-checkbox v-model=\"winterRouteLayer.checked\" @change=\"winterRouteLayer.action\">\n          <span v-translate>Visible layer</span>\n        </input-checkbox>\n        <component :is=\"winterRouteLayer.contentComponent\" v-if=\"winterRouteLayer.checked\" class=\"mt-2\" />\n      </div>\n    </div>\n\n    <div v-if=\"features.length\">\n      <sub-panel-title><span v-translate key=\"export\">Export</span></sub-panel-title>\n      <div class=\"columns is-vcentered is-mobile\">\n        <div class=\"column\">\n          <ul class=\"form-export\">\n            <li v-for=\"f of formats\" :key=\"f\" class=\"control is-flex\">\n              <input\n                :id=\"'format' + f\"\n                type=\"radio\"\n                name=\"exportFormat\"\n                class=\"is-checkradio is-primary\"\n                :value=\"f\"\n                v-model=\"format\"\n              />\n              <label :for=\"'format' + f\">{{ f }}</label>\n            </li>\n          </ul>\n        </div>\n        <div class=\"column is-narrow\">\n          <button\n            class=\"button is-primary\"\n            :class=\"{ 'is-disabled': validSimplifyTolerance }\"\n            @click=\"downloadCourse\"\n            v-translate\n          >\n            Export route\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div v-else>\n      <sub-panel-title><span v-translate key=\"import\">Import</span></sub-panel-title>\n      <div class=\"buttons\">\n        <button\n          class=\"button is-primary mr-2\"\n          :class=\"{ 'is-loading': loading }\"\n          :disabled=\"loading\"\n          @click=\"onLoadGpx\"\n          v-translate\n        >\n          Upload a GPS track\n        </button>\n      </div>\n      <div class=\"control upload-button\">\n        <input ref=\"gpxFileInput\" type=\"file\" @change=\"uploadGpx\" accept=\".gpx\" />\n      </div>\n    </div>\n\n    <hr />\n\n    <info type=\"help\">\n      <p v-translate>Drawing tips</p>\n      <ul class=\"content-ul\">\n        <li><strong v-translate translate-context=\"yeti\">Draw</strong> <span v-translate>new lines chunks</span></li>\n        <li>\n          <strong v-translate translate-context=\"yeti\">Delete</strong>\n          <span v-translate>last point with the Backspace key</span>\n        </li>\n      </ul>\n      <p v-translate>On a drawn line</p>\n      <ul class=\"content-ul\">\n        <li>\n          <strong v-translate translate-context=\"yeti\">Edit</strong> <span v-translate>points by moving them</span>\n        </li>\n        <li>\n          <strong v-translate translate-context=\"yeti\">Create</strong>\n          <span v-translate>a new point on an existing line</span>\n        </li>\n        <li><strong v-translate>Delete a point</strong> <span v-translate>with Alt + clic</span></li>\n        <li><strong v-translate>Split a line</strong> with Ctrl + clic</li>\n      </ul>\n      <p v-translate>From the interface</p>\n      <ul class=\"content-ul\">\n        <li><strong v-translate>Delete a line chunk</strong></li>\n        <li><strong v-translate>Delete route</strong> <span v-translate>to start or load a new one</span></li>\n      </ul>\n    </info>\n  </div>\n</template>\n\n<script>\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport EditModeButton from '@/components/yeti/EditModeButton.vue';\nimport ElevationProfile from '@/components/yeti/ElevationProfile.vue';\nimport FeaturesList from '@/components/yeti/FeaturesList.vue';\nimport Info from '@/components/yeti/Info.vue';\nimport SimplifyTool from '@/components/yeti/SimplifyTool.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\nimport utils from '@/js/utils';\n\nexport default {\n  components: {\n    DropdownContent,\n    EditModeButton,\n    ElevationProfile,\n    FeaturesList,\n    Info,\n    SimplifyTool,\n    SubPanelTitle,\n  },\n  data() {\n    return {\n      newFeaturesTitle: false,\n      loading: false,\n      formats: ['GPX', 'KML'],\n      format: 'GPX',\n    };\n  },\n  computed: {\n    editMode() {\n      return Yetix.editMode;\n    },\n    features() {\n      return Yetix.features;\n    },\n    featuresTitle() {\n      return Yetix.featuresTitle;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n    hasFeaturesTitle() {\n      return !(!this.featuresTitle.length && !this.newFeaturesTitle);\n    },\n    winterRouteLayer() {\n      return Yetix.overlaysLayersSelector.filter((layer) => layer.id === 'winter-route')[0];\n    },\n  },\n  methods: {\n    onEditFeaturesTitle(e) {\n      if (!e.target.innerText.length) {\n        this.newFeaturesTitle = false;\n      }\n      Yetix.setFeaturesTitle(e.target.innerText);\n    },\n    onEditNewFeaturesTitle() {\n      this.newFeaturesTitle = true;\n      this.$nextTick(() => {\n        this.$refs.featuresTitle.focus();\n      });\n    },\n    onLoadGpx() {\n      this.$refs.gpxFileInput.click();\n    },\n    onRemoveFeatures() {\n      if (confirm(this.$gettext('Confirm delete'))) {\n        Yetix.$emit('removeFeatures');\n        // initialize simplify tool (go back to init state)\n        this.$refs.simplifyTool.initialize();\n      }\n    },\n    uploadGpx(event) {\n      this.loading = true;\n\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        this.loading = false;\n        Yetix.$emit('gpx', reader.result);\n      };\n\n      reader.readAsText(event.target.files[0]);\n\n      // empty the input, because if user wants to upload same trace\n      // change event is not fired\n      // and emit gpx event\n      this.$refs.gpxFileInput.value = '';\n      Yetix.$emit('gpx', null);\n    },\n    downloadCourse() {\n      if (this.validSimplifyTolerance) {\n        return window.alert(this.$gettext('Action is disabled. You must confirm simplified geometry first.'));\n      }\n      if (this.format === 'GPX') {\n        this.downloadFeatures(new ol.format.GPX(), '.gpx', 'application/gpx+xml');\n      } else if (this.format === 'KML') {\n        this.downloadFeatures(new ol.format.KML(), '.kml', 'application/vnd.google-earth.kml+xml');\n      }\n    },\n    downloadFeatures(olFormat, extension, mimetype) {\n      const features = this.features;\n      features[0].set('name', this.featuresTitle);\n\n      const filename = this.setFilename(extension);\n\n      const content = olFormat.writeFeatures(features, {\n        featureProjection: 'EPSG:3857',\n        decimals: 7,\n      });\n\n      utils.download(content, filename, mimetype + ';charset=utf-8');\n    },\n    setFilename(ext) {\n      return this.$dateUtils.toLocalizedString(new Date(), 'YYYY-MM-DD_HH-mm-ss') + ext;\n    },\n    setEditMode() {\n      Yetix.setEditMode(!this.editMode);\n    },\n    fitMapToFeatures() {\n      Yetix.$emit('fit-map-to-features');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.features-title {\n  display: flex;\n  line-height: 1.4;\n\n  &-text {\n    min-width: 100px;\n    border: solid 1px transparent;\n    border-radius: 2px;\n    padding: 2px 2em 2px 2px;\n    box-decoration-break: clone;\n\n    &:hover,\n    &:focus {\n      border-color: #b5b5b5;\n    }\n  }\n\n  &-placeholder {\n    font-style: italic;\n  }\n\n  &-content {\n    font-weight: bold;\n  }\n}\n\n.icon {\n  margin-top: 2px;\n}\n\n.edit-icon {\n  order: 1;\n  opacity: 0;\n  margin-left: -1.5em;\n  pointer-events: none;\n  transform: scale(0.75);\n}\n\n.features-title:hover .edit-icon {\n  opacity: 0.75;\n}\n\n.document-icon {\n  margin-right: 3px;\n}\n\n.upload-button {\n  position: relative;\n}\n\ninput[type='file'] {\n  opacity: 0; /* invisible but it's there! */\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  cursor: pointer;\n}\n\n.form-export {\n  display: flex;\n}\n\n.control {\n  align-items: center;\n\n  .is-checkradio[type='radio'] + label {\n    line-height: 1.2rem;\n  }\n}\n\n@media screen and (max-width: 350px) {\n  .form-export {\n    display: block;\n  }\n}\n\n.buttons {\n  line-height: 2.5rem;\n}\n\n.route-buttons {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  z-index: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelCourse.vue?vue&type=template&id=3372cd98&scoped=true\"\nimport script from \"./SubPanelCourse.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelCourse.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelCourse.vue?vue&type=style&index=0&id=3372cd98&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3372cd98\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Overlays\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.overlaysLayersLarge),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\"},[_c('layer-button',{attrs:{\"image\":layer.image,\"country\":layer.country},on:{\"change\":layer.action},model:{value:(layer.checked),callback:function ($$v) {_vm.$set(layer, \"checked\", $$v)},expression:\"layer.checked\"}},[_c('span',[_vm._v(_vm._s(layer.title))])])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"layer-controls\"},_vm._l((_vm.overlaysLayersLargeCheckedAndNeedContent),function(layer){return _c('dropdown-content',{key:layer.title,staticClass:\"mb-2\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c(layer.contentComponent,{tag:\"component\"})]},proxy:true}],null,true)},[_c(layer.contentTitleComponent,{tag:\"component\",attrs:{\"layer\":layer}})],1)}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"layers-group\"},[_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.overlaysLayersSmall),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item is-small\"},[_c('layer-button',{attrs:{\"image\":layer.image,\"country\":layer.country},on:{\"change\":layer.action},model:{value:(layer.checked),callback:function ($$v) {_vm.$set(layer, \"checked\", $$v)},expression:\"layer.checked\"}},[_c('span',[_vm._v(_vm._s(layer.title))])])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"layer-controls\"},_vm._l((_vm.overlaysLayersSmallCheckedAndNeedContent),function(layer){return _c('dropdown-content',{key:layer.title,staticClass:\"mb-2\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c(layer.contentComponent,{tag:\"component\"})]},proxy:true}],null,true)},[_c(layer.contentTitleComponent,{tag:\"component\",attrs:{\"layer\":layer}})],1)}),1)]),_vm._v(\" \"),_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',[_vm._v(\"YETI\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.yetiLayersSelector),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\"},[_c('layer-button',{attrs:{\"disabled\":layer.disabled,\"image\":layer.image},on:{\"change\":layer.action},model:{value:(layer.checked),callback:function ($$v) {_vm.$set(layer, \"checked\", $$v)},expression:\"layer.checked\"}},[_c('span',[_vm._v(_vm._s(layer.title))])])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"layer-controls\"},_vm._l((_vm.yetiLayersSelectorChecked),function(layer){return _c('dropdown-content',{key:layer.title,staticClass:\"mb-2\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"layer-control-item\"},[_c('slider',{attrs:{\"min\":0,\"max\":1,\"interval\":0.01},model:{value:(layer.opacity),callback:function ($$v) {_vm.$set(layer, \"opacity\", $$v)},expression:\"layer.opacity\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Opacity\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"layer-control-item\"},[_c('input-checkbox',{model:{value:(layer.blendModes),callback:function ($$v) {_vm.$set(layer, \"blendModes\", $$v)},expression:\"layer.blendModes\"}},[_c('span',[_vm._v(\"Blend pixels\")])])],1)]},proxy:true}],null,true)},[_c('span',[_c('fa-icon',{attrs:{\"icon\":\"gear\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(layer.title))])],1)])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Slopes\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.slopesLayersSelector),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\"},[_c('layer-button',{attrs:{\"image\":layer.image,\"country\":layer.country},model:{value:(layer.checked),callback:function ($$v) {_vm.$set(layer, \"checked\", $$v)},expression:\"layer.checked\"}},[_c('span',[_vm._v(_vm._s(_vm.$gettext(layer.title, 'Map slopes layer')))])])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"layer-controls\"},_vm._l((_vm.slopesLayersSelectorChecked),function(layer){return _c('dropdown-content',{key:layer.title,staticClass:\"mb-2\",scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"layer-control-item\"},[_c('slider',{attrs:{\"min\":0,\"max\":1,\"interval\":0.01},model:{value:(layer.opacity),callback:function ($$v) {_vm.$set(layer, \"opacity\", $$v)},expression:\"layer.opacity\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Opacity\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"layer-control-item\"},[_c('input-checkbox',{model:{value:(layer.blendModes),callback:function ($$v) {_vm.$set(layer, \"blendModes\", $$v)},expression:\"layer.blendModes\"}},[_c('span',[_vm._v(\"Blend pixels\")])])],1)]},proxy:true}],null,true)},[_c('span',[_c('fa-icon',{attrs:{\"icon\":\"gear\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$gettext(layer.title, 'Map slopes layer')))])],1)])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"layers-group\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Base layers\")])]),_vm._v(\" \"),_c('div',{staticClass:\"layer-items\"},_vm._l((_vm.baseLayersSelector),function(layer){return _c('div',{key:layer.title,staticClass:\"layer-item\",class:{ 'is-small': layer.small }},[_c('layer-button',{attrs:{\"type\":\"radio\",\"name\":\"baselayer\",\"model\":layer,\"image\":layer.image,\"country\":layer.country},model:{value:(_vm.selectedBaseLayer),callback:function ($$v) {_vm.selectedBaseLayer=$$v},expression:\"selectedBaseLayer\"}},[_c('span',[_vm._v(_vm._s(_vm.$gettext(layer.title, 'Map layer')))])])],1)}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._g({staticClass:\"layer-button\"},_vm.disabled?.condition ? { click: _vm.warnIfDisabled } : {}),[((_vm.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm._value),expression:\"_value\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'layer-checkbox' + _vm._uid,\"name\":_vm.name,\"disabled\":_vm.disabled?.condition,\"type\":\"checkbox\"},domProps:{\"value\":_vm.model,\"checked\":Array.isArray(_vm._value)?_vm._i(_vm._value,_vm.model)>-1:(_vm._value)},on:{\"change\":[function($event){var $$a=_vm._value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.model,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm._value=$$a.concat([$$v]))}else{$$i>-1&&(_vm._value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm._value=$$c}},function($event){return _vm.$emit('change')}]}}):((_vm.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm._value),expression:\"_value\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'layer-checkbox' + _vm._uid,\"name\":_vm.name,\"disabled\":_vm.disabled?.condition,\"type\":\"radio\"},domProps:{\"value\":_vm.model,\"checked\":_vm._q(_vm._value,_vm.model)},on:{\"change\":[function($event){_vm._value=_vm.model},function($event){return _vm.$emit('change')}]}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm._value),expression:\"_value\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'layer-checkbox' + _vm._uid,\"name\":_vm.name,\"disabled\":_vm.disabled?.condition,\"type\":_vm.type},domProps:{\"value\":_vm.model,\"value\":(_vm._value)},on:{\"change\":function($event){return _vm.$emit('change')},\"input\":function($event){if($event.target.composing)return;_vm._value=$event.target.value}}}),_vm._v(\" \"),_c('label',{staticClass:\"layer-label\",attrs:{\"for\":'layer-checkbox' + _vm._uid}},[_c('div',{staticClass:\"layer-image\",style:({\n        'background-image': _vm.backgroundImage,\n      })},[(_vm.country)?_c('span',{staticClass:\"layer-country\",class:'layer-country-' + _vm.country,style:({ 'background-image': 'url(' + require('../../assets/img/flags/' + _vm.country + '.svg') + ')' })}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"layer-text\",class:{ 'has-text-primary': _vm.model ? _vm.model.checked : _vm._value }},[_vm._t(\"default\")],2)]),_vm._v(\" \"),_c('toast',{ref:\"toast-button\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.disabled?.title))]},proxy:true}])},[_vm._v(\"\\n    \"+_vm._s(_vm.disabled?.message)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-toast\"},[_c('h2',{staticClass:\"title is-6\"},[_vm._t(\"title\")],2),_vm._v(\" \"),_c('p',[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"yeti-toast\">\n    <h2 class=\"title is-6\"><slot name=\"title\" /></h2>\n    <p><slot /></p>\n  </div>\n</template>\n\n<script>\nimport { toast } from 'bulma-toast';\n\nexport default {\n  methods: {\n    toast(props) {\n      // merge props\n      let opts = {\n        ...{\n          duration: 3000,\n          type: 'is-info',\n          pauseOnHover: true,\n          position: 'center',\n          dismissible: true,\n          single: true,\n        },\n        ...props,\n      };\n      // add message\n      opts.message = this.$el;\n      toast(opts);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.yeti-toast {\n  display: none;\n  white-space: normal;\n}\n.notification .yeti-toast {\n  display: block;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Toast.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Toast.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Toast.vue?vue&type=template&id=2029daee&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\nimport style0 from \"./Toast.vue?vue&type=style&index=0&id=2029daee&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2029daee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"layer-button\" v-on=\"disabled?.condition ? { click: warnIfDisabled } : {}\">\n    <input\n      :id=\"'layer-checkbox' + _uid\"\n      class=\"is-checkradio is-primary\"\n      :type=\"type\"\n      :name=\"name\"\n      v-model=\"_value\"\n      :value=\"model\"\n      :disabled=\"disabled?.condition\"\n      @change=\"$emit('change')\"\n    />\n    <label :for=\"'layer-checkbox' + _uid\" class=\"layer-label\">\n      <div\n        class=\"layer-image\"\n        :style=\"{\n          'background-image': backgroundImage,\n        }\"\n      >\n        <span\n          class=\"layer-country\"\n          :class=\"'layer-country-' + country\"\n          v-if=\"country\"\n          :style=\"{ 'background-image': 'url(' + require('../../assets/img/flags/' + country + '.svg') + ')' }\"\n        ></span>\n      </div>\n      <div class=\"layer-text\" :class=\"{ 'has-text-primary': model ? model.checked : _value }\">\n        <slot />\n      </div>\n    </label>\n    <toast ref=\"toast-button\">\n      <template #title>{{ disabled?.title }}</template>\n      {{ disabled?.message }}\n    </toast>\n  </div>\n</template>\n\n<script>\nimport Toast from '@/components/yeti/Toast';\n\nexport default {\n  components: {\n    Toast,\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'checkbox',\n    },\n    name: {\n      type: String,\n      default: null,\n    },\n    value: {\n      type: [Boolean, Object],\n      default: null,\n    },\n    model: {\n      type: Object,\n      default: null,\n    },\n    disabled: {\n      type: Object,\n      default: null,\n    },\n    image: {\n      type: String,\n      default: null,\n    },\n    country: {\n      type: String,\n      default: null,\n    },\n  },\n  computed: {\n    _value: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        this.$emit('input', value);\n      },\n    },\n    backgroundImage() {\n      let img;\n      try {\n        img = require('../../assets/img/yeti/layers/' + this.image);\n        img = 'url(' + img + ')';\n      } catch (e) {\n        img = 'none';\n      }\n      return img;\n    },\n  },\n  methods: {\n    warnIfDisabled() {\n      this.$refs['toast-button'].toast();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$width: calc(70 / 14 * 1rem);\n$height: calc(50 / 14 * 1rem);\n\n.layer-image {\n  position: relative;\n  width: $width;\n  min-height: $height;\n  background: #dbdbdb;\n  box-shadow: 0 0 0 2px white, 0 0 0 3px #dbdbdb;\n  border-radius: 4px;\n  margin-bottom: 0.5rem;\n  background-position: center;\n}\n.layer-label {\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 !important;\n  margin: 0 !important;\n}\n.layer-text {\n  margin: 0 -8px;\n}\n.layer-country {\n  position: absolute;\n  bottom: 4px;\n  right: 4px;\n  width: 16px;\n  height: 12px;\n  background-size: cover;\n  background-position: center;\n}\n.layer-country-ch {\n  width: 12px;\n}\n.layer-button {\n  text-align: center;\n\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before,\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    z-index: 1;\n    left: calc(50% - ($width / 2));\n  }\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before {\n    background: #0000;\n    border-color: #0000;\n  }\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    left: calc(50% - ($width / 2) + 0.5rem) !important;\n  }\n  .is-checkradio:hover:not([disabled]) + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:focus-visible + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:checked:not([disabled]) + label::before {\n    box-shadow: 0 0 0 2px $white;\n  }\n  .is-checkradio:not(:checked):hover:not([disabled]) + label::before {\n    border-width: 1px;\n    border-color: #dbdbdb !important;\n    background: white;\n    box-shadow: none;\n  }\n  .is-checkradio:not(:checked):focus-visible + label::before {\n    border-width: 1px;\n    border-color: #dbdbdb !important;\n    background: white;\n    box-shadow: none;\n  }\n  .is-checkradio:checked:not([disabled]) + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary;\n  }\n  .is-checkradio:checked:focus-visible + label .layer-image {\n    box-shadow: 0 0 0 2px $white, 0 0 0 4px $primary, 0 0 0 6px $secondary !important;\n  }\n}\n.is-small {\n  .layer-image {\n    width: 1.5rem;\n    min-height: 1.5rem;\n    margin-bottom: 0;\n    background-size: 220%;\n  }\n  .layer-label {\n    flex-direction: row;\n    align-items: flex-start;\n  }\n  .layer-text {\n    margin-left: 0.5rem;\n    text-align: left;\n    white-space: nowrap;\n  }\n  .is-checkradio[type='checkbox'] + label::before,\n  .is-checkradio[type='radio'] + label::before {\n    left: 0;\n  }\n  .is-checkradio:not(:checked):hover:not([disabled]) + label::before {\n    opacity: 0;\n  }\n  .is-checkradio:not(:checked):focus-visible + label::before {\n    opacity: 0;\n  }\n  .is-checkradio[type='checkbox'] + label::after,\n  .is-checkradio[type='radio'] + label::after {\n    left: 0.5rem !important;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./LayerButton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./LayerButton.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LayerButton.vue?vue&type=template&id=4e6be6e1&scoped=true\"\nimport script from \"./LayerButton.vue?vue&type=script&lang=js\"\nexport * from \"./LayerButton.vue?vue&type=script&lang=js\"\nimport style0 from \"./LayerButton.vue?vue&type=style&index=0&id=4e6be6e1&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e6be6e1\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('span',{staticClass:\"label\",attrs:{\"id\":'slider_' + _vm._uid},on:{\"click\":_vm.focus}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('vue-slider',{ref:\"slider\",attrs:{\"dot-attrs\":{ 'aria-labelledby': 'slider_' + _vm._uid },\"min\":_vm.min,\"max\":_vm.max,\"interval\":_vm.interval,\"tooltip\":\"none\",\"duration\":0,\"contained\":true},on:{\"change\":function($event){return _vm.$emit('change')}},model:{value:(_vm._value),callback:function ($$v) {_vm._value=$$v},expression:\"_value\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <span :id=\"'slider_' + _uid\" @click=\"focus\" class=\"label\">\n      <slot></slot>\n    </span>\n    <vue-slider\n      ref=\"slider\"\n      v-model=\"_value\"\n      :dot-attrs=\"{ 'aria-labelledby': 'slider_' + _uid }\"\n      :min=\"min\"\n      :max=\"max\"\n      :interval=\"interval\"\n      tooltip=\"none\"\n      :duration=\"0\"\n      :contained=\"true\"\n      @change=\"$emit('change')\"\n    />\n  </div>\n</template>\n\n<script>\nimport 'vue-slider-component/theme/default.css';\nimport VueSlider from 'vue-slider-component';\n\nexport default {\n  components: {\n    VueSlider,\n  },\n  props: {\n    value: {\n      type: Number,\n      default: null,\n    },\n    min: {\n      type: Number,\n      default: null,\n    },\n    max: {\n      type: Number,\n      default: null,\n    },\n    interval: {\n      type: Number,\n      default: null,\n    },\n  },\n  computed: {\n    _value: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        this.$emit('input', value);\n      },\n    },\n  },\n  methods: {\n    focus() {\n      this.$refs.slider.$el.querySelector('.vue-slider-dot').focus({ focusVisible: true });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.yeti-app {\n  /* customization of vue-slider */\n  $dotSize: 14px;\n  .vue-slider-process {\n    background: $primary;\n    box-shadow: calc(-1 * $dotSize / 2) 0 $primary;\n  }\n  .vue-slider-rail {\n    background: $grey-lighter;\n    box-shadow: calc(-1 * $dotSize / 2) 0 $grey-lighter, calc($dotSize / 2) 0 $grey-lighter;\n  }\n  .vue-slider-dot-handle {\n    box-shadow: 0 0 0 2px $primary;\n  }\n  .vue-slider-dot:focus-visible {\n    box-shadow: 0 0 0 4px $secondary;\n    border-radius: $dotSize;\n  }\n}\n</style>\n\n<style scoped>\n.label {\n  cursor: pointer;\n  font-weight: normal;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Slider.vue?vue&type=template&id=d7c55170&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=js\"\nexport * from \"./Slider.vue?vue&type=script&lang=js\"\nimport style0 from \"./Slider.vue?vue&type=style&index=0&id=d7c55170&prod&lang=scss\"\nimport style1 from \"./Slider.vue?vue&type=style&index=1&id=d7c55170&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7c55170\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <div class=\"layers-group\">\n      <sub-panel-title><span v-translate>Overlays</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div v-for=\"layer of overlaysLayersLarge\" :key=\"layer.title\" class=\"layer-item\">\n          <layer-button v-model=\"layer.checked\" :image=\"layer.image\" :country=\"layer.country\" @change=\"layer.action\">\n            <span>{{ layer.title }}</span>\n          </layer-button>\n        </div>\n      </div>\n      <div class=\"layer-controls\">\n        <dropdown-content v-for=\"layer of overlaysLayersLargeCheckedAndNeedContent\" :key=\"layer.title\" class=\"mb-2\">\n          <component :is=\"layer.contentTitleComponent\" :layer=\"layer\" />\n          <template #content>\n            <component :is=\"layer.contentComponent\" />\n          </template>\n        </dropdown-content>\n      </div>\n    </div>\n    <div class=\"layers-group\">\n      <div class=\"layer-items\">\n        <div v-for=\"layer of overlaysLayersSmall\" :key=\"layer.title\" class=\"layer-item is-small\">\n          <layer-button v-model=\"layer.checked\" :image=\"layer.image\" :country=\"layer.country\" @change=\"layer.action\">\n            <span>{{ layer.title }}</span>\n          </layer-button>\n        </div>\n      </div>\n      <div class=\"layer-controls\">\n        <dropdown-content v-for=\"layer of overlaysLayersSmallCheckedAndNeedContent\" :key=\"layer.title\" class=\"mb-2\">\n          <component :is=\"layer.contentTitleComponent\" :layer=\"layer\" />\n          <template #content>\n            <component :is=\"layer.contentComponent\" />\n          </template>\n        </dropdown-content>\n      </div>\n    </div>\n    <div class=\"layers-group\">\n      <sub-panel-title><span>YETI</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div v-for=\"layer of yetiLayersSelector\" :key=\"layer.title\" class=\"layer-item\">\n          <layer-button v-model=\"layer.checked\" :disabled=\"layer.disabled\" :image=\"layer.image\" @change=\"layer.action\">\n            <span>{{ layer.title }}</span>\n          </layer-button>\n        </div>\n      </div>\n      <div class=\"layer-controls\">\n        <dropdown-content v-for=\"layer of yetiLayersSelectorChecked\" :key=\"layer.title\" class=\"mb-2\">\n          <span>\n            <fa-icon icon=\"gear\" />\n            <span>{{ layer.title }}</span>\n          </span>\n          <template #content>\n            <div class=\"layer-control-item\">\n              <slider v-model=\"layer.opacity\" :min=\"0\" :max=\"1\" :interval=\"0.01\">\n                <span v-translate>Opacity</span>\n              </slider>\n            </div>\n            <div class=\"layer-control-item\">\n              <input-checkbox v-model=\"layer.blendModes\">\n                <span>Blend pixels</span>\n              </input-checkbox>\n            </div>\n          </template>\n        </dropdown-content>\n      </div>\n    </div>\n    <div class=\"layers-group\">\n      <sub-panel-title><span v-translate>Slopes</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div v-for=\"layer of slopesLayersSelector\" :key=\"layer.title\" class=\"layer-item\">\n          <layer-button v-model=\"layer.checked\" :image=\"layer.image\" :country=\"layer.country\">\n            <span>{{ $gettext(layer.title, 'Map slopes layer') }}</span>\n          </layer-button>\n        </div>\n      </div>\n      <div class=\"layer-controls\">\n        <dropdown-content v-for=\"layer of slopesLayersSelectorChecked\" :key=\"layer.title\" class=\"mb-2\">\n          <span>\n            <fa-icon icon=\"gear\" />\n            <span>{{ $gettext(layer.title, 'Map slopes layer') }}</span>\n          </span>\n          <template #content>\n            <div class=\"layer-control-item\">\n              <slider v-model=\"layer.opacity\" :min=\"0\" :max=\"1\" :interval=\"0.01\">\n                <span v-translate>Opacity</span>\n              </slider>\n            </div>\n            <div class=\"layer-control-item\">\n              <input-checkbox v-model=\"layer.blendModes\">\n                <span>Blend pixels</span>\n              </input-checkbox>\n            </div>\n          </template>\n        </dropdown-content>\n      </div>\n    </div>\n    <div class=\"layers-group\">\n      <sub-panel-title><span v-translate>Base layers</span></sub-panel-title>\n      <div class=\"layer-items\">\n        <div\n          v-for=\"layer of baseLayersSelector\"\n          :key=\"layer.title\"\n          class=\"layer-item\"\n          :class=\"{ 'is-small': layer.small }\"\n        >\n          <layer-button\n            type=\"radio\"\n            name=\"baselayer\"\n            v-model=\"selectedBaseLayer\"\n            :model=\"layer\"\n            :image=\"layer.image\"\n            :country=\"layer.country\"\n          >\n            <span>{{ $gettext(layer.title, 'Map layer') }}</span>\n          </layer-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport LayerButton from '@/components/yeti/LayerButton';\nimport Slider from '@/components/yeti/Slider.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  name: 'Yeti',\n  components: {\n    DropdownContent,\n    LayerButton,\n    Slider,\n    SubPanelTitle,\n  },\n  data() {\n    return {\n      showAreasWasTrue: null,\n    };\n  },\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    baseLayersSelector() {\n      return Yetix.baseLayersSelector;\n    },\n    selectedBaseLayer: {\n      get() {\n        return this.baseLayersSelector.find((layer) => layer.checked);\n      },\n      set(layer) {\n        this.baseLayersSelector.map((layer) => (layer.checked = false));\n        layer.checked = true;\n\n        // store current map layers base\n        this.$localStorage.set('yeti-map-layers-base', layer.title);\n      },\n    },\n    slopesLayersSelector() {\n      return Yetix.slopesLayersSelector;\n    },\n    slopesLayersSelectorChecked() {\n      return this.slopesLayersSelector.filter((layer) => {\n        return layer.checked;\n      });\n    },\n    overlaysLayersSelector() {\n      return Yetix.overlaysLayersSelector;\n    },\n    overlaysLayersLarge() {\n      return this.overlaysLayersSelector.filter((layer) => {\n        return !layer.small;\n      });\n    },\n    overlaysLayersSmall() {\n      return this.overlaysLayersSelector.filter((layer) => {\n        return layer.small;\n      });\n    },\n    overlaysLayersLargeCheckedAndNeedContent() {\n      return this.overlaysLayersLarge.filter((layer) => {\n        return layer.checked && layer.contentComponent;\n      });\n    },\n    overlaysLayersSmallCheckedAndNeedContent() {\n      return this.overlaysLayersSmall.filter((layer) => {\n        return layer.checked && layer.contentComponent;\n      });\n    },\n    yetiLayersSelector() {\n      return Yetix.yetiLayersSelector;\n    },\n    yetiLayersSelectorChecked() {\n      return this.yetiLayersSelector.filter((layer) => {\n        return layer.checked && layer.title !== this.$gettext('Extent');\n      });\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n  },\n  watch: {\n    mapZoom() {\n      // uncheck yeti extent checkbox when zoom is reached\n      // store old state if true, and revert back when zoom is valid\n      // (good for perf because only 2 layers max will be visible instead of 4)\n      if (this.mapZoom > Yetix.BLEND_MODES_MAX_ZOOM) {\n        if (this.showAreas) {\n          this.showAreasWasTrue = this.showAreas;\n        }\n        Yetix.setShowAreas(false);\n      } else if (this.showAreasWasTrue) {\n        Yetix.setShowAreas(true);\n        this.showAreasWasTrue = null;\n      }\n    },\n    slopesLayersSelectorChecked(layers) {\n      // store current slope layers\n      this.$localStorage.set(\n        'yeti-map-layers-slopes',\n        layers.map((layer) => layer.title)\n      );\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$width: calc(70 / 14 * 1rem);\n$height: calc(50 / 14 * 1rem);\n\n.layers-group {\n  margin-bottom: 2rem;\n}\n.layer-items {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, $width);\n  grid-template-rows: repeat(auto-fill, 1.429rem);\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: 1rem;\n  margin-left: 3px;\n  margin-right: 3px;\n}\n.layer-item {\n  grid-row-end: span 4;\n}\n.is-small {\n  grid-column-end: span 2;\n  grid-row-end: span 1;\n}\n.layer-controls {\n  margin-top: 1rem;\n}\n.layer-control-item {\n  margin: 0.5rem 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelLayers.vue?vue&type=template&id=ec64d1b8&scoped=true\"\nimport script from \"./SubPanelLayers.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelLayers.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelLayers.vue?vue&type=style&index=0&id=ec64d1b8&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ec64d1b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Meteo\")])]),_vm._v(\" \"),(_vm.hasLonLat)?_c('div',{staticClass:\"iframe-container p-1\"},[_c('div',{style:({ opacity: _vm.loading ? 0 : 1 })},[_c('iframe',{attrs:{\"src\":_vm.meteoBlueWidgetUrl,\"frameborder\":\"0\",\"scrolling\":\"no\",\"allowtransparency\":\"true\",\"sandbox\":\"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"meteoblue - \"),_c('a',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"href\":_vm.meteoBlueUrl,\"target\":\"_blank\"}},[_vm._v(\"More info on meteoblue.com\")])])])]):_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Click on the map to get weather forecasts\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Meteo</span></sub-panel-title>\n    <div v-if=\"hasLonLat\" class=\"iframe-container p-1\">\n      <div :style=\"{ opacity: loading ? 0 : 1 }\">\n        <iframe\n          :src=\"meteoBlueWidgetUrl\"\n          frameborder=\"0\"\n          scrolling=\"no\"\n          allowtransparency=\"true\"\n          sandbox=\"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox\"\n        ></iframe>\n        <p>meteoblue - <a :href=\"meteoBlueUrl\" target=\"_blank\" v-translate>More info on meteoblue.com</a></p>\n      </div>\n    </div>\n    <div v-else>\n      <p v-translate>Click on the map to get weather forecasts</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: {\n    SubPanelTitle,\n  },\n  data() {\n    return {\n      loading: false,\n      lat: 0,\n      lon: 0,\n    };\n  },\n  computed: {\n    lang() {\n      let lang = this.$language.current;\n      // available lang in meteoblue\n      if (!['fr', 'it', 'de', 'en', 'es', 'hu'].includes(lang)) {\n        lang = 'en';\n      }\n      return lang;\n    },\n    meteoBlueBaseUrl() {\n      return `https://www.meteoblue.com/${this.lang}/weather`;\n    },\n    meteoBlueWidgetUrl() {\n      let url = this.meteoBlueBaseUrl + '/widget/daily/';\n\n      url += this.lat + 'N';\n      url += this.lon + 'E';\n\n      url += `?geoloc=fixed&days=5&tempunit=CELSIUS&windunit=KILOMETER_PER_HOUR&precipunit=MILLIMETER&coloured=coloured&pictoicon=1&maxtemperature=1&mintemperature=1&windspeed=1&windgust=0&winddirection=1&uv=0&humidity=0&precipitation=1&precipitationprobability=1&spot=0&pressure=0&layout=light`;\n\n      return url;\n    },\n    meteoBlueUrl() {\n      let url = this.meteoBlueBaseUrl + '/week/';\n\n      url += this.lat + 'N';\n      url += this.lon + 'E';\n\n      return url;\n    },\n    hasLonLat() {\n      return this.lon !== 0 && this.lat !== 0;\n    },\n  },\n  mounted() {\n    Yetix.$on('lon-lat', (evt) => {\n      this.loading = true;\n      this.lon = evt.lon;\n      this.lat = evt.lat;\n      setTimeout(() => {\n        this.loading = false;\n      }, 350);\n    });\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.iframe-container {\n  background: $light;\n\n  div {\n    transition: opacity 0.35s;\n  }\n}\niframe {\n  width: 100%;\n  height: 310px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelMeteo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelMeteo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelMeteo.vue?vue&type=template&id=8f83644c&scoped=true\"\nimport script from \"./SubPanelMeteo.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelMeteo.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelMeteo.vue?vue&type=style&index=0&id=8f83644c&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f83644c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Methods\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile yetitabs\"},_vm._l((Object.keys(_vm.methods)),function(item){return _c('div',{key:item,staticClass:\"column yetitab\"},[_c('div',{staticClass:\"control yetitab-control\",class:{ 'yetitab-control--selected': _vm.method.type === item }},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-method-' + item,\"type\":\"radio\",\"name\":\"method\",\"disabled\":item === 'mrd' ? _vm.bra.high == 4 || _vm.bra.low == 4 : false},domProps:{\"value\":item,\"checked\":item === _vm.method.type},on:{\"change\":function($event){return _vm.onChange($event, 'type')}}}),_vm._v(\" \"),_c('label',{staticClass:\"yetitab-label\",attrs:{\"for\":'c2c-method-' + item},on:{\"click\":function($event){return _vm.warnAboutMethodBra(item)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.methods[item][0])+\"\\n          \"),_c('span',{staticClass:\"is-size-7\",class:{ 'has-text-grey': item !== _vm.method.type }},[_vm._v(_vm._s(_vm.methods[item][1]))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrd'),expression:\"method.type == 'mrd'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Beginner Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\\n        important. No parameter other than the danger level is specified. Orientation is ignored.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',[_vm._m(0),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',[_vm._m(1),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(2),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(3),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high to very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mre'),expression:\"method.type == 'mre'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Elementary Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('input-orientation',{staticClass:\"has-text-centered mb-2\",attrs:{\"value\":_vm.method.orientation},on:{\"input\":function($event){return _vm.onChange($event, 'orientation')}}}),_vm._v(\" \"),(_vm.method.orientation.length != 0)?_c('info',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Orientations\")]),_vm._v(\": \"+_vm._s(_vm.method.orientation.join(', '))+\"\\n    \")]):_c('info',{attrs:{\"type\":\"warning\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No orientation selected\")])]),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\\n        critical sectors presenting an increased risk.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',{staticClass:\"multiline\"},[_vm._m(4),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Stay careful while skiing\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"risk of a rough fall on hard snow\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(5),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(6),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(7),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(8),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrp'),expression:\"method.type == 'mrp'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Professional Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\\n      \")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Hazard potential\")]),_vm._v(\" \"),_c('ul',{staticClass:\"potential-danger-labels has-text-black\"},_vm._l((_vm.potentialDangerLabels),function(label){return _c('li',{key:label.text,staticClass:\"potential-danger-label is-size-5\",attrs:{\"disabled\":!_vm.bra.high || label.text < _vm.potentialDangerOptions.min || label.text > _vm.potentialDangerOptions.max,\"selected\":_vm.method.potentialDanger == label.text},on:{\"click\":function($event){return _vm.onChange(label.text, 'potentialDanger')}}},[_c('span',{class:{ 'is-size-3 has-text-weight-bold': label.val }},[_vm._v(\"\\n          \"+_vm._s(label.text)+\"\\n        \")])])}),0),_vm._v(\" \"),(_vm.method.potentialDanger)?_c('info',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Hazard potential:\")]),_vm._v(\"\\n      \"+_vm._s(_vm.method.potentialDanger)+\"\\n      (\"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level:\")]),_vm._v(\" \"+_vm._s(_vm.bra.high)+\")\\n    \")]):_c('info',{attrs:{\"type\":\"warning\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No selected hazard potential. Set danger level first.\")])]),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\\n        selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\\n        evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\\n      \")])]),_vm._v(\" \"),_c('p',[_c('input-checkbox',{attrs:{\"value\":_vm.method.wetSnow},on:{\"input\":function($event){return _vm.onChange($event, 'wetSnow')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Wet snow: orientation not taken into account\")])])],1),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.\")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Group\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.groupSizes),function(item,i){return _c('li',{key:i,staticClass:\"control\"},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-group-size-' + i,\"type\":\"radio\",\"name\":\"groupSize\"},domProps:{\"value\":item.value,\"checked\":item.value === _vm.method.groupSize},on:{\"change\":function($event){return _vm.onChange($event, 'groupSize')}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'c2c-group-size-' + i}},[_vm._v(_vm._s(item.text))])])}),0),_vm._v(\" \"),_c('info',{attrs:{\"type\":\"help\"}},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Group size\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Large group = 5 people and more\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Small group = 2 to 4 people\")])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Load shedding distance\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"10 meters minimum while ascending\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"50 meters while descending\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n      The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\\n      ascertain when preparing for an outing.\\n    \")])],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Methods</span></sub-panel-title>\n    <div class=\"columns is-mobile yetitabs\">\n      <div v-for=\"item of Object.keys(methods)\" :key=\"item\" class=\"column yetitab\">\n        <div class=\"control yetitab-control\" :class=\"{ 'yetitab-control--selected': method.type === item }\">\n          <input\n            :id=\"'c2c-method-' + item\"\n            type=\"radio\"\n            name=\"method\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item\"\n            :checked=\"item === method.type\"\n            :disabled=\"item === 'mrd' ? bra.high == 4 || bra.low == 4 : false\"\n            @change=\"onChange($event, 'type')\"\n          />\n          <label :for=\"'c2c-method-' + item\" class=\"yetitab-label\" @click=\"warnAboutMethodBra(item)\">\n            {{ methods[item][0] }}\n            <span class=\"is-size-7\" :class=\"{ 'has-text-grey': item !== method.type }\">{{ methods[item][1] }}</span>\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"method.type == 'mrd'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Beginner Reduction Method</strong>\n        <span v-translate>\n          (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\n        </span>\n      </p>\n      <info type=\"help\">\n        <p v-translate>\n          As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\n          important. No parameter other than the danger level is specified. Orientation is ignored.\n        </p>\n      </info>\n\n      <table class=\"yetiform-danger\">\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 35</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high to very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mre'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Elementary Reduction Method</strong>\n        <span v-translate>\n          (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\n        </span>\n      </p>\n\n      <input-orientation\n        :value=\"method.orientation\"\n        @input=\"onChange($event, 'orientation')\"\n        class=\"has-text-centered mb-2\"\n      />\n\n      <info v-if=\"method.orientation.length != 0\">\n        <span v-translate key=\"tr1\">Orientations</span>: {{ method.orientation.join(', ') }}\n      </info>\n      <info type=\"warning\" v-else>\n        <span v-translate key=\"tr2\">No orientation selected</span>\n      </info>\n\n      <info type=\"help\">\n        <p v-translate>\n          Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\n          critical sectors presenting an increased risk.\n        </p>\n      </info>\n\n      <table class=\"yetiform-danger\">\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td>\n            <span v-translate>Stay careful while skiing</span>\n            <br />\n            <small v-translate>risk of a rough fall on hard snow</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 35</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mrp'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Professional Reduction Method</strong>\n        <span v-translate>\n          (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\n        </span>\n      </p>\n\n      <h3 class=\"title is-3\" v-translate>Hazard potential</h3>\n      <ul class=\"potential-danger-labels has-text-black\">\n        <li\n          v-for=\"label of potentialDangerLabels\"\n          :key=\"label.text\"\n          :disabled=\"!bra.high || label.text < potentialDangerOptions.min || label.text > potentialDangerOptions.max\"\n          :selected=\"method.potentialDanger == label.text\"\n          class=\"potential-danger-label is-size-5\"\n          @click=\"onChange(label.text, 'potentialDanger')\"\n        >\n          <span :class=\"{ 'is-size-3 has-text-weight-bold': label.val }\">\n            {{ label.text }}\n          </span>\n        </li>\n      </ul>\n\n      <info v-if=\"method.potentialDanger\">\n        <span v-translate key=\"tr1\">Hazard potential:</span>\n        {{ method.potentialDanger }}\n        (<span v-translate>Danger level:</span> {{ bra.high }})\n      </info>\n      <info type=\"warning\" v-else>\n        <span v-translate key=\"tr2\">No selected hazard potential. Set danger level first.</span>\n      </info>\n\n      <info type=\"help\">\n        <p v-translate>\n          The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\n          selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\n          evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\n        </p>\n      </info>\n\n      <p>\n        <input-checkbox :value=\"method.wetSnow\" @input=\"onChange($event, 'wetSnow')\">\n          <span v-translate>Wet snow: orientation not taken into account</span>\n        </input-checkbox>\n      </p>\n\n      <info type=\"help\">\n        <p v-translate>Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.</p>\n      </info>\n\n      <h3 class=\"title is-3\" v-translate>Group</h3>\n\n      <ul>\n        <li class=\"control\" v-for=\"(item, i) of groupSizes\" :key=\"i\">\n          <input\n            :id=\"'c2c-group-size-' + i\"\n            type=\"radio\"\n            name=\"groupSize\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item.value\"\n            :checked=\"item.value === method.groupSize\"\n            @change=\"onChange($event, 'groupSize')\"\n          />\n          <label :for=\"'c2c-group-size-' + i\">{{ item.text }}</label>\n        </li>\n      </ul>\n\n      <info type=\"help\">\n        <p v-translate>Group size</p>\n        <ul class=\"content-ul\">\n          <li v-translate>Large group = 5 people and more</li>\n          <li v-translate>Small group = 2 to 4 people</li>\n        </ul>\n        <p v-translate>Load shedding distance</p>\n        <ul class=\"content-ul\">\n          <li v-translate>10 meters minimum while ascending</li>\n          <li v-translate>50 meters while descending</li>\n        </ul>\n      </info>\n\n      <p v-translate>\n        The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\n        ascertain when preparing for an outing.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Info from '@/components/yeti/Info.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport Yetix from '@/components/yeti/Yetix';\n\nconst DANGER = {\n  min: 1,\n  max: 16,\n  bra: [\n    { min: 1, max: 2, val: 2 },\n    { min: 3, max: 6, val: 4 },\n    { min: 6, max: 12, val: 8 },\n    { min: 13, max: 16, val: 16 },\n  ],\n};\n\nexport default {\n  components: { Info, SubPanelTitle },\n  data() {\n    return {\n      methods: {\n        mrd: ['MRD', this.$gettext('Beginner')],\n        mre: ['MRE', this.$gettext('Elementary')],\n        mrp: ['MRP', this.$gettext('Expert')],\n      },\n      groupSizes: [\n        {\n          value: 1,\n          text: this.$gettext('No reduction factor'),\n        },\n        {\n          value: 2.1,\n          text: this.$gettext('Large group with load shedding distance'),\n        },\n        {\n          value: 2.2,\n          text: this.$gettext('Small group without distance'),\n        },\n        {\n          value: 3,\n          text: this.$gettext('Small group with load shedding distance'),\n        },\n      ],\n    };\n  },\n  computed: {\n    bra() {\n      return Yetix.bra;\n    },\n    method() {\n      return Yetix.method;\n    },\n    potentialDangerLabels() {\n      const result = [];\n      for (let i = DANGER.min; i <= DANGER.max; i++) {\n        const data = { text: i };\n        if (i === 2 || i === 4 || i === 8 || i === 16) {\n          data.val = i;\n        }\n        result.push(data);\n      }\n\n      return result;\n    },\n    potentialDangerOptions() {\n      if (!this.bra.high) {\n        return { val: undefined, min: 1, max: 16 };\n      }\n\n      return DANGER.bra[this.bra.high - 1];\n    },\n  },\n  watch: {\n    'bra.high': 'onBraChange',\n  },\n  methods: {\n    onChange(event, prop) {\n      let value = null;\n      if (prop === 'orientation' || prop === 'wetSnow' || prop === 'potentialDanger') {\n        value = event;\n      } else {\n        value = event.target.value;\n      }\n      Yetix.setMethod(prop, value);\n    },\n    warnAboutMethodBra(item) {\n      this.$emit('warn-about-method-bra', item);\n    },\n    onBraChange() {\n      this.onChange(this.potentialDangerOptions.val, 'potentialDanger');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\np:not(:last-child),\nul:not(:last-child),\ntable:not(:last-child) {\n  margin-bottom: 1rem;\n}\n\n.yetiform-danger {\n  width: 100%;\n  table-layout: fixed;\n  color: $dark;\n\n  tr + tr {\n    border-top: 1px solid $grey-lighter;\n  }\n\n  td {\n    vertical-align: middle;\n    height: 45px;\n  }\n\n  .multiline td {\n    vertical-align: baseline;\n  }\n\n  td:first-child {\n    width: 60px;\n  }\n\n  td:first-child + td {\n    width: 40%;\n  }\n\n  td img {\n    vertical-align: -12px;\n    height: 35px;\n  }\n}\n\n.yetitabs {\n  margin: 0;\n  padding: 0.75rem 0;\n}\n\n.yetitab {\n  padding: 0;\n}\n\n.yetitab-control {\n  .yetitab-label {\n    display: block;\n    margin: 0;\n    padding: 0.25rem;\n    padding-left: 2rem;\n    border: 1px solid transparent;\n    border-radius: 4px;\n\n    &:hover,\n    &:focus {\n      border-color: $grey-lighter;\n    }\n\n    &.yetitab-label:before {\n      top: 0.25rem !important;\n      left: 0.25rem !important;\n    }\n    &.yetitab-label:after {\n      top: 0.75rem !important;\n      left: 0.75rem !important;\n    }\n  }\n}\n\n.yetitab-control--selected {\n  .yetitab-label {\n    color: $primary;\n    border-color: $primary;\n\n    &:hover,\n    &:focus {\n      border-color: $primary;\n    }\n  }\n}\n\n@media screen and (max-width: 490px),\n  screen and (min-width: $tablet) and (max-width: 970px),\n  screen and (min-width: $desktop) and (max-width: 1180px),\n  screen and (min-width: $widescreen) and (max-width: 1370px),\n  screen and (min-width: $fullhd) and (max-width: 1650px) {\n  .yetitabs {\n    flex-wrap: wrap;\n  }\n  .yetitab {\n    flex: 0 0 50%;\n  }\n  .yetiform-danger {\n    tr,\n    td {\n      display: block;\n    }\n    tr {\n      padding: 0.5em 0;\n    }\n    td:first-child {\n      float: left;\n    }\n    td:first-child ~ td {\n      height: auto;\n      width: calc(100% - 60px);\n      margin-left: 60px;\n    }\n  }\n}\n\n.potential-danger-labels {\n  display: flex;\n  align-items: stretch;\n  user-select: none;\n  background: linear-gradient(\n    to right,\n    #bfe12b,\n    #bfe12b 12%,\n    #fff200 20%,\n    #fff200 32%,\n    #f68712 40%,\n    #f68712 72%,\n    #ed1c24 80%,\n    #ed1c24 95%,\n    #c01a2c\n  );\n\n  .potential-danger-label {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1 1 20px;\n    text-align: center;\n    border: 3px solid transparent;\n\n    &[disabled] {\n      cursor: not-allowed;\n      pointer-events: none;\n      background-color: rgba(255, 255, 255, 0.8);\n      color: grey;\n    }\n\n    &[selected] {\n      border-color: black;\n    }\n  }\n}\n</style>\n","var render, staticRenderFns\nimport script from \"./BaseLayers.vue?vue&type=script&lang=js\"\nexport * from \"./BaseLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./SlopesLayers.vue?vue&type=script&lang=js\"\nexport * from \"./SlopesLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubPanelMethods.vue?vue&type=template&id=df4fbf92&scoped=true\"\nimport script from \"./SubPanelMethods.vue?vue&type=script&lang=js\"\nexport * from \"./SubPanelMethods.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubPanelMethods.vue?vue&type=style&index=0&id=df4fbf92&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df4fbf92\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column pb-0 mb-0 tabs is-boxed yetitabs\"},[_c('ul',{attrs:{\"role\":\"tablist\"}},_vm._l((_vm.tabs),function(tab,i){return _c('li',{key:tab.name,class:{ 'is-active': _vm.activeTab === i },attrs:{\"role\":\"presentation\"}},[_c('a',{ref:\"tab\",refInFor:true,staticClass:\"yetitabs-link\",attrs:{\"role\":\"tab\",\"href\":'#panel' + i,\"id\":'tab' + i,\"aria-selected\":_vm.activeTab === i,\"tabindex\":_vm.activeTab === i ? false : -1,\"title\":tab.title},on:{\"click\":function($event){$event.preventDefault();return _vm.setActiveTab(i)},\"keydown\":function($event){return _vm.setActiveTabKeyboard($event, i)}}},[_c('fa-icon',{attrs:{\"icon\":tab.icon}}),_vm._v(\" \"),(tab.name)?_c('span',{staticClass:\"ml-1\"},[_vm._v(_vm._s(tab.name))]):_c('span',[_vm._v(\"\")]),_vm._v(\" \"),(tab.counter)?_c('counter',{attrs:{\"is-primary\":\"\",\"title\":tab.counter.title}},[_vm._v(\"\\n          \"+_vm._s(tab.counter.text)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(tab.problemIcon)?_c('fa-icon',{staticClass:\"has-text-danger ml-1\",attrs:{\"icon\":\"exclamation-circle\",\"title\":tab.problemIcon.title}}):_vm._e()],1)])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"column pb-0 mb-0 tabs is-boxed yetitabs\">\n    <ul role=\"tablist\">\n      <li v-for=\"(tab, i) in tabs\" role=\"presentation\" :key=\"tab.name\" :class=\"{ 'is-active': activeTab === i }\">\n        <a\n          class=\"yetitabs-link\"\n          role=\"tab\"\n          :href=\"'#panel' + i\"\n          :id=\"'tab' + i\"\n          ref=\"tab\"\n          :aria-selected=\"activeTab === i\"\n          :tabindex=\"activeTab === i ? false : -1\"\n          :title=\"tab.title\"\n          @click.prevent=\"setActiveTab(i)\"\n          @keydown=\"setActiveTabKeyboard($event, i)\"\n        >\n          <fa-icon :icon=\"tab.icon\" />\n          <span v-if=\"tab.name\" class=\"ml-1\">{{ tab.name }}</span>\n          <span v-else>&ZeroWidthSpace;</span>\n          <counter v-if=\"tab.counter\" is-primary :title=\"tab.counter.title\">\n            {{ tab.counter.text }}\n          </counter>\n          <fa-icon\n            v-if=\"tab.problemIcon\"\n            icon=\"exclamation-circle\"\n            class=\"has-text-danger ml-1\"\n            :title=\"tab.problemIcon.title\"\n          />\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: {\n    Counter,\n  },\n  props: {\n    tabs: {\n      type: Array,\n      required: true,\n    },\n  },\n  computed: {\n    activeTab() {\n      return Yetix.activeTab;\n    },\n  },\n  watch: {\n    activeTab(index) {\n      // focus active tab\n      this.$refs.tab[index].focus();\n    },\n  },\n  methods: {\n    setActiveTab(index) {\n      Yetix.setActiveTab(index);\n    },\n    setActiveTabKeyboard(event, index) {\n      // Set arrow keys: left/right = switch active tabs / down = focus panel\n      const ARROW_LEFT = 37;\n      const ARROW_RIGHT = 39;\n      const ARROW_DOWN = 40;\n      let dir =\n        event.which === ARROW_LEFT\n          ? index - 1\n          : event.which === ARROW_RIGHT\n          ? index + 1\n          : event.which === ARROW_DOWN\n          ? 'down'\n          : null;\n\n      if (dir !== null) {\n        event.preventDefault();\n\n        // If the down key is pressed, move focus to the open panel,\n        // otherwise switch to the adjacent tab\n        dir === 'down'\n          ? this.$parent.$refs['panel' + index].$el.focus()\n          : this.tabs[dir]\n          ? this.setActiveTab(dir)\n          : void 0;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yetitabs {\n  margin: 0 0 0 -1px !important;\n  overflow: visible;\n\n  &-link {\n    font-size: 0.9em;\n    padding: 0.25em 1em;\n  }\n\n  li,\n  a {\n    height: 100%;\n    outline: none;\n  }\n\n  li {\n    margin-right: 1px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=b23ffb6c&scoped=true\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=b23ffb6c&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b23ffb6c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column has-text-right\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading,\"tabindex\":_vm.tabindex},on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._v(\"\\n      Compute risk\\n    \")]),_vm._v(\" \"),(_vm.currentError)?_c('div',{staticClass:\"info\"},[_c('info',{attrs:{\"inline\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.currentError))])])],1):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"columns\">\n    <div class=\"column has-text-right\">\n      <button\n        class=\"button is-primary\"\n        :class=\"{ 'is-loading': loading }\"\n        :disabled=\"loading\"\n        :tabindex=\"tabindex\"\n        @click=\"$emit('click')\"\n        v-translate\n      >\n        Compute risk\n      </button>\n      <div v-if=\"currentError\" class=\"info\">\n        <info inline>\n          <span>{{ currentError }}</span>\n        </info>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Info from '@/components/yeti/Info.vue';\n\nexport default {\n  components: { Info },\n  props: {\n    currentError: {\n      type: String,\n      default: '',\n    },\n    loading: {\n      type: [Promise, Object],\n      default: null,\n    },\n    tabindex: {\n      type: String,\n      default: '0',\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.info {\n  margin-top: 0.25rem;\n  margin-right: -0.75rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ValidationButton.vue?vue&type=template&id=2ac8c7c9&scoped=true\"\nimport script from \"./ValidationButton.vue?vue&type=script&lang=js\"\nexport * from \"./ValidationButton.vue?vue&type=script&lang=js\"\nimport style0 from \"./ValidationButton.vue?vue&type=style&index=0&id=2ac8c7c9&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ac8c7c9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column map-container\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('yeti-map-legend'),_vm._v(\" \"),_c('div',{ref:\"map\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}}),_vm._v(\" \"),_c('map-layers'),_vm._v(\" \"),_c('yeti-layers'),_vm._v(\" \"),_c('overlays-layers'),_vm._v(\" \"),_c('div',{ref:\"recenterOnControl\",staticClass:\"ol-control ol-control-recenter-on\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$gettext('Recenter on...')},on:{\"input\":_vm.searchRecenterPropositions}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRecenterOnPropositions),expression:\"showRecenterOnPropositions\"}],ref:\"recenterOnPropositions\",staticClass:\"ol-control ol-control-recenter-on-propositions\"},[(_vm.recenterPropositions && _vm.recenterPropositions.data && _vm.recenterPropositions.data.features)?_c('ul',_vm._l((_vm.recenterPropositions.data.features),function(item,i){return _c('li',{key:i,on:{\"click\":function($event){return _vm.recenterOn(item)}}},[_vm._v(\"\\n          \"+_vm._s(item.properties.name)+\",\\n          \"),_c('small',[_vm._v(_vm._s(item.properties.state)+\", \"+_vm._s(item.properties.country))])])}),0):_vm._e()]),_vm._v(\" \"),_c('div',{ref:\"centerOnGeolocation\",staticClass:\"ol-control ol-control-center-on-geolocation\",attrs:{\"title\":_vm.$gettext('Recenter on your current position')}},[_c('button',{on:{\"click\":_vm.activateCenterOnGeolocation}},[_c('fa-icon',{attrs:{\"icon\":\"bullseye\"}})],1)]),_vm._v(\" \"),_c('div',{ref:\"editMode\",staticStyle:{\"height\":\"0\"}},[_c('edit-mode-button')],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('base-layers',{on:{\"layers\":_vm.onBaseLayers}}),_vm._v(\" \"),_c('slopes-layers',{on:{\"layers\":_vm.onSlopesLayers}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ol from '@/js/libs/ol';\n\nexport default {\n  computed: {\n    map() {\n      // store parent map\n      return this.$parent.map || this.$parent.$parent.map;\n    },\n    view() {\n      return this.map.getView();\n    },\n  },\n  methods: {\n    getExtent(projection) {\n      return this.$parent.getExtent(projection);\n    },\n    getFeaturesFromData(data) {\n      let features = data.data;\n      // read geoJSON, and project to 3857 (geoJSON is 4326 by default)\n      return new ol.format.GeoJSON().readFeatures(features, { featureProjection: 'EPSG:3857' });\n    },\n    getPropertiesFromFeatures(features) {\n      return features.map((feature) => {\n        return feature.getProperties();\n      });\n    },\n    getLayer() {\n      return this.layer;\n    },\n  },\n};\n","<script>\nimport { cartoLayers } from '@/components/map/map-layers';\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  name: 'Yeti',\n  computed: {\n    baseLayersSelector() {\n      return Yetix.baseLayersSelector;\n    },\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    zoomDelta() {\n      return Yetix.ZOOM_DELTA;\n    },\n  },\n  watch: {\n    baseLayersSelector: {\n      handler(layers) {\n        this.baseLayers.map((layer, i) => layer.setVisible(layers[i].checked));\n      },\n      deep: true,\n    },\n  },\n  created() {\n    this.baseLayers = cartoLayers();\n\n    // filter UK (remove)\n    this.baseLayers = this.baseLayers.filter((layer) => {\n      return layer.get('country') !== 'gb';\n    });\n\n    this.baseLayers = this.baseLayers.map((layer) => {\n      // disable animation on load\n      layer.getSource().tileOptions.transition = 0;\n\n      return layer;\n    });\n\n    // On classic IGN layer, scan25 shows starting z=15\n    // Here, we contruct two differents IGN layers:\n    // - the classic layer (from z=0 to z=13.5)\n    // - scan25 from z=13.5\n    // We put them on a group, and make the switch visually\n\n    // the zoom when the switch occurs\n    const ZOOM_SWITCH = 13.5;\n\n    this.baseLayers = this.baseLayers.map((layer) => {\n      // find IGN layer\n      if (layer.get('title') === 'IGN maps') {\n        // get info of classic layer\n        let title = layer.get('title');\n        let image = layer.get('image');\n        let country = layer.get('country');\n        let type = layer.get('type');\n\n        // build new layer\n        const IGN_BASE_URL = 'https://data.geopf.fr/private/wmts?apikey=ign_scan_ws';\n        const IGN_LAYER_SCAN25TOUR = 'GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN25TOUR';\n\n        let resolutions = [];\n        let matrixIds = [];\n        let proj3857 = ol.proj.get('EPSG:3857');\n        let maxResolution = ol.extent.getWidth(proj3857.getExtent()) / 256;\n\n        for (let i = 0; i < 18; i++) {\n          matrixIds[i] = i.toString();\n          resolutions[i] = maxResolution / Math.pow(2, i);\n        }\n\n        let tileGrid = new ol.tilegrid.WMTS({\n          origin: [-20037508, 20037508],\n          resolutions,\n          matrixIds,\n        });\n\n        let source = new ol.source.WMTS({\n          url: IGN_BASE_URL,\n          layer: IGN_LAYER_SCAN25TOUR,\n          matrixSet: 'PM',\n          format: `image/jpeg`,\n          projection: 'EPSG:3857',\n          tileGrid,\n          style: 'normal',\n          attributions: [' <a href=\"//www.geoportail.fr/\" target=\"_blank\" rel=\"noreferrer noopener\">Geoportail</a>'],\n        });\n\n        let layerScan = new ol.layer.Tile({\n          source,\n        });\n\n        // set zoom visibility between layers\n        layer.setVisible(true);\n        layer.setMaxZoom((ZOOM_SWITCH + 0.1) / this.zoomDelta);\n\n        layerScan.setVisible(true);\n        layerScan.setMinZoom((ZOOM_SWITCH - 0.1) / this.zoomDelta);\n        // allow greater zooms but limit tiles to 16\n        layerScan.getSource().tileGrid.maxZoom = 16;\n\n        // return group with the 2 two layers\n        return new ol.layer.Group({\n          layers: [layerScan, layer],\n          title,\n          image,\n          country,\n          type,\n          visible: false,\n          opacity: 1,\n        });\n      } else {\n        // return layer\n        return layer;\n      }\n    });\n\n    // create layers selector\n    // first, get stored map layer\n    let storedLayerName = this.$localStorage.get(\n      'yeti-map-layers-base',\n      this.baseLayers.find((layer) => layer.get('visible')).get('title')\n    );\n    let baseLayersSelector = this.baseLayers.map((layer) => {\n      return {\n        title: layer.get('title'),\n        checked: storedLayerName === layer.get('title'),\n        opacity: layer.getOpacity(),\n        image: layer.get('image'),\n        country: layer.get('country'),\n      };\n    });\n\n    Yetix.setBaseLayersSelector(baseLayersSelector);\n  },\n  mounted() {\n    // emit new layers\n    this.$emit('layers', this.baseLayers);\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./BaseLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./BaseLayers.vue?vue&type=script&lang=js\"","<script>\nimport { dataLayers } from '@/components/map/map-layers';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  name: 'Yeti',\n  computed: {\n    slopesLayersSelector() {\n      return Yetix.slopesLayersSelector;\n    },\n  },\n  watch: {\n    slopesLayersSelector: {\n      handler(layers) {\n        layers.map((layer, index) => {\n          let slopeLayer = this.slopesLayers[index];\n          this.setVisible(slopeLayer, layer.checked);\n          this.setLayerOpacity(slopeLayer, layer.opacity);\n          this.setLayerBlendModes(slopeLayer, layer.blendModes);\n        });\n      },\n      deep: true,\n    },\n  },\n  created() {\n    this.slopesLayers = dataLayers();\n\n    // set our style\n    this.slopesLayers = this.slopesLayers.map((layer) => {\n      return this.setBlendModes(layer);\n    });\n\n    // first, get stored map layer\n    let storedLayerNames = this.$localStorage.get('yeti-map-layers-slopes', []);\n\n    let slopesLayersSelector = this.slopesLayers.map((layer) => {\n      return {\n        title: layer.get('title'),\n        checked: storedLayerNames.includes(layer.get('title')),\n        opacity: layer.getOpacity(),\n        blendModes: true,\n        image: layer.get('image'),\n        country: layer.get('country'),\n      };\n    });\n\n    Yetix.setSlopesLayersSelector(slopesLayersSelector);\n  },\n  mounted() {\n    // emit new layers\n    this.$emit('layers', this.slopesLayers);\n  },\n  methods: {\n    setVisible(layer, visible) {\n      layer.setVisible(visible);\n    },\n    setLayerOpacity(layer, opacity) {\n      layer.setOpacity(opacity);\n    },\n    setLayerBlendModes(layer, isBlend) {\n      layer.on('prerender', (evt) => {\n        evt.context.globalCompositeOperation = isBlend ? 'multiply' : 'source-over';\n      });\n      // force re-render\n      layer.setOpacity(layer.getOpacity() + 0.01);\n    },\n    setBlendModes(layer) {\n      layer.setOpacity(0.9);\n      layer.on('prerender', (evt) => {\n        evt.context.globalCompositeOperation = 'multiply';\n      });\n      layer.on('postrender', (evt) => {\n        evt.context.globalCompositeOperation = 'source-over';\n      });\n      return layer;\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SlopesLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./SlopesLayers.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <base-layers @layers=\"onBaseLayers\"></base-layers>\n    <slopes-layers @layers=\"onSlopesLayers\"></slopes-layers>\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport BaseLayers from '@/components/yeti/map-layers/BaseLayers';\nimport SlopesLayers from '@/components/yeti/map-layers/SlopesLayers';\n\nexport default {\n  components: {\n    BaseLayers,\n    SlopesLayers,\n  },\n  mixins: [layerMixin],\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n  },\n  watch: {\n    showAreas() {\n      this.updateCartoLayersOpacity();\n    },\n  },\n  created() {\n    this.baseLayers = [];\n    this.slopesLayers = [];\n  },\n  mounted() {\n    Yetix.$on('map-moveend', this.onMapMoveEnd);\n  },\n  methods: {\n    onBaseLayers(baseLayers) {\n      this.baseLayers = baseLayers;\n      baseLayers.map((layer) => this.map.addLayer(layer));\n    },\n    onSlopesLayers(slopesLayers) {\n      this.slopesLayers = slopesLayers;\n      slopesLayers.map((layer) => this.map.addLayer(layer));\n    },\n    onMapMoveEnd() {\n      // if Yeti extent is here, update (on zooming for example)\n      if (this.showAreas) {\n        this.updateCartoLayersOpacity();\n      }\n    },\n    updateCartoLayersOpacity() {\n      const MIN_ZOOM = Yetix.BLEND_MODES_MIN_ZOOM;\n      const MAX_ZOOM = Yetix.BLEND_MODES_MAX_ZOOM;\n      const MIN_OPACITY = 0.25;\n      const MAX_OPACITY = 1;\n      const DELTA_OPACITY = MAX_OPACITY - MIN_OPACITY;\n\n      let opacity = MIN_OPACITY;\n      // opacity should increase gradually between min and max zooms\n      if (this.mapZoom >= MIN_ZOOM && this.mapZoom <= MAX_ZOOM) {\n        // opacity is between 1 and 0\n        opacity = (MAX_ZOOM - this.mapZoom) * (MAX_OPACITY / (MAX_ZOOM - MIN_ZOOM));\n        // map value to min/max opacity\n        opacity = Math.abs(1 - opacity) * DELTA_OPACITY + MIN_OPACITY;\n      } else if (this.mapZoom > MAX_ZOOM) {\n        opacity = MAX_OPACITY;\n      }\n\n      // for each carto layers, set opacity if yeti extent is shown\n      this.baseLayers.forEach((layer) => {\n        layer.setOpacity(this.showAreas ? opacity : 1);\n      });\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./MapLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./MapLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MapLayers.vue?vue&type=template&id=2af8ee4a\"\nimport script from \"./MapLayers.vue?vue&type=script&lang=js\"\nexport * from \"./MapLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('protected-areas-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 2)}}}),_vm._v(\" \"),_c('meteo-layer',{attrs:{\"visible\":_vm.meteoTab}}),_vm._v(\" \"),_c('winter-route-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 1)}}}),_vm._v(\" \"),_c('avalanche-bulletins-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 0)}}}),_vm._v(\" \"),_c('data-avalanche-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 3)}}}),_vm._v(\" \"),_c('ffvl-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 7)}}}),_vm._v(\" \"),_c('flowcapt-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 6)}}}),_vm._v(\" \"),_c('nivoses-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 4)}}}),_vm._v(\" \"),_c('romma-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 5)}}}),_vm._v(\" \"),_c('route-layer')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"bulletinsOverlay\",staticClass:\"bulletins-overlay\"},[_c('button',{staticClass:\"delete is-small button-close\",on:{\"click\":_vm.closeOverlay}},[_vm._v(\"x\")]),_vm._v(\" \"),_c('div',{staticClass:\"bulletins-header pb-3 has-text-centered\"},[_c('p',{staticClass:\"title is-5 mb-1\"},[_vm._v(\"\\n      \"+_vm._s(_vm.overlayData.mountainName)+\"\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"title is-7 country-name\"},[_vm._v(\"\\n      \"+_vm._s(_vm.overlayData.country)+\"\\n    \")]),_vm._v(\" \"),(_vm.overlayData.fullName)?_c('dropdown-content',{staticClass:\"mx-2 is-size-7\",attrs:{\"inverted\":\"\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"is-size-7 has-text-left\"},[_vm._v(\"\\n          \"+_vm._s(_vm.overlayData.fullName)+\"\\n        \")])]},proxy:true}],null,false,794345495)},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Merged regions\")])]):_vm._e()],1),_vm._v(\" \"),(_vm.overlayData.danger.low)?_c('div',{staticClass:\"py-2\"},[_c('p',{staticClass:\"is-size-7 px-3 pb-5\"},[_c('span',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Validity date:\")]),_vm._v(\" \"+_vm._s(_vm.overlayValidUntil))]),_vm._v(\" \"),(_vm.overlayValidUntilExpired)?_c('strong',{staticClass:\"is-block has-text-danger\"},[_c('fa-icon',{attrs:{\"icon\":\"exclamation-circle\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"id1\"},[_vm._v(\"Validity date expired\")])],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-space-around is-align-items-center px-3\"},[_c('danger-level',{attrs:{\"danger\":_vm.overlayData.danger}}),_vm._v(\" \"),_c('input-orientation',{attrs:{\"disabled\":\"\",\"value\":_vm.overlayOrientations}})],1),_vm._v(\" \"),(_vm.overlayDangerComment || _vm.overlayOrientationsComment)?_c('dl',{staticClass:\"is-size-6 px-3 pt-3\"},[(_vm.overlayDangerComment)?[_c('dt',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger:\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.overlayDangerComment))])]:_vm._e(),_vm._v(\" \"),(_vm.overlayOrientationsComment)?[_c('dt',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Orientations:\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.overlayOrientationsComment))])]:_vm._e()],2):_vm._e()]):_c('div',{staticClass:\"py-2\"},[_c('p',{staticClass:\"is-size-6 p-3\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"id2\"},[_vm._v(\"No avalanche bulletin right now\")])])]),_vm._v(\" \"),(_vm.overlayData.urls.length)?_c('div',{staticClass:\"is-size-7 px-3 pt-2 pb-2 bulletins-footer\"},_vm._l((_vm.overlayData.urls),function(url,i){return _c('p',{key:i},[_c('strong',[_vm._v(\"\"+_vm._s(url.title))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":url.url,\"target\":\"_blank\"}},[_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Full bulletin\")])],1)])}),0):_vm._e(),_vm._v(\" \"),_c('img',{staticClass:\"bulletins-overlay-danger-icon\",attrs:{\"src\":_vm.overlayDangerIcon,\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n *      bignumber.js v9.1.2\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, -1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // THe index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne;\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  // If any number is NaN, return NaN.\r\n  function maxOrMin(args, n) {\r\n    var k, y,\r\n      i = 1,\r\n      x = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      y = new BigNumber(args[i]);\r\n      if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n        x = y;\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, Infinity, 0 or 1, or n is Infinity, NaN or 0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to 0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return 0, else return Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) {\r\n      t = xc;\r\n      xc = yc;\r\n      yc = t;\r\n      y.s = -y.s;\r\n    }\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, Infinity or 0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return Infinity if either is Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return 0 if either is 0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) {\r\n      zc = xc;\r\n      xc = yc;\r\n      yc = zc;\r\n      i = xcL;\r\n      xcL = ycL;\r\n      ycL = i;\r\n    }\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return Infinity if either Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) {\r\n      t = yc;\r\n      yc = xc;\r\n      xc = t;\r\n      b = a;\r\n    }\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) {\r\n        i = g1;\r\n        g1 = g2;\r\n        g2 = i;\r\n        len -= i;\r\n      }\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n","// src/index.ts\nvar SplayTreeNode = class {\n  key;\n  left = null;\n  right = null;\n  constructor(key) {\n    this.key = key;\n  }\n};\nvar SplayTreeSetNode = class extends SplayTreeNode {\n  constructor(key) {\n    super(key);\n  }\n};\nvar SplayTreeMapNode = class _SplayTreeMapNode extends SplayTreeNode {\n  value;\n  constructor(key, value) {\n    super(key);\n    this.value = value;\n  }\n  replaceValue(value) {\n    const node = new _SplayTreeMapNode(this.key, value);\n    node.left = this.left;\n    node.right = this.right;\n    return node;\n  }\n};\nvar SplayTree = class {\n  size = 0;\n  modificationCount = 0;\n  splayCount = 0;\n  splay(key) {\n    const root = this.root;\n    if (root == null) {\n      this.compare(key, key);\n      return -1;\n    }\n    let right = null;\n    let newTreeRight = null;\n    let left = null;\n    let newTreeLeft = null;\n    let current = root;\n    const compare = this.compare;\n    let comp;\n    while (true) {\n      comp = compare(current.key, key);\n      if (comp > 0) {\n        let currentLeft = current.left;\n        if (currentLeft == null) break;\n        comp = compare(currentLeft.key, key);\n        if (comp > 0) {\n          current.left = currentLeft.right;\n          currentLeft.right = current;\n          current = currentLeft;\n          currentLeft = current.left;\n          if (currentLeft == null) break;\n        }\n        if (right == null) {\n          newTreeRight = current;\n        } else {\n          right.left = current;\n        }\n        right = current;\n        current = currentLeft;\n      } else if (comp < 0) {\n        let currentRight = current.right;\n        if (currentRight == null) break;\n        comp = compare(currentRight.key, key);\n        if (comp < 0) {\n          current.right = currentRight.left;\n          currentRight.left = current;\n          current = currentRight;\n          currentRight = current.right;\n          if (currentRight == null) break;\n        }\n        if (left == null) {\n          newTreeLeft = current;\n        } else {\n          left.right = current;\n        }\n        left = current;\n        current = currentRight;\n      } else {\n        break;\n      }\n    }\n    if (left != null) {\n      left.right = current.left;\n      current.left = newTreeLeft;\n    }\n    if (right != null) {\n      right.left = current.right;\n      current.right = newTreeRight;\n    }\n    if (this.root !== current) {\n      this.root = current;\n      this.splayCount++;\n    }\n    return comp;\n  }\n  splayMin(node) {\n    let current = node;\n    let nextLeft = current.left;\n    while (nextLeft != null) {\n      const left = nextLeft;\n      current.left = left.right;\n      left.right = current;\n      current = left;\n      nextLeft = current.left;\n    }\n    return current;\n  }\n  splayMax(node) {\n    let current = node;\n    let nextRight = current.right;\n    while (nextRight != null) {\n      const right = nextRight;\n      current.right = right.left;\n      right.left = current;\n      current = right;\n      nextRight = current.right;\n    }\n    return current;\n  }\n  _delete(key) {\n    if (this.root == null) return null;\n    const comp = this.splay(key);\n    if (comp != 0) return null;\n    let root = this.root;\n    const result = root;\n    const left = root.left;\n    this.size--;\n    if (left == null) {\n      this.root = root.right;\n    } else {\n      const right = root.right;\n      root = this.splayMax(left);\n      root.right = right;\n      this.root = root;\n    }\n    this.modificationCount++;\n    return result;\n  }\n  addNewRoot(node, comp) {\n    this.size++;\n    this.modificationCount++;\n    const root = this.root;\n    if (root == null) {\n      this.root = node;\n      return;\n    }\n    if (comp < 0) {\n      node.left = root;\n      node.right = root.right;\n      root.right = null;\n    } else {\n      node.right = root;\n      node.left = root.left;\n      root.left = null;\n    }\n    this.root = node;\n  }\n  _first() {\n    const root = this.root;\n    if (root == null) return null;\n    this.root = this.splayMin(root);\n    return this.root;\n  }\n  _last() {\n    const root = this.root;\n    if (root == null) return null;\n    this.root = this.splayMax(root);\n    return this.root;\n  }\n  clear() {\n    this.root = null;\n    this.size = 0;\n    this.modificationCount++;\n  }\n  has(key) {\n    return this.validKey(key) && this.splay(key) == 0;\n  }\n  defaultCompare() {\n    return (a, b) => a < b ? -1 : a > b ? 1 : 0;\n  }\n  wrap() {\n    return {\n      getRoot: () => {\n        return this.root;\n      },\n      setRoot: (root) => {\n        this.root = root;\n      },\n      getSize: () => {\n        return this.size;\n      },\n      getModificationCount: () => {\n        return this.modificationCount;\n      },\n      getSplayCount: () => {\n        return this.splayCount;\n      },\n      setSplayCount: (count) => {\n        this.splayCount = count;\n      },\n      splay: (key) => {\n        return this.splay(key);\n      },\n      has: (key) => {\n        return this.has(key);\n      }\n    };\n  }\n};\nvar SplayTreeMap = class extends SplayTree {\n  root = null;\n  compare;\n  validKey;\n  constructor(compare, isValidKey) {\n    super();\n    this.compare = compare ?? this.defaultCompare();\n    this.validKey = isValidKey ?? ((a) => a != null && a != void 0);\n  }\n  delete(key) {\n    if (!this.validKey(key)) return false;\n    return this._delete(key) != null;\n  }\n  forEach(f) {\n    const nodes = new SplayTreeMapEntryIterableIterator(this.wrap());\n    let result;\n    while (result = nodes.next(), !result.done) {\n      f(result.value[1], result.value[0], this);\n    }\n  }\n  get(key) {\n    if (!this.validKey(key)) return void 0;\n    if (this.root != null) {\n      const comp = this.splay(key);\n      if (comp == 0) {\n        return this.root.value;\n      }\n    }\n    return void 0;\n  }\n  hasValue(value) {\n    const initialSplayCount = this.splayCount;\n    const visit = (node) => {\n      while (node != null) {\n        if (node.value == value) return true;\n        if (initialSplayCount != this.splayCount) {\n          throw \"Concurrent modification during iteration.\";\n        }\n        if (node.right != null && visit(node.right)) {\n          return true;\n        }\n        node = node.left;\n      }\n      return false;\n    };\n    return visit(this.root);\n  }\n  set(key, value) {\n    const comp = this.splay(key);\n    if (comp == 0) {\n      this.root = this.root.replaceValue(value);\n      this.splayCount += 1;\n      return this;\n    }\n    this.addNewRoot(new SplayTreeMapNode(key, value), comp);\n    return this;\n  }\n  setAll(other) {\n    other.forEach((value, key) => {\n      this.set(key, value);\n    });\n  }\n  setIfAbsent(key, ifAbsent) {\n    let comp = this.splay(key);\n    if (comp == 0) {\n      return this.root.value;\n    }\n    const modificationCount = this.modificationCount;\n    const splayCount = this.splayCount;\n    const value = ifAbsent();\n    if (modificationCount != this.modificationCount) {\n      throw \"Concurrent modification during iteration.\";\n    }\n    if (splayCount != this.splayCount) {\n      comp = this.splay(key);\n    }\n    this.addNewRoot(new SplayTreeMapNode(key, value), comp);\n    return value;\n  }\n  isEmpty() {\n    return this.root == null;\n  }\n  isNotEmpty() {\n    return !this.isEmpty();\n  }\n  firstKey() {\n    if (this.root == null) return null;\n    return this._first().key;\n  }\n  lastKey() {\n    if (this.root == null) return null;\n    return this._last().key;\n  }\n  lastKeyBefore(key) {\n    if (key == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(key);\n    if (comp < 0) return this.root.key;\n    let node = this.root.left;\n    if (node == null) return null;\n    let nodeRight = node.right;\n    while (nodeRight != null) {\n      node = nodeRight;\n      nodeRight = node.right;\n    }\n    return node.key;\n  }\n  firstKeyAfter(key) {\n    if (key == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(key);\n    if (comp > 0) return this.root.key;\n    let node = this.root.right;\n    if (node == null) return null;\n    let nodeLeft = node.left;\n    while (nodeLeft != null) {\n      node = nodeLeft;\n      nodeLeft = node.left;\n    }\n    return node.key;\n  }\n  update(key, update, ifAbsent) {\n    let comp = this.splay(key);\n    if (comp == 0) {\n      const modificationCount = this.modificationCount;\n      const splayCount = this.splayCount;\n      const newValue = update(this.root.value);\n      if (modificationCount != this.modificationCount) {\n        throw \"Concurrent modification during iteration.\";\n      }\n      if (splayCount != this.splayCount) {\n        this.splay(key);\n      }\n      this.root = this.root.replaceValue(newValue);\n      this.splayCount += 1;\n      return newValue;\n    }\n    if (ifAbsent != null) {\n      const modificationCount = this.modificationCount;\n      const splayCount = this.splayCount;\n      const newValue = ifAbsent();\n      if (modificationCount != this.modificationCount) {\n        throw \"Concurrent modification during iteration.\";\n      }\n      if (splayCount != this.splayCount) {\n        comp = this.splay(key);\n      }\n      this.addNewRoot(new SplayTreeMapNode(key, newValue), comp);\n      return newValue;\n    }\n    throw \"Invalid argument (key): Key not in map.\";\n  }\n  updateAll(update) {\n    const root = this.root;\n    if (root == null) return;\n    const iterator = new SplayTreeMapEntryIterableIterator(this.wrap());\n    let node;\n    while (node = iterator.next(), !node.done) {\n      const newValue = update(...node.value);\n      iterator.replaceValue(newValue);\n    }\n  }\n  keys() {\n    return new SplayTreeKeyIterableIterator(this.wrap());\n  }\n  values() {\n    return new SplayTreeValueIterableIterator(this.wrap());\n  }\n  entries() {\n    return this[Symbol.iterator]();\n  }\n  [Symbol.iterator]() {\n    return new SplayTreeMapEntryIterableIterator(this.wrap());\n  }\n  [Symbol.toStringTag] = \"[object Map]\";\n};\nvar SplayTreeSet = class _SplayTreeSet extends SplayTree {\n  root = null;\n  compare;\n  validKey;\n  constructor(compare, isValidKey) {\n    super();\n    this.compare = compare ?? this.defaultCompare();\n    this.validKey = isValidKey ?? ((v) => v != null && v != void 0);\n  }\n  delete(element) {\n    if (!this.validKey(element)) return false;\n    return this._delete(element) != null;\n  }\n  deleteAll(elements) {\n    for (const element of elements) {\n      this.delete(element);\n    }\n  }\n  forEach(f) {\n    const nodes = this[Symbol.iterator]();\n    let result;\n    while (result = nodes.next(), !result.done) {\n      f(result.value, result.value, this);\n    }\n  }\n  add(element) {\n    const compare = this.splay(element);\n    if (compare != 0) this.addNewRoot(new SplayTreeSetNode(element), compare);\n    return this;\n  }\n  addAndReturn(element) {\n    const compare = this.splay(element);\n    if (compare != 0) this.addNewRoot(new SplayTreeSetNode(element), compare);\n    return this.root.key;\n  }\n  addAll(elements) {\n    for (const element of elements) {\n      this.add(element);\n    }\n  }\n  isEmpty() {\n    return this.root == null;\n  }\n  isNotEmpty() {\n    return this.root != null;\n  }\n  single() {\n    if (this.size == 0) throw \"Bad state: No element\";\n    if (this.size > 1) throw \"Bad state: Too many element\";\n    return this.root.key;\n  }\n  first() {\n    if (this.size == 0) throw \"Bad state: No element\";\n    return this._first().key;\n  }\n  last() {\n    if (this.size == 0) throw \"Bad state: No element\";\n    return this._last().key;\n  }\n  lastBefore(element) {\n    if (element == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(element);\n    if (comp < 0) return this.root.key;\n    let node = this.root.left;\n    if (node == null) return null;\n    let nodeRight = node.right;\n    while (nodeRight != null) {\n      node = nodeRight;\n      nodeRight = node.right;\n    }\n    return node.key;\n  }\n  firstAfter(element) {\n    if (element == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(element);\n    if (comp > 0) return this.root.key;\n    let node = this.root.right;\n    if (node == null) return null;\n    let nodeLeft = node.left;\n    while (nodeLeft != null) {\n      node = nodeLeft;\n      nodeLeft = node.left;\n    }\n    return node.key;\n  }\n  retainAll(elements) {\n    const retainSet = new _SplayTreeSet(this.compare, this.validKey);\n    const modificationCount = this.modificationCount;\n    for (const object of elements) {\n      if (modificationCount != this.modificationCount) {\n        throw \"Concurrent modification during iteration.\";\n      }\n      if (this.validKey(object) && this.splay(object) == 0) {\n        retainSet.add(this.root.key);\n      }\n    }\n    if (retainSet.size != this.size) {\n      this.root = retainSet.root;\n      this.size = retainSet.size;\n      this.modificationCount++;\n    }\n  }\n  lookup(object) {\n    if (!this.validKey(object)) return null;\n    const comp = this.splay(object);\n    if (comp != 0) return null;\n    return this.root.key;\n  }\n  intersection(other) {\n    const result = new _SplayTreeSet(this.compare, this.validKey);\n    for (const element of this) {\n      if (other.has(element)) result.add(element);\n    }\n    return result;\n  }\n  difference(other) {\n    const result = new _SplayTreeSet(this.compare, this.validKey);\n    for (const element of this) {\n      if (!other.has(element)) result.add(element);\n    }\n    return result;\n  }\n  union(other) {\n    const u = this.clone();\n    u.addAll(other);\n    return u;\n  }\n  clone() {\n    const set = new _SplayTreeSet(this.compare, this.validKey);\n    set.size = this.size;\n    set.root = this.copyNode(this.root);\n    return set;\n  }\n  copyNode(node) {\n    if (node == null) return null;\n    function copyChildren(node2, dest) {\n      let left;\n      let right;\n      do {\n        left = node2.left;\n        right = node2.right;\n        if (left != null) {\n          const newLeft = new SplayTreeSetNode(left.key);\n          dest.left = newLeft;\n          copyChildren(left, newLeft);\n        }\n        if (right != null) {\n          const newRight = new SplayTreeSetNode(right.key);\n          dest.right = newRight;\n          node2 = right;\n          dest = newRight;\n        }\n      } while (right != null);\n    }\n    const result = new SplayTreeSetNode(node.key);\n    copyChildren(node, result);\n    return result;\n  }\n  toSet() {\n    return this.clone();\n  }\n  entries() {\n    return new SplayTreeSetEntryIterableIterator(this.wrap());\n  }\n  keys() {\n    return this[Symbol.iterator]();\n  }\n  values() {\n    return this[Symbol.iterator]();\n  }\n  [Symbol.iterator]() {\n    return new SplayTreeKeyIterableIterator(this.wrap());\n  }\n  [Symbol.toStringTag] = \"[object Set]\";\n};\nvar SplayTreeIterableIterator = class {\n  tree;\n  path = new Array();\n  modificationCount = null;\n  splayCount;\n  constructor(tree) {\n    this.tree = tree;\n    this.splayCount = tree.getSplayCount();\n  }\n  [Symbol.iterator]() {\n    return this;\n  }\n  next() {\n    if (this.moveNext()) return { done: false, value: this.current() };\n    return { done: true, value: null };\n  }\n  current() {\n    if (!this.path.length) return null;\n    const node = this.path[this.path.length - 1];\n    return this.getValue(node);\n  }\n  rebuildPath(key) {\n    this.path.splice(0, this.path.length);\n    this.tree.splay(key);\n    this.path.push(this.tree.getRoot());\n    this.splayCount = this.tree.getSplayCount();\n  }\n  findLeftMostDescendent(node) {\n    while (node != null) {\n      this.path.push(node);\n      node = node.left;\n    }\n  }\n  moveNext() {\n    if (this.modificationCount != this.tree.getModificationCount()) {\n      if (this.modificationCount == null) {\n        this.modificationCount = this.tree.getModificationCount();\n        let node2 = this.tree.getRoot();\n        while (node2 != null) {\n          this.path.push(node2);\n          node2 = node2.left;\n        }\n        return this.path.length > 0;\n      }\n      throw \"Concurrent modification during iteration.\";\n    }\n    if (!this.path.length) return false;\n    if (this.splayCount != this.tree.getSplayCount()) {\n      this.rebuildPath(this.path[this.path.length - 1].key);\n    }\n    let node = this.path[this.path.length - 1];\n    let next = node.right;\n    if (next != null) {\n      while (next != null) {\n        this.path.push(next);\n        next = next.left;\n      }\n      return true;\n    }\n    this.path.pop();\n    while (this.path.length && this.path[this.path.length - 1].right === node) {\n      node = this.path.pop();\n    }\n    return this.path.length > 0;\n  }\n};\nvar SplayTreeKeyIterableIterator = class extends SplayTreeIterableIterator {\n  getValue(node) {\n    return node.key;\n  }\n};\nvar SplayTreeSetEntryIterableIterator = class extends SplayTreeIterableIterator {\n  getValue(node) {\n    return [node.key, node.key];\n  }\n};\nvar SplayTreeValueIterableIterator = class extends SplayTreeIterableIterator {\n  constructor(map) {\n    super(map);\n  }\n  getValue(node) {\n    return node.value;\n  }\n};\nvar SplayTreeMapEntryIterableIterator = class extends SplayTreeIterableIterator {\n  constructor(map) {\n    super(map);\n  }\n  getValue(node) {\n    return [node.key, node.value];\n  }\n  replaceValue(value) {\n    if (this.modificationCount != this.tree.getModificationCount()) {\n      throw \"Concurrent modification during iteration.\";\n    }\n    if (this.splayCount != this.tree.getSplayCount()) {\n      this.rebuildPath(this.path[this.path.length - 1].key);\n    }\n    const last = this.path.pop();\n    const newLast = last.replaceValue(value);\n    if (!this.path.length) {\n      this.tree.setRoot(newLast);\n    } else {\n      const parent = this.path[this.path.length - 1];\n      if (last === parent.left) {\n        parent.left = newLast;\n      } else {\n        parent.right = newLast;\n      }\n    }\n    this.path.push(newLast);\n    const count = this.tree.getSplayCount() + 1;\n    this.tree.setSplayCount(count);\n    this.splayCount = count;\n  }\n};\nexport {\n  SplayTreeMap,\n  SplayTreeSet\n};\n//# sourceMappingURL=index.js.map","// src/geom-in.ts\nimport BigNumber2 from \"bignumber.js\";\n\n// src/constant.ts\nvar constant_default = (x) => {\n  return () => {\n    return x;\n  };\n};\n\n// src/compare.ts\nvar compare_default = (eps) => {\n  const almostEqual = eps ? (a, b) => b.minus(a).abs().isLessThanOrEqualTo(eps) : constant_default(false);\n  return (a, b) => {\n    if (almostEqual(a, b)) return 0;\n    return a.comparedTo(b);\n  };\n};\n\n// src/orient.ts\nfunction orient_default(eps) {\n  const almostCollinear = eps ? (area2, ax, ay, cx, cy) => area2.exponentiatedBy(2).isLessThanOrEqualTo(\n    cx.minus(ax).exponentiatedBy(2).plus(cy.minus(ay).exponentiatedBy(2)).times(eps)\n  ) : constant_default(false);\n  return (a, b, c) => {\n    const ax = a.x, ay = a.y, cx = c.x, cy = c.y;\n    const area2 = ay.minus(cy).times(b.x.minus(cx)).minus(ax.minus(cx).times(b.y.minus(cy)));\n    if (almostCollinear(area2, ax, ay, cx, cy)) return 0;\n    return area2.comparedTo(0);\n  };\n}\n\n// src/snap.ts\nimport BigNumber from \"bignumber.js\";\nimport { SplayTreeSet } from \"splaytree-ts\";\n\n// src/identity.ts\nvar identity_default = (x) => {\n  return x;\n};\n\n// src/snap.ts\nvar snap_default = (eps) => {\n  if (eps) {\n    const xTree = new SplayTreeSet(compare_default(eps));\n    const yTree = new SplayTreeSet(compare_default(eps));\n    const snapCoord = (coord, tree) => {\n      return tree.addAndReturn(coord);\n    };\n    const snap = (v) => {\n      return {\n        x: snapCoord(v.x, xTree),\n        y: snapCoord(v.y, yTree)\n      };\n    };\n    snap({ x: new BigNumber(0), y: new BigNumber(0) });\n    return snap;\n  }\n  return identity_default;\n};\n\n// src/precision.ts\nvar set = (eps) => {\n  return {\n    set: (eps2) => {\n      precision = set(eps2);\n    },\n    reset: () => set(eps),\n    compare: compare_default(eps),\n    snap: snap_default(eps),\n    orient: orient_default(eps)\n  };\n};\nvar precision = set();\n\n// src/bbox.ts\nvar isInBbox = (bbox, point) => {\n  return bbox.ll.x.isLessThanOrEqualTo(point.x) && point.x.isLessThanOrEqualTo(bbox.ur.x) && bbox.ll.y.isLessThanOrEqualTo(point.y) && point.y.isLessThanOrEqualTo(bbox.ur.y);\n};\nvar getBboxOverlap = (b1, b2) => {\n  if (b2.ur.x.isLessThan(b1.ll.x) || b1.ur.x.isLessThan(b2.ll.x) || b2.ur.y.isLessThan(b1.ll.y) || b1.ur.y.isLessThan(b2.ll.y))\n    return null;\n  const lowerX = b1.ll.x.isLessThan(b2.ll.x) ? b2.ll.x : b1.ll.x;\n  const upperX = b1.ur.x.isLessThan(b2.ur.x) ? b1.ur.x : b2.ur.x;\n  const lowerY = b1.ll.y.isLessThan(b2.ll.y) ? b2.ll.y : b1.ll.y;\n  const upperY = b1.ur.y.isLessThan(b2.ur.y) ? b1.ur.y : b2.ur.y;\n  return { ll: { x: lowerX, y: lowerY }, ur: { x: upperX, y: upperY } };\n};\n\n// src/operation.ts\nimport { SplayTreeSet as SplayTreeSet3 } from \"splaytree-ts\";\n\n// src/vector.ts\nvar crossProduct = (a, b) => a.x.times(b.y).minus(a.y.times(b.x));\nvar dotProduct = (a, b) => a.x.times(b.x).plus(a.y.times(b.y));\nvar length = (v) => dotProduct(v, v).sqrt();\nvar sineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = { x: pBase.x.minus(pShared.x), y: pBase.y.minus(pShared.y) };\n  const vAngle = { x: pAngle.x.minus(pShared.x), y: pAngle.y.minus(pShared.y) };\n  return crossProduct(vAngle, vBase).div(length(vAngle)).div(length(vBase));\n};\nvar cosineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = { x: pBase.x.minus(pShared.x), y: pBase.y.minus(pShared.y) };\n  const vAngle = { x: pAngle.x.minus(pShared.x), y: pAngle.y.minus(pShared.y) };\n  return dotProduct(vAngle, vBase).div(length(vAngle)).div(length(vBase));\n};\nvar horizontalIntersection = (pt, v, y) => {\n  if (v.y.isZero()) return null;\n  return { x: pt.x.plus(v.x.div(v.y).times(y.minus(pt.y))), y };\n};\nvar verticalIntersection = (pt, v, x) => {\n  if (v.x.isZero()) return null;\n  return { x, y: pt.y.plus(v.y.div(v.x).times(x.minus(pt.x))) };\n};\nvar intersection = (pt1, v1, pt2, v2) => {\n  if (v1.x.isZero()) return verticalIntersection(pt2, v2, pt1.x);\n  if (v2.x.isZero()) return verticalIntersection(pt1, v1, pt2.x);\n  if (v1.y.isZero()) return horizontalIntersection(pt2, v2, pt1.y);\n  if (v2.y.isZero()) return horizontalIntersection(pt1, v1, pt2.y);\n  const kross = crossProduct(v1, v2);\n  if (kross.isZero()) return null;\n  const ve = { x: pt2.x.minus(pt1.x), y: pt2.y.minus(pt1.y) };\n  const d1 = crossProduct(ve, v1).div(kross);\n  const d2 = crossProduct(ve, v2).div(kross);\n  const x1 = pt1.x.plus(d2.times(v1.x)), x2 = pt2.x.plus(d1.times(v2.x));\n  const y1 = pt1.y.plus(d2.times(v1.y)), y2 = pt2.y.plus(d1.times(v2.y));\n  const x = x1.plus(x2).div(2);\n  const y = y1.plus(y2).div(2);\n  return { x, y };\n};\n\n// src/sweep-event.ts\nvar SweepEvent = class _SweepEvent {\n  point;\n  isLeft;\n  segment;\n  otherSE;\n  consumedBy;\n  // for ordering sweep events in the sweep event queue\n  static compare(a, b) {\n    const ptCmp = _SweepEvent.comparePoints(a.point, b.point);\n    if (ptCmp !== 0) return ptCmp;\n    if (a.point !== b.point) a.link(b);\n    if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1;\n    return Segment.compare(a.segment, b.segment);\n  }\n  // for ordering points in sweep line order\n  static comparePoints(aPt, bPt) {\n    if (aPt.x.isLessThan(bPt.x)) return -1;\n    if (aPt.x.isGreaterThan(bPt.x)) return 1;\n    if (aPt.y.isLessThan(bPt.y)) return -1;\n    if (aPt.y.isGreaterThan(bPt.y)) return 1;\n    return 0;\n  }\n  // Warning: 'point' input will be modified and re-used (for performance)\n  constructor(point, isLeft) {\n    if (point.events === void 0) point.events = [this];\n    else point.events.push(this);\n    this.point = point;\n    this.isLeft = isLeft;\n  }\n  link(other) {\n    if (other.point === this.point) {\n      throw new Error(\"Tried to link already linked events\");\n    }\n    const otherEvents = other.point.events;\n    for (let i = 0, iMax = otherEvents.length; i < iMax; i++) {\n      const evt = otherEvents[i];\n      this.point.events.push(evt);\n      evt.point = this.point;\n    }\n    this.checkForConsuming();\n  }\n  /* Do a pass over our linked events and check to see if any pair\n   * of segments match, and should be consumed. */\n  checkForConsuming() {\n    const numEvents = this.point.events.length;\n    for (let i = 0; i < numEvents; i++) {\n      const evt1 = this.point.events[i];\n      if (evt1.segment.consumedBy !== void 0) continue;\n      for (let j = i + 1; j < numEvents; j++) {\n        const evt2 = this.point.events[j];\n        if (evt2.consumedBy !== void 0) continue;\n        if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n        evt1.segment.consume(evt2.segment);\n      }\n    }\n  }\n  getAvailableLinkedEvents() {\n    const events = [];\n    for (let i = 0, iMax = this.point.events.length; i < iMax; i++) {\n      const evt = this.point.events[i];\n      if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n        events.push(evt);\n      }\n    }\n    return events;\n  }\n  /**\n   * Returns a comparator function for sorting linked events that will\n   * favor the event that will give us the smallest left-side angle.\n   * All ring construction starts as low as possible heading to the right,\n   * so by always turning left as sharp as possible we'll get polygons\n   * without uncessary loops & holes.\n   *\n   * The comparator function has a compute cache such that it avoids\n   * re-computing already-computed values.\n   */\n  getLeftmostComparator(baseEvent) {\n    const cache = /* @__PURE__ */ new Map();\n    const fillCache = (linkedEvent) => {\n      const nextEvent = linkedEvent.otherSE;\n      cache.set(linkedEvent, {\n        sine: sineOfAngle(this.point, baseEvent.point, nextEvent.point),\n        cosine: cosineOfAngle(this.point, baseEvent.point, nextEvent.point)\n      });\n    };\n    return (a, b) => {\n      if (!cache.has(a)) fillCache(a);\n      if (!cache.has(b)) fillCache(b);\n      const { sine: asine, cosine: acosine } = cache.get(a);\n      const { sine: bsine, cosine: bcosine } = cache.get(b);\n      if (asine.isGreaterThanOrEqualTo(0) && bsine.isGreaterThanOrEqualTo(0)) {\n        if (acosine.isLessThan(bcosine)) return 1;\n        if (acosine.isGreaterThan(bcosine)) return -1;\n        return 0;\n      }\n      if (asine.isLessThan(0) && bsine.isLessThan(0)) {\n        if (acosine.isLessThan(bcosine)) return -1;\n        if (acosine.isGreaterThan(bcosine)) return 1;\n        return 0;\n      }\n      if (bsine.isLessThan(asine)) return -1;\n      if (bsine.isGreaterThan(asine)) return 1;\n      return 0;\n    };\n  }\n};\n\n// src/geom-out.ts\nvar RingOut = class _RingOut {\n  events;\n  poly;\n  _isExteriorRing;\n  _enclosingRing;\n  /* Given the segments from the sweep line pass, compute & return a series\n   * of closed rings from all the segments marked to be part of the result */\n  static factory(allSegments) {\n    const ringsOut = [];\n    for (let i = 0, iMax = allSegments.length; i < iMax; i++) {\n      const segment = allSegments[i];\n      if (!segment.isInResult() || segment.ringOut) continue;\n      let prevEvent = null;\n      let event = segment.leftSE;\n      let nextEvent = segment.rightSE;\n      const events = [event];\n      const startingPoint = event.point;\n      const intersectionLEs = [];\n      while (true) {\n        prevEvent = event;\n        event = nextEvent;\n        events.push(event);\n        if (event.point === startingPoint) break;\n        while (true) {\n          const availableLEs = event.getAvailableLinkedEvents();\n          if (availableLEs.length === 0) {\n            const firstPt = events[0].point;\n            const lastPt = events[events.length - 1].point;\n            throw new Error(\n              `Unable to complete output ring starting at [${firstPt.x}, ${firstPt.y}]. Last matching segment found ends at [${lastPt.x}, ${lastPt.y}].`\n            );\n          }\n          if (availableLEs.length === 1) {\n            nextEvent = availableLEs[0].otherSE;\n            break;\n          }\n          let indexLE = null;\n          for (let j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n            if (intersectionLEs[j].point === event.point) {\n              indexLE = j;\n              break;\n            }\n          }\n          if (indexLE !== null) {\n            const intersectionLE = intersectionLEs.splice(indexLE)[0];\n            const ringEvents = events.splice(intersectionLE.index);\n            ringEvents.unshift(ringEvents[0].otherSE);\n            ringsOut.push(new _RingOut(ringEvents.reverse()));\n            continue;\n          }\n          intersectionLEs.push({\n            index: events.length,\n            point: event.point\n          });\n          const comparator = event.getLeftmostComparator(prevEvent);\n          nextEvent = availableLEs.sort(comparator)[0].otherSE;\n          break;\n        }\n      }\n      ringsOut.push(new _RingOut(events));\n    }\n    return ringsOut;\n  }\n  constructor(events) {\n    this.events = events;\n    for (let i = 0, iMax = events.length; i < iMax; i++) {\n      events[i].segment.ringOut = this;\n    }\n    this.poly = null;\n  }\n  getGeom() {\n    let prevPt = this.events[0].point;\n    const points = [prevPt];\n    for (let i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n      const pt2 = this.events[i].point;\n      const nextPt2 = this.events[i + 1].point;\n      if (precision.orient(pt2, prevPt, nextPt2) === 0) continue;\n      points.push(pt2);\n      prevPt = pt2;\n    }\n    if (points.length === 1) return null;\n    const pt = points[0];\n    const nextPt = points[1];\n    if (precision.orient(pt, prevPt, nextPt) === 0) points.shift();\n    points.push(points[0]);\n    const step = this.isExteriorRing() ? 1 : -1;\n    const iStart = this.isExteriorRing() ? 0 : points.length - 1;\n    const iEnd = this.isExteriorRing() ? points.length : -1;\n    const orderedPoints = [];\n    for (let i = iStart; i != iEnd; i += step)\n      orderedPoints.push([points[i].x.toNumber(), points[i].y.toNumber()]);\n    return orderedPoints;\n  }\n  isExteriorRing() {\n    if (this._isExteriorRing === void 0) {\n      const enclosing = this.enclosingRing();\n      this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n    }\n    return this._isExteriorRing;\n  }\n  enclosingRing() {\n    if (this._enclosingRing === void 0) {\n      this._enclosingRing = this._calcEnclosingRing();\n    }\n    return this._enclosingRing;\n  }\n  /* Returns the ring that encloses this one, if any */\n  _calcEnclosingRing() {\n    let leftMostEvt = this.events[0];\n    for (let i = 1, iMax = this.events.length; i < iMax; i++) {\n      const evt = this.events[i];\n      if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n    }\n    let prevSeg = leftMostEvt.segment.prevInResult();\n    let prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    while (true) {\n      if (!prevSeg) return null;\n      if (!prevPrevSeg) return prevSeg.ringOut;\n      if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n        if (prevPrevSeg.ringOut?.enclosingRing() !== prevSeg.ringOut) {\n          return prevSeg.ringOut;\n        } else return prevSeg.ringOut?.enclosingRing();\n      }\n      prevSeg = prevPrevSeg.prevInResult();\n      prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    }\n  }\n};\nvar PolyOut = class {\n  exteriorRing;\n  interiorRings;\n  constructor(exteriorRing) {\n    this.exteriorRing = exteriorRing;\n    exteriorRing.poly = this;\n    this.interiorRings = [];\n  }\n  addInterior(ring) {\n    this.interiorRings.push(ring);\n    ring.poly = this;\n  }\n  getGeom() {\n    const geom0 = this.exteriorRing.getGeom();\n    if (geom0 === null) return null;\n    const geom = [geom0];\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringGeom = this.interiorRings[i].getGeom();\n      if (ringGeom === null) continue;\n      geom.push(ringGeom);\n    }\n    return geom;\n  }\n};\nvar MultiPolyOut = class {\n  rings;\n  polys;\n  constructor(rings) {\n    this.rings = rings;\n    this.polys = this._composePolys(rings);\n  }\n  getGeom() {\n    const geom = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polyGeom = this.polys[i].getGeom();\n      if (polyGeom === null) continue;\n      geom.push(polyGeom);\n    }\n    return geom;\n  }\n  _composePolys(rings) {\n    const polys = [];\n    for (let i = 0, iMax = rings.length; i < iMax; i++) {\n      const ring = rings[i];\n      if (ring.poly) continue;\n      if (ring.isExteriorRing()) polys.push(new PolyOut(ring));\n      else {\n        const enclosingRing = ring.enclosingRing();\n        if (!enclosingRing?.poly) polys.push(new PolyOut(enclosingRing));\n        enclosingRing?.poly?.addInterior(ring);\n      }\n    }\n    return polys;\n  }\n};\n\n// src/sweep-line.ts\nimport { SplayTreeSet as SplayTreeSet2 } from \"splaytree-ts\";\nvar SweepLine = class {\n  queue;\n  tree;\n  segments;\n  constructor(queue, comparator = Segment.compare) {\n    this.queue = queue;\n    this.tree = new SplayTreeSet2(comparator);\n    this.segments = [];\n  }\n  process(event) {\n    const segment = event.segment;\n    const newEvents = [];\n    if (event.consumedBy) {\n      if (event.isLeft) this.queue.delete(event.otherSE);\n      else this.tree.delete(segment);\n      return newEvents;\n    }\n    if (event.isLeft) this.tree.add(segment);\n    let prevSeg = segment;\n    let nextSeg = segment;\n    do {\n      prevSeg = this.tree.lastBefore(prevSeg);\n    } while (prevSeg != null && prevSeg.consumedBy != void 0);\n    do {\n      nextSeg = this.tree.firstAfter(nextSeg);\n    } while (nextSeg != null && nextSeg.consumedBy != void 0);\n    if (event.isLeft) {\n      let prevMySplitter = null;\n      if (prevSeg) {\n        const prevInter = prevSeg.getIntersection(segment);\n        if (prevInter !== null) {\n          if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n          if (!prevSeg.isAnEndpoint(prevInter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      let nextMySplitter = null;\n      if (nextSeg) {\n        const nextInter = nextSeg.getIntersection(segment);\n        if (nextInter !== null) {\n          if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n          if (!nextSeg.isAnEndpoint(nextInter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      if (prevMySplitter !== null || nextMySplitter !== null) {\n        let mySplitter = null;\n        if (prevMySplitter === null) mySplitter = nextMySplitter;\n        else if (nextMySplitter === null) mySplitter = prevMySplitter;\n        else {\n          const cmpSplitters = SweepEvent.comparePoints(\n            prevMySplitter,\n            nextMySplitter\n          );\n          mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n        }\n        this.queue.delete(segment.rightSE);\n        newEvents.push(segment.rightSE);\n        const newEventsFromSplit = segment.split(mySplitter);\n        for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n          newEvents.push(newEventsFromSplit[i]);\n        }\n      }\n      if (newEvents.length > 0) {\n        this.tree.delete(segment);\n        newEvents.push(event);\n      } else {\n        this.segments.push(segment);\n        segment.prev = prevSeg;\n      }\n    } else {\n      if (prevSeg && nextSeg) {\n        const inter = prevSeg.getIntersection(nextSeg);\n        if (inter !== null) {\n          if (!prevSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n          if (!nextSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      this.tree.delete(segment);\n    }\n    return newEvents;\n  }\n  /* Safely split a segment that is currently in the datastructures\n   * IE - a segment other than the one that is currently being processed. */\n  _splitSafely(seg, pt) {\n    this.tree.delete(seg);\n    const rightSE = seg.rightSE;\n    this.queue.delete(rightSE);\n    const newEvents = seg.split(pt);\n    newEvents.push(rightSE);\n    if (seg.consumedBy === void 0) this.tree.add(seg);\n    return newEvents;\n  }\n};\n\n// src/operation.ts\nvar Operation = class {\n  type;\n  numMultiPolys;\n  run(type, geom, moreGeoms) {\n    operation.type = type;\n    const multipolys = [new MultiPolyIn(geom, true)];\n    for (let i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n      multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n    }\n    operation.numMultiPolys = multipolys.length;\n    if (operation.type === \"difference\") {\n      const subject = multipolys[0];\n      let i = 1;\n      while (i < multipolys.length) {\n        if (getBboxOverlap(multipolys[i].bbox, subject.bbox) !== null) i++;\n        else multipolys.splice(i, 1);\n      }\n    }\n    if (operation.type === \"intersection\") {\n      for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n        const mpA = multipolys[i];\n        for (let j = i + 1, jMax = multipolys.length; j < jMax; j++) {\n          if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n        }\n      }\n    }\n    const queue = new SplayTreeSet3(SweepEvent.compare);\n    for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n      const sweepEvents = multipolys[i].getSweepEvents();\n      for (let j = 0, jMax = sweepEvents.length; j < jMax; j++) {\n        queue.add(sweepEvents[j]);\n      }\n    }\n    const sweepLine = new SweepLine(queue);\n    let evt = null;\n    if (queue.size != 0) {\n      evt = queue.first();\n      queue.delete(evt);\n    }\n    while (evt) {\n      const newEvents = sweepLine.process(evt);\n      for (let i = 0, iMax = newEvents.length; i < iMax; i++) {\n        const evt2 = newEvents[i];\n        if (evt2.consumedBy === void 0) queue.add(evt2);\n      }\n      if (queue.size != 0) {\n        evt = queue.first();\n        queue.delete(evt);\n      } else {\n        evt = null;\n      }\n    }\n    precision.reset();\n    const ringsOut = RingOut.factory(sweepLine.segments);\n    const result = new MultiPolyOut(ringsOut);\n    return result.getGeom();\n  }\n};\nvar operation = new Operation();\nvar operation_default = operation;\n\n// src/segment.ts\nvar segmentId = 0;\nvar Segment = class _Segment {\n  id;\n  leftSE;\n  rightSE;\n  rings;\n  windings;\n  ringOut;\n  consumedBy;\n  prev;\n  _prevInResult;\n  _beforeState;\n  _afterState;\n  _isInResult;\n  /* This compare() function is for ordering segments in the sweep\n   * line tree, and does so according to the following criteria:\n   *\n   * Consider the vertical line that lies an infinestimal step to the\n   * right of the right-more of the two left endpoints of the input\n   * segments. Imagine slowly moving a point up from negative infinity\n   * in the increasing y direction. Which of the two segments will that\n   * point intersect first? That segment comes 'before' the other one.\n   *\n   * If neither segment would be intersected by such a line, (if one\n   * or more of the segments are vertical) then the line to be considered\n   * is directly on the right-more of the two left inputs.\n   */\n  static compare(a, b) {\n    const alx = a.leftSE.point.x;\n    const blx = b.leftSE.point.x;\n    const arx = a.rightSE.point.x;\n    const brx = b.rightSE.point.x;\n    if (brx.isLessThan(alx)) return 1;\n    if (arx.isLessThan(blx)) return -1;\n    const aly = a.leftSE.point.y;\n    const bly = b.leftSE.point.y;\n    const ary = a.rightSE.point.y;\n    const bry = b.rightSE.point.y;\n    if (alx.isLessThan(blx)) {\n      if (bly.isLessThan(aly) && bly.isLessThan(ary)) return 1;\n      if (bly.isGreaterThan(aly) && bly.isGreaterThan(ary)) return -1;\n      const aCmpBLeft = a.comparePoint(b.leftSE.point);\n      if (aCmpBLeft < 0) return 1;\n      if (aCmpBLeft > 0) return -1;\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n      return -1;\n    }\n    if (alx.isGreaterThan(blx)) {\n      if (aly.isLessThan(bly) && aly.isLessThan(bry)) return -1;\n      if (aly.isGreaterThan(bly) && aly.isGreaterThan(bry)) return 1;\n      const bCmpALeft = b.comparePoint(a.leftSE.point);\n      if (bCmpALeft !== 0) return bCmpALeft;\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n      return 1;\n    }\n    if (aly.isLessThan(bly)) return -1;\n    if (aly.isGreaterThan(bly)) return 1;\n    if (arx.isLessThan(brx)) {\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n    }\n    if (arx.isGreaterThan(brx)) {\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n    }\n    if (!arx.eq(brx)) {\n      const ay = ary.minus(aly);\n      const ax = arx.minus(alx);\n      const by = bry.minus(bly);\n      const bx = brx.minus(blx);\n      if (ay.isGreaterThan(ax) && by.isLessThan(bx)) return 1;\n      if (ay.isLessThan(ax) && by.isGreaterThan(bx)) return -1;\n    }\n    if (arx.isGreaterThan(brx)) return 1;\n    if (arx.isLessThan(brx)) return -1;\n    if (ary.isLessThan(bry)) return -1;\n    if (ary.isGreaterThan(bry)) return 1;\n    if (a.id < b.id) return -1;\n    if (a.id > b.id) return 1;\n    return 0;\n  }\n  /* Warning: a reference to ringWindings input will be stored,\n   *  and possibly will be later modified */\n  constructor(leftSE, rightSE, rings, windings) {\n    this.id = ++segmentId;\n    this.leftSE = leftSE;\n    leftSE.segment = this;\n    leftSE.otherSE = rightSE;\n    this.rightSE = rightSE;\n    rightSE.segment = this;\n    rightSE.otherSE = leftSE;\n    this.rings = rings;\n    this.windings = windings;\n  }\n  static fromRing(pt1, pt2, ring) {\n    let leftPt, rightPt, winding;\n    const cmpPts = SweepEvent.comparePoints(pt1, pt2);\n    if (cmpPts < 0) {\n      leftPt = pt1;\n      rightPt = pt2;\n      winding = 1;\n    } else if (cmpPts > 0) {\n      leftPt = pt2;\n      rightPt = pt1;\n      winding = -1;\n    } else\n      throw new Error(\n        `Tried to create degenerate segment at [${pt1.x}, ${pt1.y}]`\n      );\n    const leftSE = new SweepEvent(leftPt, true);\n    const rightSE = new SweepEvent(rightPt, false);\n    return new _Segment(leftSE, rightSE, [ring], [winding]);\n  }\n  /* When a segment is split, the rightSE is replaced with a new sweep event */\n  replaceRightSE(newRightSE) {\n    this.rightSE = newRightSE;\n    this.rightSE.segment = this;\n    this.rightSE.otherSE = this.leftSE;\n    this.leftSE.otherSE = this.rightSE;\n  }\n  bbox() {\n    const y1 = this.leftSE.point.y;\n    const y2 = this.rightSE.point.y;\n    return {\n      ll: { x: this.leftSE.point.x, y: y1.isLessThan(y2) ? y1 : y2 },\n      ur: { x: this.rightSE.point.x, y: y1.isGreaterThan(y2) ? y1 : y2 }\n    };\n  }\n  /* A vector from the left point to the right */\n  vector() {\n    return {\n      x: this.rightSE.point.x.minus(this.leftSE.point.x),\n      y: this.rightSE.point.y.minus(this.leftSE.point.y)\n    };\n  }\n  isAnEndpoint(pt) {\n    return pt.x.eq(this.leftSE.point.x) && pt.y.eq(this.leftSE.point.y) || pt.x.eq(this.rightSE.point.x) && pt.y.eq(this.rightSE.point.y);\n  }\n  /* Compare this segment with a point.\n   *\n   * A point P is considered to be colinear to a segment if there\n   * exists a distance D such that if we travel along the segment\n   * from one * endpoint towards the other a distance D, we find\n   * ourselves at point P.\n   *\n   * Return value indicates:\n   *\n   *   1: point lies above the segment (to the left of vertical)\n   *   0: point is colinear to segment\n   *  -1: point lies below the segment (to the right of vertical)\n   */\n  comparePoint(point) {\n    return precision.orient(this.leftSE.point, point, this.rightSE.point);\n  }\n  /**\n   * Given another segment, returns the first non-trivial intersection\n   * between the two segments (in terms of sweep line ordering), if it exists.\n   *\n   * A 'non-trivial' intersection is one that will cause one or both of the\n   * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n   *\n   *   * endpoint of segA with endpoint of segB --> trivial\n   *   * endpoint of segA with point along segB --> non-trivial\n   *   * endpoint of segB with point along segA --> non-trivial\n   *   * point along segA with point along segB --> non-trivial\n   *\n   * If no non-trivial intersection exists, return null\n   * Else, return null.\n   */\n  getIntersection(other) {\n    const tBbox = this.bbox();\n    const oBbox = other.bbox();\n    const bboxOverlap = getBboxOverlap(tBbox, oBbox);\n    if (bboxOverlap === null) return null;\n    const tlp = this.leftSE.point;\n    const trp = this.rightSE.point;\n    const olp = other.leftSE.point;\n    const orp = other.rightSE.point;\n    const touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n    const touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n    const touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n    const touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0;\n    if (touchesThisLSE && touchesOtherLSE) {\n      if (touchesThisRSE && !touchesOtherRSE) return trp;\n      if (!touchesThisRSE && touchesOtherRSE) return orp;\n      return null;\n    }\n    if (touchesThisLSE) {\n      if (touchesOtherRSE) {\n        if (tlp.x.eq(orp.x) && tlp.y.eq(orp.y)) return null;\n      }\n      return tlp;\n    }\n    if (touchesOtherLSE) {\n      if (touchesThisRSE) {\n        if (trp.x.eq(olp.x) && trp.y.eq(olp.y)) return null;\n      }\n      return olp;\n    }\n    if (touchesThisRSE && touchesOtherRSE) return null;\n    if (touchesThisRSE) return trp;\n    if (touchesOtherRSE) return orp;\n    const pt = intersection(tlp, this.vector(), olp, other.vector());\n    if (pt === null) return null;\n    if (!isInBbox(bboxOverlap, pt)) return null;\n    return precision.snap(pt);\n  }\n  /**\n   * Split the given segment into multiple segments on the given points.\n   *  * Each existing segment will retain its leftSE and a new rightSE will be\n   *    generated for it.\n   *  * A new segment will be generated which will adopt the original segment's\n   *    rightSE, and a new leftSE will be generated for it.\n   *  * If there are more than two points given to split on, new segments\n   *    in the middle will be generated with new leftSE and rightSE's.\n   *  * An array of the newly generated SweepEvents will be returned.\n   *\n   * Warning: input array of points is modified\n   */\n  split(point) {\n    const newEvents = [];\n    const alreadyLinked = point.events !== void 0;\n    const newLeftSE = new SweepEvent(point, true);\n    const newRightSE = new SweepEvent(point, false);\n    const oldRightSE = this.rightSE;\n    this.replaceRightSE(newRightSE);\n    newEvents.push(newRightSE);\n    newEvents.push(newLeftSE);\n    const newSeg = new _Segment(\n      newLeftSE,\n      oldRightSE,\n      this.rings.slice(),\n      this.windings.slice()\n    );\n    if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n      newSeg.swapEvents();\n    }\n    if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n      this.swapEvents();\n    }\n    if (alreadyLinked) {\n      newLeftSE.checkForConsuming();\n      newRightSE.checkForConsuming();\n    }\n    return newEvents;\n  }\n  /* Swap which event is left and right */\n  swapEvents() {\n    const tmpEvt = this.rightSE;\n    this.rightSE = this.leftSE;\n    this.leftSE = tmpEvt;\n    this.leftSE.isLeft = true;\n    this.rightSE.isLeft = false;\n    for (let i = 0, iMax = this.windings.length; i < iMax; i++) {\n      this.windings[i] *= -1;\n    }\n  }\n  /* Consume another segment. We take their rings under our wing\n   * and mark them as consumed. Use for perfectly overlapping segments */\n  consume(other) {\n    let consumer = this;\n    let consumee = other;\n    while (consumer.consumedBy) consumer = consumer.consumedBy;\n    while (consumee.consumedBy) consumee = consumee.consumedBy;\n    const cmp = _Segment.compare(consumer, consumee);\n    if (cmp === 0) return;\n    if (cmp > 0) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n    if (consumer.prev === consumee) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n    for (let i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n      const ring = consumee.rings[i];\n      const winding = consumee.windings[i];\n      const index = consumer.rings.indexOf(ring);\n      if (index === -1) {\n        consumer.rings.push(ring);\n        consumer.windings.push(winding);\n      } else consumer.windings[index] += winding;\n    }\n    consumee.rings = null;\n    consumee.windings = null;\n    consumee.consumedBy = consumer;\n    consumee.leftSE.consumedBy = consumer.leftSE;\n    consumee.rightSE.consumedBy = consumer.rightSE;\n  }\n  /* The first segment previous segment chain that is in the result */\n  prevInResult() {\n    if (this._prevInResult !== void 0) return this._prevInResult;\n    if (!this.prev) this._prevInResult = null;\n    else if (this.prev.isInResult()) this._prevInResult = this.prev;\n    else this._prevInResult = this.prev.prevInResult();\n    return this._prevInResult;\n  }\n  beforeState() {\n    if (this._beforeState !== void 0) return this._beforeState;\n    if (!this.prev)\n      this._beforeState = {\n        rings: [],\n        windings: [],\n        multiPolys: []\n      };\n    else {\n      const seg = this.prev.consumedBy || this.prev;\n      this._beforeState = seg.afterState();\n    }\n    return this._beforeState;\n  }\n  afterState() {\n    if (this._afterState !== void 0) return this._afterState;\n    const beforeState = this.beforeState();\n    this._afterState = {\n      rings: beforeState.rings.slice(0),\n      windings: beforeState.windings.slice(0),\n      multiPolys: []\n    };\n    const ringsAfter = this._afterState.rings;\n    const windingsAfter = this._afterState.windings;\n    const mpsAfter = this._afterState.multiPolys;\n    for (let i = 0, iMax = this.rings.length; i < iMax; i++) {\n      const ring = this.rings[i];\n      const winding = this.windings[i];\n      const index = ringsAfter.indexOf(ring);\n      if (index === -1) {\n        ringsAfter.push(ring);\n        windingsAfter.push(winding);\n      } else windingsAfter[index] += winding;\n    }\n    const polysAfter = [];\n    const polysExclude = [];\n    for (let i = 0, iMax = ringsAfter.length; i < iMax; i++) {\n      if (windingsAfter[i] === 0) continue;\n      const ring = ringsAfter[i];\n      const poly = ring.poly;\n      if (polysExclude.indexOf(poly) !== -1) continue;\n      if (ring.isExterior) polysAfter.push(poly);\n      else {\n        if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n        const index = polysAfter.indexOf(ring.poly);\n        if (index !== -1) polysAfter.splice(index, 1);\n      }\n    }\n    for (let i = 0, iMax = polysAfter.length; i < iMax; i++) {\n      const mp = polysAfter[i].multiPoly;\n      if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n    }\n    return this._afterState;\n  }\n  /* Is this segment part of the final result? */\n  isInResult() {\n    if (this.consumedBy) return false;\n    if (this._isInResult !== void 0) return this._isInResult;\n    const mpsBefore = this.beforeState().multiPolys;\n    const mpsAfter = this.afterState().multiPolys;\n    switch (operation_default.type) {\n      case \"union\": {\n        const noBefores = mpsBefore.length === 0;\n        const noAfters = mpsAfter.length === 0;\n        this._isInResult = noBefores !== noAfters;\n        break;\n      }\n      case \"intersection\": {\n        let least;\n        let most;\n        if (mpsBefore.length < mpsAfter.length) {\n          least = mpsBefore.length;\n          most = mpsAfter.length;\n        } else {\n          least = mpsAfter.length;\n          most = mpsBefore.length;\n        }\n        this._isInResult = most === operation_default.numMultiPolys && least < most;\n        break;\n      }\n      case \"xor\": {\n        const diff = Math.abs(mpsBefore.length - mpsAfter.length);\n        this._isInResult = diff % 2 === 1;\n        break;\n      }\n      case \"difference\": {\n        const isJustSubject = (mps) => mps.length === 1 && mps[0].isSubject;\n        this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n        break;\n      }\n    }\n    return this._isInResult;\n  }\n};\n\n// src/geom-in.ts\nvar RingIn = class {\n  poly;\n  isExterior;\n  segments;\n  bbox;\n  constructor(geomRing, poly, isExterior) {\n    if (!Array.isArray(geomRing) || geomRing.length === 0) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.poly = poly;\n    this.isExterior = isExterior;\n    this.segments = [];\n    if (typeof geomRing[0][0] !== \"number\" || typeof geomRing[0][1] !== \"number\") {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    const firstPoint = precision.snap({ x: new BigNumber2(geomRing[0][0]), y: new BigNumber2(geomRing[0][1]) });\n    this.bbox = {\n      ll: { x: firstPoint.x, y: firstPoint.y },\n      ur: { x: firstPoint.x, y: firstPoint.y }\n    };\n    let prevPoint = firstPoint;\n    for (let i = 1, iMax = geomRing.length; i < iMax; i++) {\n      if (typeof geomRing[i][0] !== \"number\" || typeof geomRing[i][1] !== \"number\") {\n        throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n      }\n      const point = precision.snap({ x: new BigNumber2(geomRing[i][0]), y: new BigNumber2(geomRing[i][1]) });\n      if (point.x.eq(prevPoint.x) && point.y.eq(prevPoint.y)) continue;\n      this.segments.push(Segment.fromRing(prevPoint, point, this));\n      if (point.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = point.x;\n      if (point.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = point.y;\n      if (point.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = point.x;\n      if (point.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = point.y;\n      prevPoint = point;\n    }\n    if (!firstPoint.x.eq(prevPoint.x) || !firstPoint.y.eq(prevPoint.y)) {\n      this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n    }\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.segments.length; i < iMax; i++) {\n      const segment = this.segments[i];\n      sweepEvents.push(segment.leftSE);\n      sweepEvents.push(segment.rightSE);\n    }\n    return sweepEvents;\n  }\n};\nvar PolyIn = class {\n  multiPoly;\n  exteriorRing;\n  interiorRings;\n  bbox;\n  constructor(geomPoly, multiPoly) {\n    if (!Array.isArray(geomPoly)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.exteriorRing = new RingIn(geomPoly[0], this, true);\n    this.bbox = {\n      ll: { x: this.exteriorRing.bbox.ll.x, y: this.exteriorRing.bbox.ll.y },\n      ur: { x: this.exteriorRing.bbox.ur.x, y: this.exteriorRing.bbox.ur.y }\n    };\n    this.interiorRings = [];\n    for (let i = 1, iMax = geomPoly.length; i < iMax; i++) {\n      const ring = new RingIn(geomPoly[i], this, false);\n      if (ring.bbox.ll.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = ring.bbox.ll.x;\n      if (ring.bbox.ll.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = ring.bbox.ll.y;\n      if (ring.bbox.ur.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = ring.bbox.ur.x;\n      if (ring.bbox.ur.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = ring.bbox.ur.y;\n      this.interiorRings.push(ring);\n    }\n    this.multiPoly = multiPoly;\n  }\n  getSweepEvents() {\n    const sweepEvents = this.exteriorRing.getSweepEvents();\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringSweepEvents = this.interiorRings[i].getSweepEvents();\n      for (let j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(ringSweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n};\nvar MultiPolyIn = class {\n  isSubject;\n  polys;\n  bbox;\n  constructor(geom, isSubject) {\n    if (!Array.isArray(geom)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    try {\n      if (typeof geom[0][0][0] === \"number\") geom = [geom];\n    } catch (ex) {\n    }\n    this.polys = [];\n    this.bbox = {\n      ll: { x: new BigNumber2(Number.POSITIVE_INFINITY), y: new BigNumber2(Number.POSITIVE_INFINITY) },\n      ur: { x: new BigNumber2(Number.NEGATIVE_INFINITY), y: new BigNumber2(Number.NEGATIVE_INFINITY) }\n    };\n    for (let i = 0, iMax = geom.length; i < iMax; i++) {\n      const poly = new PolyIn(geom[i], this);\n      if (poly.bbox.ll.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = poly.bbox.ll.x;\n      if (poly.bbox.ll.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = poly.bbox.ll.y;\n      if (poly.bbox.ur.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = poly.bbox.ur.x;\n      if (poly.bbox.ur.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = poly.bbox.ur.y;\n      this.polys.push(poly);\n    }\n    this.isSubject = isSubject;\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polySweepEvents = this.polys[i].getSweepEvents();\n      for (let j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(polySweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n};\n\n// src/index.ts\nvar union = (geom, ...moreGeoms) => operation_default.run(\"union\", geom, moreGeoms);\nvar intersection2 = (geom, ...moreGeoms) => operation_default.run(\"intersection\", geom, moreGeoms);\nvar xor = (geom, ...moreGeoms) => operation_default.run(\"xor\", geom, moreGeoms);\nvar difference = (geom, ...moreGeoms) => operation_default.run(\"difference\", geom, moreGeoms);\nvar setPrecision = precision.set;\nexport {\n  difference,\n  intersection2 as intersection,\n  setPrecision,\n  union,\n  xor\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport * as polyclip from \"polyclip-ts\";\nimport { polygon, multiPolygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nfunction difference2(features) {\n  const geoms = [];\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must have at least two features\");\n  }\n  const properties = features.features[0].properties || {};\n  const differenced = polyclip.difference(geoms[0], ...geoms.slice(1));\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\nvar index_default = difference2;\nexport {\n  index_default as default,\n  difference2 as difference\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { multiPolygon, polygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nimport * as polyclip from \"polyclip-ts\";\nfunction intersect(features, options = {}) {\n  const geoms = [];\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must specify at least 2 geometries\");\n  }\n  const intersection2 = polyclip.intersection(geoms[0], ...geoms.slice(1));\n  if (intersection2.length === 0) return null;\n  if (intersection2.length === 1)\n    return polygon(intersection2[0], options.properties);\n  return multiPolygon(intersection2, options.properties);\n}\nvar index_default = intersect;\nexport {\n  index_default as default,\n  intersect\n};\n//# sourceMappingURL=index.js.map","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('svg',{attrs:{\"viewBox\":_vm.danger.altitude ? '0 0 165 100' : '0 0 100 100',\"width\":_vm.danger.altitude ? 130 : 80,\"height\":\"80\"}},[_c('polygon',{attrs:{\"points\":\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5\"}}),_vm._v(\" \"),(_vm.danger.locLow && !_vm.danger.altitude)?_c('g',[_c('text',{staticClass:\"small\",attrs:{\"x\":_vm.locLowIsEast ? 80 : 5,\"y\":\"40\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.locLow)+\"\\n      \")]),_vm._v(\" \"),_c('text',{staticClass:\"small\",attrs:{\"x\":!_vm.locLowIsEast ? 80 : 5,\"y\":\"40\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.locHigh)+\"\\n      \")]),_vm._v(\" \"),_c('text',{attrs:{\"x\":_vm.locLowIsEast ? 66 : 33,\"y\":\"68\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.low)+\"\\n      \")]),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"50\",\"y1\":\"50\",\"y2\":\"70\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":!_vm.locLowIsEast ? 66 : 33,\"y\":\"68\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.high)+\"\\n      \")])]):_c('g',[_c('text',{attrs:{\"x\":\"50\",\"y\":_vm.danger.high ? 82 : 65}},[_c('tspan',[_vm._v(_vm._s(_vm.danger.low))]),_vm._v(\" \"),(_vm.danger.lowEvol)?_c('tspan',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(_vm.danger.lowEvol)?_c('tspan',[_vm._v(_vm._s(_vm.danger.lowEvol))]):_vm._e()]),_vm._v(\" \"),(_vm.danger.lowEvol)?_c('g',[_c('line',{attrs:{\"x1\":\"45\",\"x2\":\"55\",\"y1\":_vm.danger.high ? 75 : 58,\"y2\":_vm.danger.high ? 75 : 58}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":_vm.danger.high ? 70 : 53,\"y2\":_vm.danger.high ? 75 : 58}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":_vm.danger.high ? 80 : 63,\"y2\":_vm.danger.high ? 75 : 58}})]):_vm._e(),_vm._v(\" \"),_c('g',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.danger.high),expression:\"danger.high\"}]},[_c('line',{attrs:{\"x1\":\"10\",\"y1\":\"61.5\",\"x2\":\"90\",\"y2\":\"61.5\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"50\",\"y\":\"54\"}},[_c('tspan',[_vm._v(_vm._s(_vm.danger.high))]),_vm._v(\" \"),(_vm.danger.highEvol)?_c('tspan',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(_vm.danger.highEvol)?_c('tspan',[_vm._v(_vm._s(_vm.danger.highEvol))]):_vm._e()]),_vm._v(\" \"),(_vm.danger.highEvol)?_c('g',[_c('line',{attrs:{\"x1\":\"45\",\"x2\":\"55\",\"y1\":\"46\",\"y2\":\"46\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":\"41\",\"y2\":\"46\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"50\",\"x2\":\"55\",\"y1\":\"51\",\"y2\":\"46\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.danger.altitude)?_c('text',{staticClass:\"small\",attrs:{\"x\":\"92\",\"y\":\"65\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.danger.altitude)+\"\\n      \")]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <svg :viewBox=\"danger.altitude ? '0 0 165 100' : '0 0 100 100'\" :width=\"danger.altitude ? 130 : 80\" height=\"80\">\n      <polygon points=\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5\" />\n      <g v-if=\"danger.locLow && !danger.altitude\">\n        <text :x=\"locLowIsEast ? 80 : 5\" y=\"40\" class=\"small\">\n          {{ danger.locLow }}\n        </text>\n        <text :x=\"!locLowIsEast ? 80 : 5\" y=\"40\" class=\"small\">\n          {{ danger.locHigh }}\n        </text>\n        <text :x=\"locLowIsEast ? 66 : 33\" y=\"68\">\n          {{ danger.low }}\n        </text>\n        <line x1=\"50\" x2=\"50\" y1=\"50\" y2=\"70\" />\n        <text :x=\"!locLowIsEast ? 66 : 33\" y=\"68\">\n          {{ danger.high }}\n        </text>\n      </g>\n      <g v-else>\n        <text x=\"50\" :y=\"danger.high ? 82 : 65\">\n          <tspan>{{ danger.low }}</tspan>\n          <tspan v-if=\"danger.lowEvol\">&ensp;</tspan>\n          <tspan v-if=\"danger.lowEvol\">{{ danger.lowEvol }}</tspan>\n        </text>\n        <g v-if=\"danger.lowEvol\">\n          <line x1=\"45\" x2=\"55\" :y1=\"danger.high ? 75 : 58\" :y2=\"danger.high ? 75 : 58\" />\n          <line x1=\"50\" x2=\"55\" :y1=\"danger.high ? 70 : 53\" :y2=\"danger.high ? 75 : 58\" />\n          <line x1=\"50\" x2=\"55\" :y1=\"danger.high ? 80 : 63\" :y2=\"danger.high ? 75 : 58\" />\n        </g>\n        <g v-show=\"danger.high\">\n          <line x1=\"10\" y1=\"61.5\" x2=\"90\" y2=\"61.5\" />\n          <text x=\"50\" y=\"54\">\n            <tspan>{{ danger.high }}</tspan>\n            <tspan v-if=\"danger.highEvol\">&ensp;</tspan>\n            <tspan v-if=\"danger.highEvol\">{{ danger.highEvol }}</tspan>\n          </text>\n          <g v-if=\"danger.highEvol\">\n            <line x1=\"45\" x2=\"55\" y1=\"46\" y2=\"46\" />\n            <line x1=\"50\" x2=\"55\" y1=\"41\" y2=\"46\" />\n            <line x1=\"50\" x2=\"55\" y1=\"51\" y2=\"46\" />\n          </g>\n        </g>\n        <text v-if=\"danger.altitude\" x=\"92\" y=\"65\" class=\"small\">\n          {{ danger.altitude }}\n        </text>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    danger: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    locLowIsEast() {\n      return this.danger.locLow === 'E';\n    },\n  },\n};\n</script>\n\n<style scoped>\nline,\npolygon {\n  fill: none;\n  stroke: #000;\n  stroke-width: 2;\n}\ntext {\n  font-family: sans-serif;\n  font-size: 20px;\n  font-weight: bold;\n  text-anchor: middle;\n}\ntext.small {\n  font-size: 16px;\n  font-weight: normal;\n  text-anchor: start;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DangerLevel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DangerLevel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DangerLevel.vue?vue&type=template&id=31f693da&scoped=true\"\nimport script from \"./DangerLevel.vue?vue&type=script&lang=js\"\nexport * from \"./DangerLevel.vue?vue&type=script&lang=js\"\nimport style0 from \"./DangerLevel.vue?vue&type=style&index=0&id=31f693da&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31f693da\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div ref=\"bulletinsOverlay\" class=\"bulletins-overlay\">\n    <button class=\"delete is-small button-close\" @click=\"closeOverlay\">x</button>\n    <div class=\"bulletins-header pb-3 has-text-centered\">\n      <p class=\"title is-5 mb-1\">\n        {{ overlayData.mountainName }}\n      </p>\n      <p class=\"title is-7 country-name\">\n        {{ overlayData.country }}\n      </p>\n      <dropdown-content inverted v-if=\"overlayData.fullName\" class=\"mx-2 is-size-7\">\n        <span v-translate>Merged regions</span>\n        <template #content>\n          <div class=\"is-size-7 has-text-left\">\n            {{ overlayData.fullName }}\n          </div>\n        </template>\n      </dropdown-content>\n    </div>\n    <div v-if=\"overlayData.danger.low\" class=\"py-2\">\n      <p class=\"is-size-7 px-3 pb-5\">\n        <span><strong v-translate>Validity date:</strong> {{ overlayValidUntil }}</span>\n        <strong v-if=\"overlayValidUntilExpired\" class=\"is-block has-text-danger\">\n          <fa-icon icon=\"exclamation-circle\" />\n          <span v-translate key=\"id1\">Validity date expired</span>\n        </strong>\n      </p>\n      <div class=\"is-flex is-justify-content-space-around is-align-items-center px-3\">\n        <danger-level :danger=\"overlayData.danger\" />\n        <input-orientation disabled :value=\"overlayOrientations\" />\n      </div>\n      <dl v-if=\"overlayDangerComment || overlayOrientationsComment\" class=\"is-size-6 px-3 pt-3\">\n        <template v-if=\"overlayDangerComment\">\n          <dt v-translate>Danger:</dt>\n          <dd>{{ overlayDangerComment }}</dd>\n        </template>\n        <template v-if=\"overlayOrientationsComment\">\n          <dt v-translate>Orientations:</dt>\n          <dd>{{ overlayOrientationsComment }}</dd>\n        </template>\n      </dl>\n    </div>\n    <div v-else class=\"py-2\">\n      <p class=\"is-size-6 p-3\"><span v-translate key=\"id2\">No avalanche bulletin right now</span></p>\n    </div>\n    <div class=\"is-size-7 px-3 pt-2 pb-2 bulletins-footer\" v-if=\"overlayData.urls.length\">\n      <p v-for=\"(url, i) in overlayData.urls\" :key=\"i\">\n        <strong>{{ url.title }}</strong>\n        <a :href=\"url.url\" target=\"_blank\">\n          <fa-icon icon=\"external-link-alt\" />\n          <span v-translate>Full bulletin</span>\n        </a>\n      </p>\n    </div>\n    <img :src=\"overlayDangerIcon\" alt=\"\" class=\"bulletins-overlay-danger-icon\" />\n  </div>\n</template>\n<script>\nimport { buffer as turfBuffer } from '@turf/buffer';\nimport { difference as turfDifference } from '@turf/difference';\nimport { featureCollection as turfFeatureCollection } from '@turf/helpers';\nimport { intersect as turfIntersect } from '@turf/intersect';\n\nimport layerMixin from './layer';\n\nimport DropdownContent from '@/components/yeti/DropdownContent.vue';\nimport Yetix from '@/components/yeti/Yetix';\nimport DangerLevel from '@/components/yeti/map-layers/DangerLevel';\nimport ol from '@/js/libs/ol';\n\n// min and max zooms for layers styles\nconst MIN_ZOOM = 8;\nconst MAX_ZOOM = 10;\n\nlet mountainsStyle = (feature, mapZoom, danger) => {\n  const MIN_OPACITY = 0;\n  const MAX_OPACITY = 0.9;\n\n  let opacity = MAX_OPACITY;\n  let strokeWidth = 1;\n\n  let bufferedGeometryValue = 'bufferedGeometry_0';\n\n  if (mapZoom) {\n    // opacity should be gradually decreasing between min and max zooms\n    // also, set buffered geometry based on zoom\n    if (mapZoom >= MIN_ZOOM && mapZoom <= MAX_ZOOM) {\n      opacity = (MAX_ZOOM - mapZoom) * (MAX_OPACITY / (MAX_ZOOM - MIN_ZOOM));\n    } else if (mapZoom > MAX_ZOOM) {\n      opacity = MIN_OPACITY;\n      bufferedGeometryValue = 'bufferedGeometry_1';\n      // increase stroke when zoom > max\n      strokeWidth = 2;\n    }\n  }\n\n  danger = danger || 0;\n\n  // #fff, #cbdb45, #fff100, #f6921e, #ec1c24, #ec1c24\n  let dangerFill = ['255, 255, 255', '203, 219, 69', '255, 241, 0', '246, 146, 30', '236, 28, 36', '236, 28, 36'];\n\n  let styles = [\n    new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: `rgba(${dangerFill[danger]}, ${opacity})`,\n      }),\n    }),\n  ];\n\n  if (feature && mapZoom < Yetix.VALID_MINIMUM_MAP_ZOOM) {\n    styles.push(\n      new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: `rgba(${dangerFill[danger]}, 0.75)`,\n        }),\n        geometry: feature.get(bufferedGeometryValue),\n      })\n    );\n  }\n\n  // add stroke on top\n  styles.push(\n    new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.85)',\n        width: strokeWidth,\n      }),\n    })\n  );\n\n  return styles;\n};\n\nlet iconSize = 80;\n\nlet bulletinsIcon = (danger) => {\n  danger = danger || 0;\n\n  // #999, #cbdb45, #fff100, #f6921e, #ec1c24, #ec1c24\n  let dangerFill = ['153, 153, 153', '203, 219, 69', '255, 241, 0', '246, 146, 30', '236, 28, 36', '236, 28, 36'];\n\n  let svg = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${iconSize}\" height=\"${iconSize}\" viewBox=\"-50 0 200 100\">\n      <path d=\"M5,50L50,5L95,50\" fill=\"white\" />\n      <path d=\"M5,50L50,95L95,50\" fill=\"rgb(${dangerFill[danger]})\" />\n      <path d=\"m50,0l50,50-50,50-50-50zv5L21,33l19-10L50,26l9-8L80,38l2-1L50,5M5,50L50,95L95,50\" />\n  `;\n\n  if (danger === 0) {\n    svg += `\n      <g stroke-width=\"5\" stroke=\"black\">\n        <line x1=\"40\" x2=\"60\" y1=\"58\" y2=\"78\" />\n        <line x1=\"40\" x2=\"60\" y1=\"78\" y2=\"58\" />\n      </g>\n    `;\n  }\n  if (danger === 1) {\n    svg += `\n      <path d=\"m54 84h-6l-0.1-21.1c-2.3 2.1-4.9 4-8 5v-5.6c1.6-0.5 3.2-2 5.1-3.4 1.9-1.5 3.1-3 3.8-4.9h5z\" />\n    `;\n  }\n  if (danger === 2) {\n    svg += `\n      <path d=\"m60 77v5.1l-20 0.1c0.2-2.1 1-3.9 2.1-5.7q1.6-2.7 6.4-7.2 3.9-3.6 4.8-4.9 1.2-1.8 1.2-3.5 0-2-1.1-3-1-1-2.8-1-1.8 0-2.8 1.1c-0.7 0.7-1.6 1.3-1.7 3h-5.9c0.4-3.1 2-5.5 3.8-6.8q2.7-2.1 6.7-2.1 4.5 0 7 2.4 2.6 2.4 2.6 5.9 0 2.1-0.8 3.9-0.7 1.8-2.3 3.8-1 1.4-3.7 3.9-2.8 2.5-3.5 3.3c-0.5 0.5-0.8 1.3-1.1 1.8 0 0 11.1-0.1 11.1-0.1z\" />\n\n      <path d=\"M86,45a7,7,0,106.5-13.5a7,7,0,00-10.5-8a5.4,5.4,0,00-10.2,3\" />\n      <path d=\"M69,27L86,44a5,5,0,104-12a5,5,0,10-9-5a3,3,0,10-8,0\" fill=\"white\" />\n      <path d=\"M85,32a1,1,0,110,8v-2a1,1,0,100-4\" />\n    `;\n  }\n  if (danger === 3) {\n    svg += `\n      <path d=\"m58 81q-2.9 2.8-7.2 2.8-4.1 0-6.7-2.3c-1.8-1.6-2.1-4.2-2.4-6.7h5c0.2 1.4 0.5 2.4 1.2 3.1q1.2 1.1 2.9 1.1 1.7 0 3-1.3 1.2-1.4 1.2-3.7c0-1.4 0.1-1.6-0.7-2.4-0.8-0.9-1.3-1.8-2.7-1.8-1.4-0.1-2.6 0-3.9 0l0.1-4c3.3 0 3.9-1 4.7-1.7q1.2-1.1 1.2-2.8 0-1.5-0.9-2.4-0.9-0.9-2.3-0.9-1.5 0-2.5 1c-0.7 0.7-1.2 1.5-1.4 2.8h-5c0.4-1.8 0.7-4 1.5-5.1q1.1-1.6 3.1-2.6 2-0.9 4.4-0.9 4.3 0 6.8 2.7 2.1 2.2 2.1 5 0 3.9-4.3 6.3 2.6 0.5 4.1 2.5 1.6 1.9 1.6 4.6 0 3.9-2.9 6.7z\" />\n\n      <path d=\"M54,22L79,50h33a5,5,0,10-4-22.3a11.3,11.3,0,00-20,0q-8-2,-14,6\" />\n      <path d=\"M55,21L82,48h30a5,5,0,10-5-18a9.7,9.7,0,00-18,0q-7-2,-11,3L60,16\" fill=\"white\" />\n      <path d=\"M59,18l25,25-1.5,1.5-25-25M87,38a1,1,0,1110,5l-2-1a1,1,0,10-6-3\" />\n    `;\n  }\n  if (danger === 4) {\n    svg += `\n      <path d=\"m60 78h-3l-0.1 6-4.9-0.1 0.1-5.9h-13.1v-4.9l13.1-19.1h4.8l0.1 19 3-0.1zm-7.9-4.9l-0.1-10.1-7.9 10.1z\" />\n    `;\n  }\n  if (danger === 5) {\n    svg += `\n      <path d=\"m58 80q-2.8 3.8-7.9 3.8-4.1 0-6.6-2.2-2.6-2.1-3.1-5.8h5.6c0.1 1.2 0.7 1.7 1.4 2.4q1.2 1.1 2.7 1.1 1.8 0 3-1.4 1.2-1.4 1.2-4.3 0-2.7-1.2-4.1-1.2-1.3-3.1-1.3c-1.6 0-2.7 0.2-4 1.6h-5l3.1-15.9h14.9v4.9h-10.9l-1 6c1.2-0.6 2.8-1.1 4.1-1.1q3.7 0 6.3 2.7 2.6 2.8 2.6 7.1 0 3.6-2.1 6.5z\" />\n    `;\n  }\n  if (danger === 4 || danger === 5) {\n    svg += `\n      <path d=\"M54,22L79,50h52a12.5,12.5,0,001.5-24.4a7,7,0,00-8.2-7a11.9,11.9,0,00-22.5-2q-11-1,-14,7q-10-2-14,4\" />\n      <path d=\"M52,24L77,48h50a5,5,0,103-21a5,5,0,00-7-6a10.3,10.3,0,00-20-2q-11-2,-14,7q-10-3-14,4L60,16\" fill=\"white\" />\n      <path d=\"M59,18l25,25-1.5,1.5-25-25m-1.5,1.5l22.5,22.5-1.5,1.5-22.5-22.5M87,38a1,1,0,1110,5l-2-1a1,1,0,10-6-3M96,29a1,1,0,1115,14l-1.7-1.7A1,1,0,1097.7,30.7\" />\n    `;\n  }\n\n  svg += '</svg>';\n\n  return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n};\n\nlet bulletinsStyle = (mapZoom, danger) => {\n  // no icon when zoom < MIN_ZOOM\n  if (mapZoom < MIN_ZOOM) {\n    return new ol.style.Style({});\n  }\n  return new ol.style.Style({\n    image: new ol.style.Icon({\n      src: bulletinsIcon(danger),\n      size: [iconSize, iconSize],\n    }),\n  });\n};\n\nlet mountainsLayer = new ol.layer.VectorImage({\n  source: new ol.source.Vector(),\n  style: mountainsStyle(),\n});\nlet bulletinsLayer = new ol.layer.Vector({\n  name: 'bulletinsLayer',\n  source: new ol.source.Vector(),\n});\nlet mountainsLayerGroup = new ol.layer.Group({\n  layers: [mountainsLayer, bulletinsLayer],\n});\nlet bulletinsOverlay = new ol.Overlay({\n  positioning: 'top-center',\n  offset: [0, 0],\n  className: 'bulletins-overlay-container',\n});\nlet bulletinsOverlayPanOptions = {\n  animation: {\n    duration: 250,\n  },\n  margin: 10,\n};\n\nexport default {\n  components: {\n    DangerLevel,\n    DropdownContent,\n  },\n  mixins: [layerMixin],\n  data() {\n    return {\n      overlayData: {\n        country: null,\n        mountainName: null,\n        fullName: null,\n        validUntil: null,\n        danger: {},\n        orientations: [],\n        urls: [],\n      },\n      panIntoView: false,\n    };\n  },\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    showAvalancheBulletins() {\n      return Yetix.showAvalancheBulletins;\n    },\n    bulletinsLoaded() {\n      return Yetix.bulletinsLoaded;\n    },\n    editMode() {\n      return Yetix.editMode;\n    },\n    overlayOrientations() {\n      // return truthy orientations, in uppercase\n      return Object.keys(this.overlayData.orientations)\n        .filter((key) => key !== 'comment')\n        .filter((key) => this.overlayData.orientations[key])\n        .map((val) => val.toUpperCase());\n    },\n    overlayValidUntil() {\n      return this.$dateUtils.toLocalizedString(new Date(this.overlayData.validUntil), 'DD/MM/YYYY HH:mm');\n    },\n    overlayValidUntilExpired() {\n      // return true when validUntil is expired (warn user)\n      return new Date() - new Date(this.overlayData.validUntil) > 0;\n    },\n    overlayDangerIcon() {\n      return bulletinsIcon(this.overlayData.danger.max);\n    },\n    overlayDangerComment() {\n      return this.overlayData.danger.low ? this.overlayData.danger.comment : null;\n    },\n    overlayOrientationsComment() {\n      return this.overlayData.orientations.comment;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Avalanche bulletins'),\n        checked: this.showAvalancheBulletins,\n        action: this.onShowAvalancheBulletins,\n        image: 'avalanche.jpg',\n      };\n    },\n  },\n  watch: {\n    showAvalancheBulletins() {\n      if (Yetix.mountains.all.length === 0) {\n        Yetix.fetchMountains().then(this.onMountainsResult);\n      } else {\n        this.loadAndUpdateAvalancheBulletins();\n      }\n    },\n  },\n  mounted() {\n    // clear layers when mounted (useful when navigating c2c)\n    mountainsLayer.getSource().clear();\n    bulletinsLayer.getSource().clear();\n\n    // data\n    this.activeBulletins = null;\n    this.selectedFeature = null;\n\n    // bulletins overlay\n    bulletinsOverlay.setElement(this.$refs.bulletinsOverlay);\n    this.map.addOverlay(bulletinsOverlay);\n\n    // prevent event on map when overlay is open\n    this.$refs.bulletinsOverlay.addEventListener('pointermove', (evt) => {\n      evt.stopImmediatePropagation();\n      Yetix.$emit('map-pointermove', evt);\n    });\n\n    this.map.addLayer(mountainsLayerGroup);\n    // layers are not visible on load\n    mountainsLayerGroup.setVisible(this.showAvalancheBulletins);\n    bulletinsLayer.setVisible(this.showAvalancheBulletins);\n\n    // only on first mount, if mountains already loaded\n    if (this.showAvalancheBulletins && Yetix.mountains.all.length === 0) {\n      Yetix.fetchMountains().then(this.onMountainsResult);\n    }\n\n    Yetix.$on('map-moveend', this.onMapMoveEnd);\n\n    this.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    getLayer() {\n      return bulletinsLayer;\n    },\n    onMountainsResult(data) {\n      let mountainsFeatures = this.getFeaturesFromData(data);\n\n      // add to mountains layer\n      mountainsLayer.getSource().addFeatures(mountainsFeatures);\n\n      // build inner strokes for each mountains\n      let format = new ol.format.GeoJSON({ featureProjection: 'EPSG:3857' });\n      let distances = [2, 0.5];\n      mountainsFeatures.forEach((mountain) => {\n        let turfPolygon = format.writeFeatureObject(mountain);\n\n        distances.forEach((distance, i) => {\n          let innerBuffer = turfBuffer(turfPolygon, -distance, { steps: 1 });\n          let innerDiff;\n          if (innerBuffer) {\n            innerDiff = turfDifference(turfFeatureCollection([turfPolygon, innerBuffer]));\n          } else {\n            innerDiff = turfPolygon;\n          }\n          let bufferedGeometry = format.readGeometry(innerDiff.geometry);\n          mountain.set(`bufferedGeometry_${i}`, bufferedGeometry);\n        });\n      });\n\n      let mountains = this.getPropertiesFromFeatures(mountainsFeatures);\n      mountains = this.sortMountainsByMassif(mountains);\n\n      Yetix.setAllMountains(mountains);\n\n      this.setVisibleMountains();\n\n      if (this.showAvalancheBulletins) {\n        this.loadAndUpdateAvalancheBulletins();\n      }\n    },\n    sortMountainsByMassif(mountains) {\n      // first, order mountains by massifs\n      let sortedMountains = {};\n      for (let i = 0; i < mountains.length; i++) {\n        if (!sortedMountains[mountains[i].mountain]) {\n          sortedMountains[mountains[i].mountain] = [];\n        }\n        sortedMountains[mountains[i].mountain].push(mountains[i]);\n      }\n\n      // then sort by massif\n      mountains = Object.keys(sortedMountains)\n        .sort()\n        .reduce((obj, key) => {\n          obj[key] = sortedMountains[key];\n          return obj;\n        }, {});\n\n      // then sort mountains inside each massif\n      let key = 'name';\n      for (let i in mountains) {\n        mountains[i].sort((a, b) => {\n          if (a[key] < b[key]) return -1;\n          if (a[key] > b[key]) return 1;\n          return 0;\n        });\n      }\n\n      return mountains;\n    },\n    setVisibleMountains() {\n      let mapExtent = this.getExtent('EPSG:3857');\n      // clone this.mountains first, with no reference\n      let visibleMountains = Object.assign({}, Yetix.mountains.all);\n\n      // then filter if polygon isnt in view\n      for (let massif in visibleMountains) {\n        visibleMountains[massif] = visibleMountains[massif].filter((mountain) => {\n          let polygon = mountain.geometry;\n          return polygon.intersectsExtent(mapExtent);\n        });\n        // unset massif if empty\n        if (visibleMountains[massif].length === 0) {\n          delete visibleMountains[massif];\n        }\n      }\n      // set mountains in visible\n      Yetix.setVisibleMountains(visibleMountains);\n    },\n    updateMountainsStyle() {\n      mountainsLayer\n        .getSource()\n        .getFeatures()\n        .forEach((mountain) => {\n          let bulletin = mountain.get('bulletinsFeature');\n          let danger = bulletin ? bulletin.get('overlayData').danger.max : 0;\n          mountain.setStyle(mountainsStyle(mountain, this.mapZoom, danger));\n        });\n      bulletinsLayer\n        .getSource()\n        .getFeatures()\n        .forEach((bulletin) => {\n          let danger = bulletin.get('overlayData').danger.max;\n          bulletin.setStyle(bulletinsStyle(this.mapZoom, danger));\n          bulletin.set('normalStyle', bulletinsStyle(this.mapZoom, danger));\n        });\n    },\n    onMapMoveEnd() {\n      // set visible mountains\n      this.setVisibleMountains();\n\n      if (this.showAvalancheBulletins) {\n        this.updateMountainsStyle();\n        this.updateBulletinsGeometry();\n      }\n    },\n    onMapClick(evt, feature) {\n      // do not allow clicks on smaller zoom\n      if (this.mapZoom < MIN_ZOOM) {\n        this.closeOverlay(true);\n        return false;\n      }\n      this.setBulletinsOverlay(evt, feature);\n    },\n    onMapLooseClick() {\n      this.closeOverlay(true);\n    },\n    onMapPointerMove(evt, feature) {\n      this.selectedFeature = feature;\n\n      let style = feature.get('normalStyle');\n      let hoveredStyle = style.clone();\n      if (hoveredStyle.getImage()) {\n        hoveredStyle.getImage().setScale(1.2);\n        feature.setStyle(hoveredStyle);\n      }\n    },\n    onMapLoosePointerMove() {\n      if (this.selectedFeature !== null) {\n        this.selectedFeature.setStyle(this.selectedFeature.get('normalStyle'));\n        this.selectedFeature = null;\n      }\n    },\n    onShowAvalancheBulletins() {\n      Yetix.setShowAvalancheBulletins(!this.showAvalancheBulletins);\n    },\n    loadAndUpdateAvalancheBulletins() {\n      // first time, bulletins are not loaded yet\n      if (!this.bulletinsLoaded) {\n        Yetix.setBulletinsLoaded(true);\n        // so load them\n        Yetix.fetchBulletins().then(this.onBulletinsResult);\n      }\n      // show mountains layer group if needed\n      mountainsLayerGroup.setVisible(this.showAvalancheBulletins);\n      bulletinsLayer.setVisible(this.showAvalancheBulletins);\n      // update styles\n      this.updateMountainsStyle();\n      this.updateBulletinsGeometry();\n    },\n    onBulletinsResult(data) {\n      let bulletinsFeatures = data.data;\n      let mountainsFeatures = mountainsLayer.getSource().getFeatures();\n\n      // match up bulletin data and zone\n      bulletinsFeatures.zones.forEach((zone) => {\n        mountainsFeatures.find((mountain) => {\n          // if name and country match, create bulletin\n          if (mountain.get('name') === zone.zone && mountain.get('country') === zone.country) {\n            // check validity first\n            // if no longer valid (expires 48h), set danger to null\n            if ((new Date() - new Date(zone.validUntil)) / 1000 > 60 * 60 * 24 * 2) {\n              zone.danger = {\n                low: null,\n                max: null,\n              };\n            }\n            let mountainGeometry = mountain.getGeometry();\n            let mountainGeometryType = mountainGeometry.getType();\n\n            let bulletinsGeometry = null;\n\n            if (mountainGeometryType === 'MultiPolygon') {\n              bulletinsGeometry = mountainGeometry.getInteriorPoints();\n            } else {\n              throw new Error('Mountain geometry have to be MultiPolygon.');\n            }\n\n            // create feature (bulletin icons)\n            // geometry have to be MultiPoint\n            let bulletinsFeature = new ol.Feature({\n              geometry: bulletinsGeometry,\n              initialGeometry: bulletinsGeometry,\n              overlayData: {\n                country: mountain.get('country'),\n                mountainName: mountain.get('name'),\n                fullName: mountain.get('fullname'),\n                validUntil: zone.validUntil,\n                danger: zone.danger,\n                orientations: zone.orientations,\n                urls: mountain.get('urls'),\n              },\n            });\n            bulletinsLayer.getSource().addFeature(bulletinsFeature);\n\n            // set styles\n            bulletinsFeature.setStyle(bulletinsStyle(this.mapZoom, zone.danger.max));\n            bulletinsFeature.set('normalStyle', bulletinsStyle(this.mapZoom, zone.danger.max));\n            mountain.setStyle(mountainsStyle(mountain, this.mapZoom, zone.danger.max));\n\n            mountain.setProperties({ bulletinsFeature });\n\n            // break\n            return true;\n          }\n        });\n      });\n      // update in case we're already zoomed in\n      this.updateBulletinsGeometry();\n    },\n    updateBulletinsGeometry() {\n      // return, if bulletins are not loaded\n      if (!this.bulletinsLoaded) {\n        return;\n      }\n\n      // no update if overlay is animating into view when opens\n      // = prevent overlay from moving\n      if (this.panIntoView) {\n        this.panIntoView = false;\n        // update bulletin overlay though (hide/show if needed)\n        this.updateBulletinsOverlay();\n        return;\n      }\n\n      // if zoom > 10\n      //   we will intersect every polygon with the map extent, and update geometry of avalanche bulletin icons (icons will always be visible, even when zoomed)\n      // else\n      //   we set geometry of all points to be the initial geometry (stored during the request)\n      if (this.mapZoom > 10) {\n        let mapExtent = this.getExtent('EPSG:3857');\n        let mapExtentFeature = new ol.Feature(ol.geom.polygonFromExtent(mapExtent));\n\n        let mountainsFeatures = mountainsLayer.getSource().getFeatures();\n\n        mountainsFeatures.forEach((feature) => {\n          let featureCollection = {\n            type: 'FeatureCollection',\n            features: [\n              new ol.format.GeoJSON().writeFeatureObject(feature),\n              new ol.format.GeoJSON().writeFeatureObject(mapExtentFeature),\n            ],\n          };\n          let intersect = turfIntersect(featureCollection);\n          if (intersect) {\n            let intersectFeature = new ol.format.GeoJSON().readFeature(intersect);\n\n            let intersectGeometry = intersectFeature.getGeometry();\n            let intersectType = intersectGeometry.getType();\n\n            // if polygon, should be MultiPolygon\n            if (intersectType === 'Polygon') {\n              intersectFeature = new ol.Feature({\n                geometry: new ol.geom.MultiPolygon([intersectGeometry]),\n              });\n            }\n\n            let newBulletinsFeature = intersectFeature.getGeometry().getInteriorPoints();\n\n            let bulletinsFeature = feature.get('bulletinsFeature');\n            if (bulletinsFeature) {\n              bulletinsFeature.setGeometry(newBulletinsFeature);\n            }\n          }\n        });\n      } else {\n        let bulletinsFeatures = bulletinsLayer.getSource().getFeatures();\n        bulletinsFeatures.forEach((feature) => {\n          feature.setGeometry(feature.get('initialGeometry'));\n        });\n      }\n\n      // update bulletin overlay\n      this.updateBulletinsOverlay();\n    },\n    setBulletinsOverlay(evt, clickedBulletinFeature) {\n      // set mountain name\n      this.overlayData = clickedBulletinFeature.get('overlayData');\n      // find the closest point (because it's a MultiPoint)\n      let closestPointCoordinate = clickedBulletinFeature.getGeometry().getClosestPoint(evt.coordinate);\n      // set overlay position\n      this.openOverlay(closestPointCoordinate, true);\n      // store this point\n      this.activeBulletins = {\n        feature: clickedBulletinFeature,\n      };\n      // if there are more than one point in multipoint\n      // find the closest one and store index too\n      let points = clickedBulletinFeature.getGeometry().getPoints();\n      if (points.length > 1) {\n        points.forEach((point, index) => {\n          if (point.getCoordinates().every((coord, i) => coord === closestPointCoordinate[i])) {\n            this.activeBulletins.index = index;\n          }\n        });\n      }\n    },\n    updateBulletinsOverlay() {\n      if (this.activeBulletins && this.showAvalancheBulletins) {\n        let activeFeature = this.activeBulletins.feature;\n        let activeIndex = this.activeBulletins.index || 0;\n        // try to get point\n        let activePoint = activeFeature.getGeometry().getPoint(activeIndex);\n        if (!activePoint) {\n          activePoint = activeFeature.getGeometry().getPoint(0);\n        }\n        this.openOverlay(activePoint.getCoordinates());\n      } else {\n        this.closeOverlay();\n      }\n    },\n    openOverlay(coordinates, panIntoView = false) {\n      this.$nextTick(() => {\n        bulletinsOverlay.setPosition(coordinates);\n\n        if (panIntoView) {\n          this.panIntoView = true;\n          bulletinsOverlay.panIntoView(bulletinsOverlayPanOptions);\n        }\n      });\n    },\n    closeOverlay(force = false) {\n      bulletinsOverlay.setPosition(undefined);\n\n      if (force) {\n        this.activeBulletins = null;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.bulletins-overlay {\n  width: 300px;\n  max-width: 100%;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n\n  p,\n  dl {\n    user-select: text;\n  }\n}\n.bulletins-header {\n  background: $primary;\n  padding-top: 2rem;\n\n  .title {\n    color: white;\n  }\n}\n.bulletins-footer {\n  background: $grey-lighter;\n}\n.bulletins-overlay-danger-icon {\n  position: absolute;\n  top: -40px; /* iconSize / 2 */\n  left: 0;\n  right: 0;\n  margin: auto;\n  z-index: 2;\n  pointer-events: none;\n  transform: scale(1.2);\n}\n.country-name {\n  opacity: 0.75;\n}\ndt,\ndd {\n  display: inline;\n}\ndt {\n  font-weight: bold;\n}\n.button-close {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n}\n</style>\n\n<style lang=\"scss\">\n/* Not scoped styles */\n.yeti-app {\n  .bulletins-overlay-container {\n    max-width: 90%;\n  }\n  .bulletins-overlay {\n    .input-orientation {\n      width: 70px;\n      height: 70px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AvalancheBulletinsLayer.vue?vue&type=template&id=099ebf5e&scoped=true\"\nimport script from \"./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"\nexport * from \"./AvalancheBulletinsLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./AvalancheBulletinsLayer.vue?vue&type=style&index=0&id=099ebf5e&prod&scoped=true&lang=scss\"\nimport style1 from \"./AvalancheBulletinsLayer.vue?vue&type=style&index=1&id=099ebf5e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"099ebf5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},on:{\"add-features\":_vm.onFeatures},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('div',{staticClass:\"data-avalanche-content\"},[_c('p',{staticClass:\"is-size-7 px-1 py-1\"},[_c('span',[_c('strong',[_vm._v(_vm._s(_vm.overlay.title)+\" (\"+_vm._s(_vm.differenceDays(_vm.overlay.date))+\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"days\")]),_vm._v(\")\")])])]),_vm._v(\" \"),_c('p',{staticClass:\"is-size-7 is-italic\"},[_c('a',{attrs:{\"href\":_vm.overlay.url,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.overlay.localisation)+\"\\n          \"),_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}})],1)])]),_vm._v(\" \"),_c('p',{staticClass:\"footer is-size-7 has-text-left px-3 py-1\"},[_c('a',{attrs:{\"href\":\"https://data-avalanche.org\",\"target\":\"_blank\"}},[_c('strong',[_vm._v(\"data-avalanche.org\")])])])]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Data-Avalanche\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"overlay\",staticClass:\"overlay\"},[_c('p',{staticClass:\"overlay-header\",style:({ background: _vm.color })},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"overlay-content\"},[_vm._t(\"overlay\")],2),_vm._v(\" \"),_c('img',{staticClass:\"overlay-icon\",attrs:{\"src\":_vm.iconCardSrc,\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"overlay\" class=\"overlay\">\n    <p class=\"overlay-header\" :style=\"{ background: color }\">\n      <slot></slot>\n    </p>\n    <div class=\"overlay-content\">\n      <slot name=\"overlay\"></slot>\n    </div>\n    <img :src=\"iconCardSrc\" alt=\"\" class=\"overlay-icon\" />\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  mixins: [layerMixin],\n  props: {\n    name: {\n      type: String,\n      required: true,\n    },\n    color: {\n      type: String,\n      required: true,\n    },\n    selector: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    letter() {\n      return this.name.charAt(0).toUpperCase();\n    },\n    capitalizedName() {\n      return this.letter + this.name.slice(1);\n    },\n    dataLayer() {\n      return Yetix[this.name];\n    },\n    showLayer() {\n      return Yetix['show' + this.capitalizedName];\n    },\n    fetch() {\n      return Yetix['fetch' + this.capitalizedName];\n    },\n    setState() {\n      return Yetix['set' + this.capitalizedName];\n    },\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    layerSelector() {\n      return Object.assign(this.selector, {\n        checked: this.showLayer,\n        action: this.onShowLayer,\n      });\n    },\n  },\n  watch: {\n    showLayer() {\n      // on first load\n      if (this.dataLayer.length === 0) {\n        // set data\n        this.fetch().then(this.onResult);\n      }\n      // then, switch visibility\n      this.updateVisibility();\n    },\n  },\n  created() {\n    this.createIcon = (color = 'black') => {\n      let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" viewBox=\"-10 -10 20 20\">\n          <circle r=\"9\" fill=\"${color}\" stroke=\"white\" stroke-width=\"1.5\" />\n          <text y=\"4\" text-anchor=\"middle\" font-family=\"sans-serif\" font-size=\"10px\" font-weight=\"bold\" fill=\"white\">${this.letter}</text>\n        </svg>`;\n      return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n    };\n\n    // style\n    this.iconSrc = this.$parent.iconSrc || this.createIcon(this.color);\n    this.style = new ol.style.Style({\n      image: new ol.style.Icon({\n        src: this.iconSrc,\n        size: [26, 26],\n      }),\n    });\n\n    // hovered style\n    this.hoveredStyle = this.style.clone();\n    this.hoveredStyle.setZIndex(1);\n    this.hoveredStyle.getImage().setScale(1.3);\n\n    // \"selected\" style (only for card)\n    this.iconCardSrc = this.$parent.iconCardSrc || this.createIcon();\n    this.selectedStyle = new ol.style.Style({\n      image: new ol.style.Icon({\n        src: this.iconCardSrc,\n        size: [26, 26],\n      }),\n    });\n\n    this.overlay = new ol.Overlay({\n      positioning: 'top-left',\n      offset: [-4, -6],\n      className: 'overlay-container',\n    });\n  },\n  mounted() {\n    this.layer = new ol.layer.Vector({\n      name: this.capitalizedName + 'Layer',\n      source: new ol.source.Vector(),\n      style: this.style,\n    });\n    this.map.addLayer(this.layer);\n\n    this.overlay.setElement(this.$refs.overlay);\n    this.map.addOverlay(this.overlay);\n\n    // prevent event on map when overlay is open\n    this.$refs.overlay.addEventListener('pointermove', (evt) => {\n      evt.stopImmediatePropagation();\n      Yetix.$emit('map-pointermove', evt);\n    });\n\n    this.activeFeature = false;\n\n    // selected feature for hover\n    this.selectedFeature = null;\n\n    // showLayer checked?\n    this.layer.setVisible(this.showLayer);\n\n    // get data?\n    if (this.showLayer && this.dataLayer.length === 0) {\n      this.fetch().then(this.onResult);\n    }\n\n    // emit event on parent (this component is not instanciated)\n    this.$parent.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    onResult(data) {\n      let features = this.getFeaturesFromData(data);\n      let props = this.getPropertiesFromFeatures(features);\n\n      // set data in state\n      this.setState(props);\n\n      // add features\n      this.layer.getSource().addFeatures(features);\n\n      // store their style\n      this.layer.getSource().forEachFeature((feature) => {\n        feature.set('normalStyle', this.style);\n        feature.set('hoveredStyle', this.hoveredStyle);\n        feature.set('selectedStyle', this.selectedStyle);\n      });\n\n      // emit features for parent (modify style for each feature for example)\n      this.$emit('add-features', features);\n    },\n    onShowLayer() {\n      Yetix['setShow' + this.capitalizedName](!this.showLayer);\n    },\n    updateVisibility() {\n      // set layer visibility\n      this.layer.setVisible(this.showLayer);\n      // if a feature is active (selected) and layer is visible\n      // open overlay, else close\n      if (this.activeFeature && this.showLayer) {\n        this.openOverlay(this.activeFeature);\n      } else {\n        this.closeOverlay();\n      }\n    },\n    onMapClick(evt, feature) {\n      this.$parent.setOverlay(feature);\n      this.activeFeature = feature;\n      this.openOverlay(feature);\n\n      // set icon for card on click\n      this.iconCardSrc = feature.get('selectedStyle').getImage().getSrc();\n    },\n    onMapLooseClick() {\n      this.closeOverlay(true);\n    },\n    onMapPointerMove(evt, feature) {\n      if (this.selectedFeature && this.selectedFeature !== feature) {\n        this.selectedFeature.setStyle(this.selectedFeature.get('normalStyle'));\n      }\n      this.selectedFeature = feature;\n      // then, apply hovered style on specific feature\n      feature.setStyle(feature.get('hoveredStyle'));\n    },\n    onMapLoosePointerMove() {\n      if (this.selectedFeature !== null) {\n        this.selectedFeature.setStyle(this.selectedFeature.get('normalStyle'));\n        this.selectedFeature = null;\n      }\n    },\n    openOverlay(feature) {\n      let coordinates = feature.getGeometry().getCoordinates();\n      this.overlay.setPosition(coordinates);\n    },\n    closeOverlay(force = false) {\n      this.overlay.setPosition(undefined);\n\n      if (force) {\n        this.$parent.unsetOverlay();\n        this.activeFeature = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.overlay {\n  min-width: 150px;\n  max-width: 100%;\n  background: $white;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n}\n.overlay-header {\n  font-size: 0.9em;\n  padding: 5px 0;\n  text-align: center;\n  color: $white;\n}\n.overlay-content {\n  text-align: center;\n  padding: 5px;\n  vertical-align: 1px;\n}\n.overlay-content a:hover,\n.overlay-content a:focus {\n  text-decoration: underline;\n}\n.overlay-link-icon {\n  margin-left: 5px;\n}\n.overlay-icon {\n  position: absolute;\n  transform: scale(1.3);\n  top: -7px;\n  left: -9px; /* iconSize / 2 */\n  margin: auto;\n  z-index: 2;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./IconLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./IconLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconLayer.vue?vue&type=template&id=472ded92&scoped=true\"\nimport script from \"./IconLayer.vue?vue&type=script&lang=js\"\nexport * from \"./IconLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./IconLayer.vue?vue&type=style&index=0&id=472ded92&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"472ded92\",\n  null\n  \n)\n\nexport default component.exports","export default {\n  methods: {\n    getLayer() {\n      return this.$children[0].getLayer();\n    },\n    onMapClick(evt, feature) {\n      return this.$children[0].onMapClick(evt, feature);\n    },\n    onMapLooseClick() {\n      return this.$children[0].onMapLooseClick();\n    },\n    onMapPointerMove(evt, feature) {\n      return this.$children[0].onMapPointerMove(evt, feature);\n    },\n    onMapLoosePointerMove() {\n      return this.$children[0].onMapLoosePointerMove();\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('input-checkbox',{staticClass:\"mt-2\",model:{value:(_vm.dataAvalancheAll),callback:function ($$v) {_vm.dataAvalancheAll=$$v},expression:\"dataAvalancheAll\"}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"View all avalanche history\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <input-checkbox v-model=\"dataAvalancheAll\" class=\"mt-2\">\n      <span v-translate>View all avalanche history</span>\n    </input-checkbox>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    dataAvalancheAll: {\n      get() {\n        return Yetix.dataAvalancheAll;\n      },\n      set(dataAvalancheAll) {\n        Yetix.setDataAvalancheAll(dataAvalancheAll);\n      },\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayerContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayerContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DataAvalancheLayerContent.vue?vue&type=template&id=ce9eb0e4\"\nimport script from \"./DataAvalancheLayerContent.vue?vue&type=script&lang=js\"\nexport * from \"./DataAvalancheLayerContent.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('fa-icon',{attrs:{\"icon\":\"gear\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.layer.title))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <fa-icon icon=\"gear\" />\n    <span>{{ layer.title }}</span>\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    layer: {\n      type: Object,\n      required: true,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayerContentTitle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayerContentTitle.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DataAvalancheLayerContentTitle.vue?vue&type=template&id=ea5289cc\"\nimport script from \"./DataAvalancheLayerContentTitle.vue?vue&type=script&lang=js\"\nexport * from \"./DataAvalancheLayerContentTitle.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\" @add-features=\"onFeatures\">\n    <span v-translate>Data-Avalanche</span>\n    <template #overlay>\n      <div class=\"data-avalanche-content\">\n        <p class=\"is-size-7 px-1 py-1\">\n          <span>\n            <strong>{{ overlay.title }} ({{ differenceDays(overlay.date) }} <span v-translate>days</span>)</strong>\n          </span>\n        </p>\n        <p class=\"is-size-7 is-italic\">\n          <a :href=\"overlay.url\" target=\"_blank\">\n            {{ overlay.localisation }}\n            <fa-icon icon=\"external-link-alt\" />\n          </a>\n        </p>\n      </div>\n      <p class=\"footer is-size-7 has-text-left px-3 py-1\">\n        <a href=\"https://data-avalanche.org\" target=\"_blank\">\n          <strong>data-avalanche.org</strong>\n        </a>\n      </p>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\nimport getIconLayerMixin from './getIconLayer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport DataAvalancheLayerContent from '@/components/yeti/map-layers/DataAvalancheLayerContent';\nimport DataAvalancheLayerContentTitle from '@/components/yeti/map-layers/DataAvalancheLayerContentTitle';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  mixins: [getIconLayerMixin],\n  data() {\n    return {\n      name: 'dataAvalanche',\n      color: 'hsl(51, 100%, 45%)',\n      colorWeeks: 'hsl(31, 100%, 45%)',\n      colorSeason: 'hsl(51, 100%, 45%)',\n      colorExpired: 'lightgray',\n      overlay: {\n        title: null,\n        url: null,\n        date: null,\n        localisation: null,\n      },\n      daysValidWeeks: 5,\n      daysValidSeason: 190,\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('Data-Avalanche'),\n        image: 'data-avalanche.png',\n        small: true,\n        contentComponent: DataAvalancheLayerContent,\n        contentTitleComponent: DataAvalancheLayerContentTitle,\n      };\n    },\n    dataAvalancheAll() {\n      return Yetix.dataAvalancheAll;\n    },\n  },\n  watch: {\n    dataAvalancheAll() {\n      this.updateStyle();\n    },\n  },\n  created() {\n    this.createIcon = (color = 'gray') => {\n      let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" viewBox=\"0 0 26 26\">\n        <path d=\"M10.402 4.742a3 3 0 0 1 5.196 0l7.804 13.516a3 3 0 0 1-2.598 4.5H5.196a3 3 0 0 1-2.598-4.5z\" stroke=\"black\" stroke-width=\"1.25\" fill=\"${color}\" />\n        <path d=\"m11,7.5h4l-1,9l-2,0\"/>\n        <circle cx=\"13\" cy=\"19\" r=\"1.5\"></circle>\n        </svg>`;\n      return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n    };\n    this.iconSrc = this.createIcon(this.color);\n    this.iconCardSrc = this.createIcon(this.color);\n  },\n  mounted() {\n    this.features = [];\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.url = feature.get('link');\n\n      let fullTitle = feature.get('title');\n      let [title, text] = fullTitle.split(':').map((part) => part.trim());\n      this.overlay.title = title;\n      this.overlay.localisation = text;\n\n      this.overlay.date = feature.get('date');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.url = null;\n      this.overlay.date = null;\n    },\n    dateValid(date, days) {\n      return (new Date() - new Date(date)) / 1000 < 60 * 60 * 24 * days;\n    },\n    differenceDays(date) {\n      return Math.round((new Date() - new Date(date)) / 1000 / 60 / 60 / 24);\n    },\n    onFeatures(features) {\n      this.features = features;\n      this.updateStyle();\n    },\n    updateStyle() {\n      // set style\n      this.features.forEach((feature) => {\n        let isDateValidWeeks = this.dateValid(feature.get('date'), this.daysValidWeeks);\n        let isDateValidSeason = this.dateValid(feature.get('date'), this.daysValidSeason);\n        let color = isDateValidWeeks ? this.colorWeeks : isDateValidSeason ? this.colorSeason : this.colorExpired;\n\n        let style = new ol.style.Style({\n          image: new ol.style.Icon({\n            src: this.createIcon(color),\n            // based on dataAvalancheAll, size is 0,0, so icons are not visible\n            size: isDateValidSeason || this.dataAvalancheAll ? [26, 26] : [0, 0],\n          }),\n          zIndex: isDateValidSeason ? 1 : 0,\n        });\n\n        let hoveredStyle = style.clone();\n        hoveredStyle.setZIndex(2);\n        hoveredStyle.getImage().setScale(1.3);\n\n        let selectedStyle = style.clone();\n\n        feature.setStyle(style);\n        feature.set('normalStyle', style);\n        feature.set('hoveredStyle', hoveredStyle);\n        feature.set('selectedStyle', selectedStyle);\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.footer {\n  background: $grey-lighter;\n  margin: 10px -5px -5px;\n}\n.data-avalanche-content {\n  width: 150px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DataAvalancheLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DataAvalancheLayer.vue?vue&type=template&id=017743f7&scoped=true\"\nimport script from \"./DataAvalancheLayer.vue?vue&type=script&lang=js\"\nexport * from \"./DataAvalancheLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./DataAvalancheLayer.vue?vue&type=style&index=0&id=017743f7&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"017743f7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('p',{staticClass:\"overlay-title\"},[_c('a',{attrs:{\"href\":_vm.overlay.url,\"target\":\"_blank\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.overlay.title)+\"\\n        \"),_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"overlay-icons\"},[_c('a',{attrs:{\"href\":_vm.overlay.urlHisto,\"target\":\"_blank\"}},[_c('div',{staticClass:\"overlay-icons-imgs\"},[_c('img',{attrs:{\"src\":_vm.iconHisto,\"alt\":\"\"}}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"History\")])])]),_vm._v(\" \"),_c('p',{staticClass:\"footer is-size-7 has-text-left py-1 px-3\"},[_c('a',{attrs:{\"href\":\"https://balisemeteo.com\",\"target\":\"_blank\"}},[_vm._v(\"balisemeteo.com\")])])]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"FFVL\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\">\n    <span v-translate>FFVL</span>\n    <template #overlay>\n      <p class=\"overlay-title\">\n        <a :href=\"overlay.url\" target=\"_blank\">\n          {{ overlay.title }}\n          <fa-icon icon=\"external-link-alt\" />\n        </a>\n      </p>\n      <div class=\"overlay-icons\">\n        <a :href=\"overlay.urlHisto\" target=\"_blank\">\n          <div class=\"overlay-icons-imgs\">\n            <img :src=\"iconHisto\" alt=\"\" />\n            <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n          </div>\n          <p v-translate translate-context=\"yeti\">History</p>\n        </a>\n      </div>\n      <p class=\"footer is-size-7 has-text-left py-1 px-3\">\n        <a href=\"https://balisemeteo.com\" target=\"_blank\">balisemeteo.com</a>\n      </p>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\nimport getIconLayerMixin from './getIconLayer';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  mixins: [getIconLayerMixin],\n  data() {\n    return {\n      name: 'ffvl',\n      color: 'red',\n      colorExpired: 'lightgray',\n      overlay: {\n        title: null,\n        url: null,\n      },\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('FF Vol Libre'),\n        image: 'ffvl.png',\n        small: true,\n      };\n    },\n  },\n  created() {\n    this.createIcon = () => {\n      let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" viewBox=\"0 0 26 26\">\n        <defs>\n          <linearGradient id=\"g1\">\n            <stop offset=\"0\" stop-color=\"#f00\"/>\n            <stop offset=\".25\" stop-color=\"#f00\"/>\n            <stop offset=\".25\" stop-color=\"#fff\"/>\n            <stop offset=\".38\" stop-color=\"#fff\"/>\n            <stop offset=\".38\" stop-color=\"#f00\"/>\n            <stop offset=\".62\" stop-color=\"#f00\"/>\n            <stop offset=\".62\" stop-color=\"#fff\"/>\n            <stop offset=\".74\" stop-color=\"#fff\"/>\n            <stop offset=\".74\" stop-color=\"#f00\"/>\n            <stop offset=\"1\" stop-color=\"#f00\"/>\n          </linearGradient>\n        </defs>\n        <path d=\"m2 8q0-0.8 0.4-1.5 0.4-0.7 1.1-1.1 0.7-0.4 1.5-0.4 0.8 0 1.5 0.4l16.5 3.8q0.7 0.4 1.1 1.1 0.4 0.7 0.4 1.5c0 0.5-0.1 3.1-0.4 3.5q-0.4 0.7-1.1 1.1l-16.5 3.8q-0.7 0.4-1.5 0.4-0.8 0-1.5-0.4-0.7-0.4-1.1-1.1-0.4-0.7-0.4-1.5z\" stroke=\"black\" stroke-width=\"1.25\" fill=\"url(#g1)\"/>\n        </svg>`;\n      return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n    };\n    this.iconSrc = this.createIcon(this.color);\n    this.iconCardSrc = this.createIcon(this.color);\n\n    let svgHisto = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 37\" width=\"50\" height=\"37\">\n      <path d=\"m2 2h2v33h-2z\" fill-opacity=\"0.5\" />\n      <path d=\"m6 33l3-2 3-6 5 2 3 5 3-3 6-3 6 2 3 3 4 1h6\" fill=\"none\" stroke=\"hsl(153deg, 68%, 60%)\" stroke-width=\"2\" />\n      <path d=\"m6 25l3-3 2-8 2-2 2 7 4 3 2-5 6-2 1 6 3-1 2-4 7 8 8 1\" fill=\"none\" stroke=\"hsl(210deg, 85%, 65%)\" stroke-width=\"2\" />\n      <path d=\"m7 16l2-9 2-4 7 3 3 4h6l5-2 7 6 9 3\" fill=\"none\" stroke=\"hsl(330deg, 82%, 70%)\" stroke-width=\"2\" />\n    </svg>`;\n    this.iconHisto = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgHisto);\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.title = feature.get('name');\n      this.overlay.url = feature.get('url');\n      this.overlay.urlHisto = feature.get('url_histo');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.url = null;\n      this.overlay.urlHisto = null;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.footer {\n  background: $grey-lighter;\n  margin: 10px -5px -5px;\n}\n.overlay-icons {\n  display: flex;\n  justify-content: center;\n  margin: 10px;\n}\n.overlay-icons a {\n  margin: 0 5px;\n  font-size: 0.9em;\n  line-height: 1;\n}\n.overlay-icons img {\n  border: solid 1px rgba($black, 0.5);\n}\n.overlay-icons-imgs {\n  position: relative;\n}\n.overlay-link-icon {\n  position: absolute;\n  top: 1px;\n  right: 1px;\n  background: white;\n  padding: 2px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FfvlLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FfvlLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FfvlLayer.vue?vue&type=template&id=0b2ead7f&scoped=true\"\nimport script from \"./FfvlLayer.vue?vue&type=script&lang=js\"\nexport * from \"./FfvlLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./FfvlLayer.vue?vue&type=style&index=0&id=0b2ead7f&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b2ead7f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('a',{attrs:{\"href\":_vm.overlay.url,\"target\":\"_blank\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.overlay.title)+\"\\n      \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1)]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"FlowCapt sensor\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\">\n    <span v-translate>FlowCapt sensor</span>\n    <template #overlay>\n      <a :href=\"overlay.url\" target=\"_blank\">\n        {{ overlay.title }}\n        <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n      </a>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\nimport getIconLayerMixin from './getIconLayer';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  mixins: [getIconLayerMixin],\n  data() {\n    return {\n      name: 'flowcapt',\n      color: 'hsl(112, 55%, 42%)',\n      overlay: {\n        title: null,\n        url: null,\n      },\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('FlowCapt sensors'),\n        image: 'flowcapt.png',\n        small: true,\n      };\n    },\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.title = feature.get('name') + ' - ' + feature.get('city');\n      this.overlay.url = feature.get('url');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.url = null;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FlowcaptLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./FlowcaptLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FlowcaptLayer.vue?vue&type=template&id=0205498f\"\nimport script from \"./FlowcaptLayer.vue?vue&type=script&lang=js\"\nexport * from \"./FlowcaptLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\n/* create a faketile source, that draws transparent images, so that click are working only on layer */\nclass FakeTile extends ol.source.ImageTile {\n  constructor() {\n    super();\n\n    const setReady = () => {\n      this.setLoader((z) => {\n        const [width, height] = this.getTileSize(z);\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        const context = canvas.getContext('2d');\n\n        context.fillStyle = 'rgba(0, 0, 0, 0.01)';\n        context.fillRect(0, 0, width, height);\n\n        return Promise.resolve(context.canvas);\n      });\n      this.setState('ready');\n    };\n\n    setReady();\n  }\n}\n\nexport default {\n  mixins: [layerMixin],\n  props: {\n    visible: {\n      type: Boolean,\n      default: false,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      lon: 0,\n      lat: 0,\n    };\n  },\n  watch: {\n    visible() {\n      this.updateVisibility();\n    },\n  },\n  mounted() {\n    this.layer = new ol.layer.Tile({\n      name: 'meteoLayer',\n      source: new FakeTile(),\n    });\n    this.map.addLayer(this.layer);\n\n    this.markerLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 8,\n            fill: new ol.style.Fill({\n              color: 'orangered',\n            }),\n            stroke: new ol.style.Stroke({\n              color: 'rgba(0, 0, 0, 0.75)',\n            }),\n          }),\n        }),\n        new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 2,\n            fill: new ol.style.Fill({\n              color: 'white',\n            }),\n            stroke: new ol.style.Stroke({\n              // transparent stroke so that the two circles are correctly aligned\n              color: '#0000',\n            }),\n          }),\n        }),\n      ],\n    });\n    this.map.addLayer(this.markerLayer);\n\n    this.updateVisibility();\n  },\n  methods: {\n    updateVisibility() {\n      this.layer.setVisible(this.visible);\n      this.markerLayer.setVisible(this.visible);\n    },\n    onMapClick(evt) {\n      let lonLat = ol.proj.toLonLat(evt.coordinate);\n      this.lon = Number(lonLat[0].toFixed(5));\n      this.lat = Number(lonLat[1].toFixed(5));\n\n      let marker = new ol.Feature(new ol.geom.Point(evt.coordinate));\n      this.markerLayer.getSource().clear();\n      this.markerLayer.getSource().addFeature(marker);\n\n      Yetix.$emit('lon-lat', { lon: this.lon, lat: this.lat });\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","var render, staticRenderFns\nimport script from \"./MeteoLayer.vue?vue&type=script&lang=js\"\nexport * from \"./MeteoLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./MeteoLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./MeteoLayer.vue?vue&type=script&lang=js\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('p',{staticClass:\"overlay-title\"},[_c('strong',[_vm._v(_vm._s(_vm.overlay.title))]),_vm._v(\" - \"),_c('em',[_vm._v(_vm._s(_vm.overlay.massif))])]),_vm._v(\" \"),_c('div',{staticClass:\"overlay-nivoses-icons\"},[_c('a',{attrs:{\"href\":_vm.overlay.url1,\"target\":\"_blank\"}},[_c('div',{staticClass:\"overlay-nivoses-icons-imgs\"},[_c('img',{attrs:{\"src\":_vm.icon,\"alt\":\"\"}}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"3 \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"months\")])])]),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.overlay.url2,\"target\":\"_blank\"}},[_c('div',{staticClass:\"overlay-nivoses-icons-imgs\"},[_c('img',{attrs:{\"src\":_vm.icon,\"alt\":\"\"}}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"7 \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"days\")])])])])]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Nivose beacon\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\">\n    <span v-translate>Nivose beacon</span>\n    <template #overlay>\n      <p class=\"overlay-title\">\n        <strong>{{ overlay.title }}</strong> - <em>{{ overlay.massif }}</em>\n      </p>\n      <div class=\"overlay-nivoses-icons\">\n        <a :href=\"overlay.url1\" target=\"_blank\">\n          <div class=\"overlay-nivoses-icons-imgs\">\n            <img :src=\"icon\" alt=\"\" />\n            <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n          </div>\n          <p>3 <span v-translate>months</span></p>\n        </a>\n        <a :href=\"overlay.url2\" target=\"_blank\">\n          <div class=\"overlay-nivoses-icons-imgs\">\n            <img :src=\"icon\" alt=\"\" />\n            <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n          </div>\n          <p>7 <span v-translate>days</span></p>\n        </a>\n      </div>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\nimport getIconLayerMixin from './getIconLayer';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  mixins: [getIconLayerMixin],\n  data() {\n    return {\n      name: 'nivoses',\n      color: 'hsl(328, 95%, 50%)',\n      overlay: {\n        title: null,\n        massif: null,\n        url1: null,\n        url2: null,\n      },\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('Nivose beacons'),\n        image: 'nivose.png',\n        small: true,\n      };\n    },\n  },\n  created() {\n    let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 37\" width=\"50\" height=\"37\">\n      <path d=\"m2 2h34v2h-34z\" fill-opacity=\"0.5\" />\n      <path d=\"m2 14l4-7 3 5 3-3 4 5 7-8 2 4 2-3 3 6 1-2 2 3 2-4 6 3 6-7 1 3v6h-46z\" fill=\"#fe8f00\" />\n      <path d=\"m2 17l4 4 3-3 2 2 3-4 3 4 2-2 6 6-23-0zm37 23l3-3 2 3z\" fill=\"#fe0000\" />\n      <path d=\"m48 23l-1 1-3 2-3-3h-2l-4 3-5-1-4-1-3-1z\" fill=\"#0000fe\" />\n      <path d=\"m2 33l7-1 9 1h6l2-1 3-3 4-1 4 1 5 1 3-2 3 2v5h-46z\" fill=\"#03c776\" />\n    </svg>`;\n    this.icon = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.title = feature.get('name');\n      this.overlay.massif = feature.get('massif');\n      this.overlay.url1 = feature.get('url1');\n      this.overlay.url2 = feature.get('url2');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.massif = null;\n      this.overlay.url1 = null;\n      this.overlay.url2 = null;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.overlay-title em {\n  font-size: 0.9em;\n  opacity: 0.8;\n}\n.overlay-nivoses-icons {\n  display: flex;\n  justify-content: center;\n  margin: 10px;\n}\n.overlay-nivoses-icons a {\n  margin: 0 5px;\n  font-size: 0.9em;\n  line-height: 1;\n}\n.overlay-nivoses-icons img {\n  border: solid 1px rgba($black, 0.5);\n}\n.overlay-nivoses-icons-imgs {\n  position: relative;\n}\n.overlay-link-icon {\n  position: absolute;\n  top: 1px;\n  right: 1px;\n  background: white;\n  padding: 2px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./NivosesLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./NivosesLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NivosesLayer.vue?vue&type=template&id=644947fa&scoped=true\"\nimport script from \"./NivosesLayer.vue?vue&type=script&lang=js\"\nexport * from \"./NivosesLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./NivosesLayer.vue?vue&type=style&index=0&id=644947fa&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"644947fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"overlay\",staticClass:\"overlay\"},[_c('button',{staticClass:\"delete is-small button-close\",on:{\"click\":_vm.closeOverlay}},[_vm._v(\"x\")]),_vm._v(\" \"),_c('div',{staticClass:\"overlay-header pb-3 has-text-centered\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-5 mb-1\"},[_vm._v(\"Protected areas\")])]),_vm._v(\" \"),_c('div',{staticClass:\"py-2 px-3 is-size-6\"},[_c('p',[_vm._v(_vm._s(_vm.overlayData?.category))]),_vm._v(\" \"),_c('p',{staticClass:\"title is-5 mb-3 mt-1\"},[_vm._v(_vm._s(_vm.overlayData?.title))]),_vm._v(\" \"),_c('p',{staticClass:\"my-2 dates\"},[(_vm.overlayData?.dates)?_c('fa-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"calendar\"}}):_vm._e(),_vm._v(\" \"),(typeof _vm.overlayData?.dates === 'string')?_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.overlayData?.dates)+\"\\n      \")]):_c('span',_vm._l((_vm.overlayData?.dates),function(month,i){return _c('span',{key:i,staticClass:\"sensitive-item\",class:{ nok: month },attrs:{\"title\":_vm.$dateUtils.month(i).toUpperCase()[0] +\n            _vm.$dateUtils.month(i).slice(1) +\n            ': ' +\n            (month ? _vm.$gettext('Sensitive period') : _vm.$gettext('Non sensitive period'))}},[_vm._v(\"\\n          \"+_vm._s(_vm.$dateUtils.month(i).toUpperCase()[0])+\"\\n        \")])}),0),_vm._v(\" \"),(_vm.overlayData?.constraint)?_c('fa-icon',{staticClass:\"mr-1 ml-2\",attrs:{\"icon\":\"circle-info\"}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.overlayData?.constraint))])],1),_vm._v(\" \"),_c('p',{staticClass:\"my-2\"},[_c('strong',[_vm._v(_vm._s(_vm.overlayData?.dispositions))])]),_vm._v(\" \"),_c('div',{staticClass:\"my-2 overlay-text\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.overlayData?.additionalInfos)}})]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),(_vm.overlayData?.contact)?_c('p',{staticClass:\"contact mb-2 mt-5\",domProps:{\"innerHTML\":_vm._s(_vm.overlayData.contact)}}):_vm._e(),_vm._v(\" \"),(_vm.overlayData?.url)?_c('p',[_c('a',{attrs:{\"href\":_vm.overlayData.url,\"target\":\"_blank\"}},[_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Learn more\")])],1)]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"overlay\" class=\"overlay\">\n    <button class=\"delete is-small button-close\" @click=\"closeOverlay\">x</button>\n    <div class=\"overlay-header pb-3 has-text-centered\">\n      <p class=\"title is-5 mb-1\" v-translate>Protected areas</p>\n    </div>\n    <div class=\"py-2 px-3 is-size-6\">\n      <p>{{ overlayData?.category }}</p>\n      <p class=\"title is-5 mb-3 mt-1\">{{ overlayData?.title }}</p>\n      <p class=\"my-2 dates\">\n        <fa-icon icon=\"calendar\" v-if=\"overlayData?.dates\" class=\"mr-1\" />\n        <span v-if=\"typeof overlayData?.dates === 'string'\">\n          {{ overlayData?.dates }}\n        </span>\n        <span v-else>\n          <span\n            v-for=\"(month, i) in overlayData?.dates\"\n            :key=\"i\"\n            class=\"sensitive-item\"\n            :class=\"{ nok: month }\"\n            :title=\"\n              $dateUtils.month(i).toUpperCase()[0] +\n              $dateUtils.month(i).slice(1) +\n              ': ' +\n              (month ? $gettext('Sensitive period') : $gettext('Non sensitive period'))\n            \"\n          >\n            {{ $dateUtils.month(i).toUpperCase()[0] }}\n          </span>\n        </span>\n        <fa-icon icon=\"circle-info\" v-if=\"overlayData?.constraint\" class=\"mr-1 ml-2\" />\n        <span>{{ overlayData?.constraint }}</span>\n      </p>\n      <p class=\"my-2\">\n        <strong>{{ overlayData?.dispositions }}</strong>\n      </p>\n      <div class=\"my-2 overlay-text\">\n        <div v-html=\"overlayData?.additionalInfos\"></div>\n      </div>\n      <hr />\n      <p v-if=\"overlayData?.contact\" v-html=\"overlayData.contact\" class=\"contact mb-2 mt-5\"></p>\n      <p v-if=\"overlayData?.url\">\n        <a :href=\"overlayData.url\" target=\"_blank\">\n          <fa-icon icon=\"external-link-alt\" />\n          <span v-translate>Learn more</span>\n        </a>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport layerMixin from './layer';\n\nimport { protectionAreasLayers } from '@/components/map/map-layers';\nimport Yetix from '@/components/yeti/Yetix';\nimport respecterCestProtegerService from '@/js/apis/respectercestproteger-service';\nimport ol from '@/js/libs/ol';\nimport utils from '@/js/utils';\n\nlet overlay = new ol.Overlay({\n  positioning: 'top-center',\n  offset: [0, 0],\n  className: 'protectedareas-overlay-container',\n});\n\nlet overlayPanOptions = {\n  animation: {\n    duration: 250,\n  },\n  margin: 10,\n};\n\nexport default {\n  mixins: [layerMixin],\n  data() {\n    return {\n      overlayData: null,\n    };\n  },\n  computed: {\n    showProtectedAreas() {\n      return Yetix.showProtectedAreas;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Protected Areas'),\n        checked: this.showProtectedAreas,\n        action: this.onShowProtectedAreas,\n        image: 'protected-areas.jpg',\n      };\n    },\n  },\n  watch: {\n    showProtectedAreas() {\n      this.updateVisibility();\n    },\n  },\n  created() {\n    // get swiss protected areas\n    let protectionLayers = protectionAreasLayers();\n    // change default parameters\n    protectionLayers = protectionLayers.map((layer) => {\n      layer.setVisible(true);\n      layer.setOpacity(1);\n      layer.getSource().crossOrigin = 'anonymous';\n      return layer;\n    });\n    // then add biodiv sport data\n    let biodivLayer = new ol.layer.Tile({\n      name: 'biodivLayer',\n      source: new ol.source.TileWMS({\n        url: 'https://api.ensg.eu/geoserver/yeti/wms',\n        params: { LAYERS: 'yeti:biodiv-sports.fr' },\n        attributions: '<a href=\"https://biodiv-sports.fr\" target=\"_blank\">Biodiv\\'Sports</a>',\n        crossOrigin: 'anonymous',\n      }),\n    });\n    // create group for layers\n    this.layer = new ol.layer.Group({\n      name: 'protected-areas',\n      layers: [...protectionLayers, biodivLayer],\n      visible: false,\n    });\n  },\n  mounted() {\n    this.map.addLayer(this.layer);\n    this.updateVisibility();\n\n    // overlay\n    overlay.setElement(this.$refs.overlay);\n    this.map.addOverlay(overlay);\n\n    // emit layer data for selector\n    this.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    onShowProtectedAreas() {\n      Yetix.setShowProtectedAreas(!this.showProtectedAreas);\n    },\n    updateVisibility() {\n      this.layer.setVisible(this.showProtectedAreas);\n      if (this.showProtectedAreas && this.overlayData) {\n        overlay.setPosition(this.overlayData.coordinate);\n      } else {\n        this.closeOverlay();\n      }\n    },\n    onMapClick(evt) {\n      // open overlay first, populate data afterward\n      overlay.setPosition(evt.coordinate);\n\n      this.overlayData = {\n        category: this.$gettext('Data is loading...'),\n      };\n\n      // data can be from france or swiss,\n      // test both, and pick the one that respond (using Promise.any)\n\n      let swissPromise = new Promise((resolve, reject) => {\n        let extent = this.map.getView().calculateExtent(this.map.getSize() || null);\n        respecterCestProtegerService\n          .identify(evt.coordinate, extent, this.map.getSize()[0], this.map.getSize()[1], this.$language.current)\n          .catch(() => {\n            this.overlayData = {\n              category: this.$gettext('Network error.'),\n            };\n            throw new Error('network error');\n          })\n          .then(({ data }) => {\n            if (data.results && data.results.length) {\n              let result = data.results.find((result) => result.geometry.type === 'MultiPolygon') ?? data.results[0];\n\n              let lang = this.$language.current;\n              if (!['fr', 'de', 'it'].includes(lang)) {\n                lang = 'fr';\n              }\n\n              let overlayData = this.setOverlayData(\n                evt.coordinate,\n                result.properties.label,\n                result.layerName,\n                utils.decodeHtmlEntities(result.properties[`schutzs_${lang}`] ?? ''),\n                result.properties.schutzzeit,\n                utils.decodeHtmlEntities(result.properties[`best_${lang}`] ?? ''),\n                result.properties.zusatzinformation ?? '',\n                null,\n                result.properties.url_kanton\n              );\n              resolve(overlayData);\n            } else {\n              reject(new Error('no data'));\n            }\n          });\n      });\n\n      let francePromise = new Promise((resolve, reject) => {\n        let biodivLayer = this.layer.getLayers().getArray()[2];\n        let biodivGetFeatureInfoUrl = biodivLayer\n          .getSource()\n          .getFeatureInfoUrl(evt.coordinate, this.view.getResolution(), 'EPSG:3857', {\n            INFO_FORMAT: 'application/json',\n            QUERY_LAYERS: 'yeti:biodiv-sports.fr',\n            LAYERS: 'yeti:biodiv-sports.fr',\n            FEATURE_COUNT: 5,\n          });\n\n        let lang = this.$language.current;\n        if (!['fr', 'en', 'it'].includes(lang)) {\n          lang = 'en';\n        }\n\n        axios\n          .get(biodivGetFeatureInfoUrl)\n          .catch(() => {\n            this.overlayData = {\n              category: this.$gettext('Network error.'),\n            };\n            throw new Error('network error');\n          })\n          .then(({ data }) => {\n            if (data.features?.length) {\n              let features = new ol.format.GeoJSON().readFeatures(data);\n\n              // select last feature\n              let feature = features[features.length - 1];\n\n              let title = JSON.parse(feature.get('name'));\n              title = title[lang] ?? title['fr'];\n\n              let description = JSON.parse(feature.get('description'));\n              description = description[lang] ?? description['fr'];\n\n              let contact = feature.get('contact');\n              contact = contact.replaceAll('<br /><br />', '<br />');\n\n              let period = feature.get('period');\n              try {\n                // convert \"(12:1,0,0,1,1,1,1,1,1,0,0,0)\" to array\n                period = period\n                  .replaceAll(/[\\(\\)]/g, '')\n                  .split(':')[1]\n                  .split(',')\n                  .map(Number);\n              } catch (e) {\n                period = '---';\n              }\n\n              let overlayData = this.setOverlayData(\n                evt.coordinate,\n                title,\n                feature.get('species_id') ? this.$gettext('Species zone') : this.$gettext('Regulatory zone'),\n                null,\n                period,\n                '',\n                description,\n                contact,\n                feature.get('info_url')\n              );\n              resolve(overlayData);\n            } else {\n              reject(new Error('no data'));\n            }\n          });\n      });\n\n      // set overlay data with france or swiss\n      Promise.any([francePromise, swissPromise])\n        .then((overlayData) => {\n          this.overlayData = overlayData;\n          this.$nextTick(() => {\n            overlay.panIntoView(overlayPanOptions);\n          });\n        })\n        .catch(() => {\n          this.overlayData = {\n            category: this.$gettext('Error while loading data'),\n          };\n        });\n    },\n    onMapLooseClick() {\n      this.closeOverlay();\n    },\n    setOverlayData(coordinate, title, category, constraint, dates, dispositions, additionalInfos, contact, url) {\n      return {\n        coordinate,\n        title,\n        category,\n        constraint,\n        dates,\n        dispositions,\n        additionalInfos,\n        contact,\n        url,\n      };\n    },\n    closeOverlay() {\n      overlay.setPosition(undefined);\n      this.overlayData = null;\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.overlay {\n  width: 400px;\n  max-width: 100%;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba($black, 0.5), 0 3px 8px rgba($black, 0.5);\n  overflow: hidden;\n\n  p {\n    user-select: text;\n  }\n}\n.overlay-header {\n  background: hsl(74, 42%, 45%);\n  padding-top: 1rem;\n\n  .title {\n    color: white;\n  }\n}\n.overlay-text {\n  max-height: 200px;\n  overflow: auto;\n  user-select: text;\n  padding-bottom: 1em;\n  margin-bottom: 1em;\n  transition: max-height 0.3s;\n}\n.dates {\n  font-size: 0.929em;\n}\n.contact {\n  font-size: 0.857em;\n}\n.button-close {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n}\n.sensitive-item {\n  display: inline-block;\n  padding: 0 0.2em;\n\n  &.nok {\n    background: #ffe08a;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ProtectedAreasLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ProtectedAreasLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProtectedAreasLayer.vue?vue&type=template&id=0ae5a470&scoped=true\"\nimport script from \"./ProtectedAreasLayer.vue?vue&type=script&lang=js\"\nexport * from \"./ProtectedAreasLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProtectedAreasLayer.vue?vue&type=style&index=0&id=0ae5a470&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ae5a470\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('icon-layer',{attrs:{\"name\":_vm.name,\"color\":_vm.color,\"selector\":_vm.layerSelector},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('a',{attrs:{\"href\":_vm.overlay.url,\"target\":\"_blank\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.overlay.title)+\"\\n      \"),_c('fa-icon',{staticClass:\"overlay-link-icon\",attrs:{\"icon\":\"external-link-alt\"}})],1)]},proxy:true}])},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"ROMMA station\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <icon-layer :name=\"name\" :color=\"color\" :selector=\"layerSelector\">\n    <span v-translate>ROMMA station</span>\n    <template #overlay>\n      <a :href=\"overlay.url\" target=\"_blank\">\n        {{ overlay.title }}\n        <fa-icon icon=\"external-link-alt\" class=\"overlay-link-icon\" />\n      </a>\n    </template>\n  </icon-layer>\n</template>\n\n<script>\nimport IconLayer from './IconLayer.vue';\nimport getIconLayerMixin from './getIconLayer';\n\nexport default {\n  components: {\n    IconLayer,\n  },\n  mixins: [getIconLayerMixin],\n  data() {\n    return {\n      name: 'romma',\n      color: 'hsl(185, 45%, 40%)',\n      overlay: {\n        title: null,\n        url: null,\n      },\n    };\n  },\n  computed: {\n    layerSelector() {\n      return {\n        title: this.$gettext('ROMMA stations'),\n        image: 'romma.png',\n        small: true,\n      };\n    },\n  },\n  methods: {\n    setOverlay(feature) {\n      this.overlay.title = feature.get('name');\n      this.overlay.url = feature.get('url');\n    },\n    unsetOverlay() {\n      this.overlay.title = null;\n      this.overlay.url = null;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RommaLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RommaLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RommaLayer.vue?vue&type=template&id=30359fdb\"\nimport script from \"./RommaLayer.vue?vue&type=script&lang=js\"\nexport * from \"./RommaLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"drawInfoOverlay\"},[_c('p',[_c('fa-icon',{attrs:{\"icon\":\"route\",\"transform\":\"shrink-3\"}}),_vm._v(\" \"+_vm._s(Number(_vm.drawInfo.distance).toLocaleString())+\"m\")],1),_vm._v(\" \"),_c('p',[_c('fa-icon',{attrs:{\"icon\":\"compass\",\"transform\":\"shrink-3\"}}),_vm._v(\" \"+_vm._s(_vm.drawInfo.bearing)+\"\")],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"drawInfoOverlay\">\n    <p><fa-icon icon=\"route\" transform=\"shrink-3\" /> {{ Number(drawInfo.distance).toLocaleString() }}&nbsp;m</p>\n    <p><fa-icon icon=\"compass\" transform=\"shrink-3\" /> {{ drawInfo.bearing }}</p>\n  </div>\n</template>\n\n<script>\nimport { icon } from '@fortawesome/fontawesome-svg-core';\n\nimport layerMixin from './layer';\nimport simplify from './simplify';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport c2c from '@/js/apis/c2c';\nimport ol from '@/js/libs/ol';\n\nclass SplitInteraction extends ol.interaction.Pointer {\n  constructor(options) {\n    super({\n      handleDownEvent: (evt) => {\n        if (evt.originalEvent.ctrlKey) {\n          const map = evt.map;\n\n          const feature = map.forEachFeatureAtPixel(\n            evt.pixel,\n            function (feature) {\n              return feature;\n            },\n            {\n              layerFilter: (layer) => {\n                return layer === this.layer_;\n              },\n            }\n          );\n\n          if (feature) {\n            this.feature_ = feature;\n            this.coordinate_ = feature.getGeometry().getClosestPoint(evt.coordinate);\n\n            // the split point is surely not on vertex, so find on which segment it is\n            let coordinates = this.feature_.getGeometry().getCoordinates();\n            let insertIndex = undefined;\n            for (let i = 0; i < coordinates.length - 1; i++) {\n              const [x1, y1] = coordinates[i];\n              const [x2, y2] = coordinates[i + 1];\n              if (this.pointOnSegment(this.coordinate_, [x1, y1], [x2, y2])) {\n                insertIndex = i + 1;\n                break;\n              }\n            }\n\n            // then insert a new point on the segment before split\n            // if insertindex is set (point on line)\n            // and coord is not already a vertex\n            // and coord is not the first point\n            if (\n              insertIndex !== undefined &&\n              coordinates[insertIndex][0] !== this.coordinate_[0] &&\n              coordinates[insertIndex][1] !== this.coordinate_[1] &&\n              coordinates[0][0] !== this.coordinate_[0] &&\n              coordinates[0][1] !== this.coordinate_[1]\n            ) {\n              coordinates.splice(insertIndex, 0, this.coordinate_);\n            }\n\n            // now, split feature and create an array for two splitted feature\n            let sublines = [[], []];\n            let i = 0;\n            let splitDone = false;\n            coordinates.forEach((coord) => {\n              sublines[i].push(coord);\n              // if point is less than one meter away = this is the split point\n              if (\n                !splitDone &&\n                Math.abs(coord[0] - this.coordinate_[0]) < 1 &&\n                Math.abs(coord[1] - this.coordinate_[1]) < 1\n              ) {\n                i = 1;\n                sublines[i].push(coord);\n                splitDone = true;\n              }\n            });\n            this.dispatchEvent({\n              type: 'split',\n              oldFeature: feature,\n              newFeatures: sublines.map((line) => new ol.Feature(new ol.geom.LineString(line))),\n            });\n          }\n\n          return false;\n        }\n      },\n    });\n\n    this.layer_ = options.layer;\n    this.coordinate_ = null;\n    this.feature_ = null;\n  }\n\n  pointOnSegment(p, a, b, tol = 1e-3) {\n    const cross = (p[1] - a[1]) * (b[0] - a[0]) - (p[0] - a[0]) * (b[1] - a[1]);\n    if (Math.abs(cross) > tol) return false;\n    const dot = (p[0] - a[0]) * (b[0] - a[0]) + (p[1] - a[1]) * (b[1] - a[1]);\n    if (dot < 0) return false;\n    const sqLen = (b[0] - a[0]) ** 2 + (b[1] - a[1]) ** 2;\n    if (dot > sqLen) return false;\n    return true;\n  }\n}\n\nlet angle = 60;\nlet pColor = `hsl(${angle}, 100%, 50%)`;\nlet pColorLight = `hsl(${angle}, 100%, 90%)`;\nlet pColorDark = `hsl(${angle}, 100%, 20%)`;\nlet pWidth = 5;\n\nlet normalLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: pColorDark,\n      width: pWidth + 2,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: pColor,\n      width: pWidth,\n    }),\n  }),\n];\n\nlet normalWithEditLineStyle = [\n  ...normalLineStyle,\n  new ol.style.Style({\n    image: new ol.style.Circle({\n      radius: pWidth - 1,\n      fill: new ol.style.Fill({\n        color: pColorLight,\n      }),\n      stroke: new ol.style.Stroke({\n        color: pColorDark,\n        width: 2,\n      }),\n    }),\n    geometry(feature) {\n      let coords = feature\n        .getGeometry()\n        .getCoordinates()\n        .map((c) => new ol.geom.Point(c));\n      return new ol.geom.GeometryCollection(coords);\n    },\n  }),\n];\n\nlet editStyle = [\n  new ol.style.Style({\n    image: new ol.style.Circle({\n      radius: 6,\n      fill: new ol.style.Fill({\n        color: pColorDark,\n      }),\n      stroke: new ol.style.Stroke({\n        color: 'white',\n        width: 2,\n      }),\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'white',\n      width: pWidth + 1,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: pColorDark,\n      width: pWidth - 1,\n    }),\n  }),\n];\n\nlet simplifiedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'white',\n      width: pWidth + 2,\n    }),\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'rgba(0, 0, 0, 0.7)',\n      width: pWidth,\n    }),\n  }),\n];\n\nlet highlightedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'hsla(60, 100%, 50%, 0.8)',\n      width: 16,\n    }),\n    zIndex: 1,\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'hsl(28, 100%, 45%)',\n      width: pWidth + 2,\n    }),\n    zIndex: 1,\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'hsl(28, 100%, 65%)',\n      width: pWidth,\n    }),\n    zIndex: 1,\n  }),\n];\n\nlet elevationPointStyle = [\n  new ol.style.Style({\n    image: new ol.style.Circle({\n      radius: pWidth + 1,\n      fill: new ol.style.Fill({\n        color: 'red',\n      }),\n      stroke: new ol.style.Stroke({\n        color: 'white',\n        width: 2,\n      }),\n    }),\n  }),\n];\n\nlet drawInfoOverlay = new ol.Overlay({\n  offset: [10, -10],\n  positioning: 'bottom-left',\n  className: 'draw-info-overlay',\n});\n\nexport default {\n  mixins: [layerMixin],\n  data() {\n    return {\n      visibleSimplifiedLayer: false,\n      drawInfo: {\n        distance: 0,\n        bearing: 0,\n      },\n    };\n  },\n  computed: {\n    features() {\n      return Yetix.features;\n    },\n    featuresLength() {\n      return Yetix.featuresLength;\n    },\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    zoomDelta() {\n      return Yetix.ZOOM_DELTA;\n    },\n    validMinimumMapZoom() {\n      return Yetix.VALID_MINIMUM_MAP_ZOOM;\n    },\n    editMode() {\n      return Yetix.editMode;\n    },\n  },\n  watch: {\n    editMode() {\n      if (!this.editMode) {\n        this.disableInteractions();\n        document.removeEventListener('keydown', this.onKeydown);\n        document.removeEventListener('keyup', this.onKeyup);\n      } else {\n        this.enableInteractions();\n        document.addEventListener('keydown', this.onKeydown);\n        document.addEventListener('keyup', this.onKeyup);\n      }\n      this.updateEditStyle();\n    },\n    mapZoom() {\n      this.updateEditStyle();\n    },\n  },\n  mounted() {\n    // features layer\n    this.featuresLayer = new ol.layer.Vector({\n      name: 'routeLayer',\n      source: new ol.source.Vector(),\n      style: normalLineStyle,\n    });\n    this.featuresLayerSource = this.featuresLayer.getSource();\n\n    this.map.addLayer(this.featuresLayer);\n\n    // draw info overlay\n    drawInfoOverlay.setElement(this.$refs.drawInfoOverlay);\n    this.map.addOverlay(drawInfoOverlay);\n\n    // simplified layer (preview)\n    this.simplifiedLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: simplifiedLineStyle,\n    });\n    // get source\n    this.simplifiedSource = this.simplifiedLayer.getSource();\n    // add layer, and hide it\n    this.map.addLayer(this.simplifiedLayer);\n    this.simplifiedLayer.setVisible(false);\n\n    // layer for elevation point\n    this.elevationPointLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: elevationPointStyle,\n    });\n    // add layer, and hide it\n    this.map.addLayer(this.elevationPointLayer);\n    this.elevationPointLayer.setVisible(false);\n    // add one feature for point\n    const elevationPointSource = this.elevationPointLayer.getSource();\n    this.elevationPoint = new ol.Feature();\n    elevationPointSource.addFeature(this.elevationPoint);\n    // react to event\n    Yetix.$on('elevationProfile', this.onElevationProfile);\n\n    // set default featuresTitle\n    this.defaultFeaturesTitle = this.$gettext(Yetix.featuresTitle);\n    Yetix.setFeaturesTitle(this.defaultFeaturesTitle);\n\n    // load camptocamp document\n    let doc = this.$route.params.document_id;\n    let lang = this.$language.current;\n    if (doc) {\n      c2c['route'].getCooked(doc, lang).then(this.addFeaturesFromDocument);\n    }\n\n    // features events (added feature)\n    this.featuresLayerSource.on('addfeature', this.onFeature);\n    this.simplifiedSource.on('addfeature', this.onFeature);\n\n    this.addInteractions();\n\n    Yetix.$on('addFeature', this.addFeature);\n    Yetix.$on('removeFeature', this.removeFeature);\n    Yetix.$on('removeFeatures', this.removeFeatures);\n    Yetix.$on('gpx', this.addFeaturesFromGpx);\n    Yetix.$on('previewSimplify', this.previewSimplify);\n    Yetix.$on('simplify', this.simplify);\n    Yetix.$on('featureUpdated', this.updateFeaturesFromStore);\n    Yetix.$on('fit-map-to-features', this.fitMapToFeatures);\n\n    // special event when window loose focus = hanfle ctrl key (when browser shorcuts) for split interaction\n    window.addEventListener('blur', () => this.onKeyup({ key: 'Control', altKey: false }));\n\n    // already features to add?\n    // but not a c2c document\n    if (!doc && this.features.length) {\n      this.featuresLayerSource.addFeatures(this.features);\n    }\n  },\n  methods: {\n    getLayer() {\n      return this.featuresLayer;\n    },\n    addInteractions() {\n      let source = this.featuresLayerSource;\n\n      this.modifyInteraction = new ol.interaction.Modify({\n        source,\n        style: editStyle,\n      });\n      this.map.addInteraction(this.modifyInteraction);\n\n      this.drawInteraction = new ol.interaction.Draw({\n        source,\n        type: 'LineString',\n        style: editStyle,\n        geometryFunction: (coords, geom) => {\n          if (!geom) {\n            geom = new ol.geom.LineString([]);\n          }\n\n          if (coords.length <= 1) {\n            drawInfoOverlay.setPosition(undefined);\n          }\n\n          // get 2 last points\n          if (coords.length >= 2) {\n            geom.setCoordinates(coords);\n\n            let geomCoords = geom.getCoordinates();\n            let point1 = geomCoords[geomCoords.length - 2];\n            let point2 = geomCoords[geomCoords.length - 1];\n            let distance = ol.sphere.getDistance(ol.proj.toLonLat(point1), ol.proj.toLonLat(point2));\n\n            let lon1 = (ol.proj.toLonLat(point1)[0] * Math.PI) / 180;\n            let lon2 = (ol.proj.toLonLat(point2)[0] * Math.PI) / 180;\n            let lat1 = (ol.proj.toLonLat(point1)[1] * Math.PI) / 180;\n            let lat2 = (ol.proj.toLonLat(point2)[1] * Math.PI) / 180;\n            let a = Math.sin(lon2 - lon1) * Math.cos(lat2);\n            let b = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n\n            let angle = Math.atan2(a, b);\n            let bearing = ((angle * 180) / Math.PI + 360) % 360;\n\n            if (distance > 0) {\n              this.drawInfo.distance = Math.round(distance);\n              this.drawInfo.bearing = Math.round(bearing);\n            } else {\n              this.drawInfo.distance = 0;\n              this.drawInfo.bearing = 0;\n            }\n            drawInfoOverlay.setPosition(geomCoords[geomCoords.length - 1]);\n          }\n\n          return geom;\n        },\n      });\n      this.map.addInteraction(this.drawInteraction);\n\n      this.splitInteraction = new SplitInteraction({\n        layer: this.featuresLayer,\n      });\n      this.map.addInteraction(this.splitInteraction);\n\n      this.snapInteraction = new ol.interaction.Snap({ source });\n      this.map.addInteraction(this.snapInteraction);\n\n      this.drawInteraction.on('drawstart', this.onDrawStart);\n      this.drawInteraction.on('drawend', this.onDrawEnd);\n      this.modifyInteraction.on('modifyend', this.onModifyEnd);\n      this.splitInteraction.on('split', this.onSplit);\n\n      this.disableInteractions();\n    },\n    enableInteractions() {\n      this.drawInteraction.setActive(true);\n      this.modifyInteraction.setActive(true);\n      this.splitInteraction.setActive(true);\n      this.snapInteraction.setActive(true);\n    },\n    disableInteractions() {\n      this.drawInteraction.setActive(false);\n      this.modifyInteraction.setActive(false);\n      this.splitInteraction.setActive(false);\n      this.snapInteraction.setActive(false);\n\n      // hide draw info overlay\n      drawInfoOverlay.setPosition(undefined);\n    },\n    onDrawStart() {\n      this.drawing = true;\n      document.addEventListener('keydown', this.onKeyWhileDrawing);\n      document.addEventListener('keypress', this.onKeyWhileDrawing);\n    },\n    onDrawEnd() {\n      this.drawing = false;\n      document.removeEventListener('keydown', this.onKeyWhileDrawing);\n      document.removeEventListener('keypress', this.onKeyWhileDrawing);\n\n      // hide draw info overlay\n      drawInfoOverlay.setPosition(undefined);\n    },\n    onModifyEnd() {\n      this.updateFeaturesFromStore();\n    },\n    onSplit(evt) {\n      evt.newFeatures.forEach(this.addFeature);\n      this.removeFeature(evt.oldFeature);\n    },\n    onKeyWhileDrawing(event) {\n      event.preventDefault();\n      // backspace key\n      if (event.key === 'Backspace') {\n        this.drawInteraction.removeLastPoint();\n      }\n    },\n    onFeature(event) {\n      // set features styles\n      event.feature.set('highlightedStyle', highlightedLineStyle);\n      // emit new features, only in normal case (edit/drawing)\n      // not in gpx/document case (prevent multiple update for each lines)\n      if (!this.loadingExternalFeatures) {\n        this.updateFeaturesFromStore();\n      }\n    },\n    updateFeaturesFromStore() {\n      // updates features\n      let features = this.visibleSimplifiedLayer ? this.getSimplifiedFeatures() : this.getFeaturesLayerFeatures();\n      Yetix.setFeatures(features);\n      // update length\n      let featuresLength = this.getFeaturesLayerFeatures()\n        .map((feature) => {\n          return feature.getGeometry().getCoordinates().length;\n        })\n        .reduce((acc, value) => acc + value, 0);\n      Yetix.setFeaturesLength(featuresLength);\n\n      if (features.length === 0) {\n        // if user come from a document url, remove url\n        if (this.$route.params.document_id) {\n          this.$router.replace({ path: '/' + this.$route.name });\n        }\n        // set featuresTitle back to default\n        Yetix.setFeaturesTitle(this.defaultFeaturesTitle);\n      }\n    },\n    getFeaturesLayerFeatures() {\n      return this.getSortedFeatures(this.featuresLayerSource.getFeatures());\n    },\n    getSimplifiedFeatures() {\n      return this.getSortedFeatures(this.simplifiedSource.getFeatures());\n    },\n    getSortedFeatures(features) {\n      return features.sort((a, b) => {\n        return Number(a.ol_uid) > Number(b.ol_uid);\n      });\n    },\n    removeFeature(feature) {\n      // remove feature\n      // when only one left, ask for user to confirm\n      let toBeRemoved = !(\n        this.featuresLayerSource.getFeatures().length === 1 && !confirm(this.$gettext('Confirm delete'))\n      );\n      if (toBeRemoved) {\n        if (this.visibleSimplifiedLayer) {\n          this.simplifiedSource.removeFeature(feature);\n          // remove corresponding feature\n          this.getFeaturesLayerFeatures().forEach((f) => {\n            if (feature.get('id') === f.ol_uid) {\n              this.featuresLayerSource.removeFeature(f);\n            }\n          });\n        } else {\n          this.featuresLayerSource.removeFeature(feature);\n        }\n        this.updateFeaturesFromStore();\n      }\n    },\n    removeFeatures() {\n      // clear both layers\n      this.featuresLayerSource.clear();\n      this.simplifiedSource.clear(true);\n      // set default layer to be visible\n      this.hideSimplifiedLayer();\n      // update features\n      this.updateFeaturesFromStore();\n    },\n    addFeaturesFromGpx(gpx) {\n      // return if no gpx\n      if (!gpx) {\n        return;\n      }\n      // first, clear geometry\n      this.featuresLayerSource.clear();\n\n      // before reading gpx, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      let gpxFormat = new ol.format.GPX();\n      let features = gpxFormat.readFeatures(gpx, { featureProjection: 'EPSG:3857' });\n      features.forEach(this.addFeature);\n      // update store\n      Yetix.setFeaturesTitle(this.getFeaturesTitleFromGpx(features));\n\n      // gpx is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.updateFeaturesFromStore();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n    getFeaturesTitleFromGpx(features) {\n      if (features && features.length) {\n        let properties = features[0].getProperties();\n        if (properties.name) {\n          return properties.name;\n        } else {\n          return this.$gettext('GPX file');\n        }\n      }\n    },\n    addFeaturesFromDocument(doc) {\n      // before reading document, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      let documentGeometry = doc.data.geometry.geom_detail;\n      if (documentGeometry) {\n        let feature = new ol.format.GeoJSON().readFeature(documentGeometry);\n        this.addFeature(feature);\n        // fit map to new features\n        this.fitMapToFeatures();\n      } else {\n        // fit map to geom\n        this.fitMapToGeom(doc.data.geometry.geom);\n      }\n      // update store\n      Yetix.setFeaturesTitle(this.getFeaturesTitleFromDocument(doc));\n      // document is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.updateFeaturesFromStore();\n    },\n    addFeature(feature) {\n      // split multilinestrings into linestrings\n      if (feature.getGeometry().getType() === 'MultiLineString') {\n        let lines = feature.getGeometry().getLineStrings();\n        lines.map((line) => new ol.Feature({ geometry: line })).forEach(this.addFeature);\n      } else {\n        let nbPointsOnFeature = feature.getGeometry().getCoordinates().length;\n        if (nbPointsOnFeature >= 2) {\n          this.featuresLayerSource.addFeature(feature);\n        }\n      }\n    },\n    getFeaturesTitleFromDocument(document) {\n      return this.$documentUtils.getDocumentTitle(document.data);\n    },\n    fitMapToFeatures() {\n      let extent = ol.extent.createEmpty();\n\n      ol.extent.extend(extent, this.featuresLayerSource.getExtent());\n\n      this.view.fit(extent, { size: this.map.getSize() });\n\n      let actualZoom = Math.round(new ol.View().getZoomForResolution(this.map.getView().getResolution()) * 10) / 10;\n      // set a minimum zoom level\n      this.view.setZoom(Math.max(this.validMinimumMapZoom, actualZoom) / this.zoomDelta);\n    },\n    fitMapToGeom(geom) {\n      let feature = new ol.format.GeoJSON().readFeature(geom);\n      let geometry = feature.getGeometry().getExtent();\n      this.view.fit(geometry, { size: this.map.getSize() });\n      this.view.setZoom(this.validMinimumMapZoom / this.zoomDelta);\n    },\n    hideSimplifiedLayer() {\n      this.featuresLayer.setVisible(true);\n      this.simplifiedLayer.setVisible(false);\n      this.visibleSimplifiedLayer = false;\n    },\n    showSimplifiedLayer() {\n      this.featuresLayer.setVisible(false);\n      this.simplifiedLayer.setVisible(true);\n      this.visibleSimplifiedLayer = true;\n    },\n    previewSimplify(tolerance) {\n      // every preview, clear the layer first\n      this.simplifiedSource.clear(true);\n      // show/hide layers based on tolerance\n      if (tolerance === 0) {\n        this.hideSimplifiedLayer();\n      } else {\n        this.showSimplifiedLayer();\n        // get each features, simplify them, and add to simplified layer\n        let features = this.getFeaturesLayerFeatures();\n        features.forEach((feature) => {\n          let geometry = feature.getGeometry();\n\n          // clone geometry\n          let simplifiedGeometry = geometry.clone();\n          let coordinates = simplifiedGeometry.getCoordinates();\n\n          // if no z, add 0\n          coordinates = coordinates.map((coord) => {\n            if (!coord[2]) {\n              coord[2] = 0;\n            }\n            return coord;\n          });\n\n          // check if tolerance is 0 == no simplification\n          if (tolerance !== 0) {\n            coordinates = simplify(coordinates, tolerance, true);\n            simplifiedGeometry.setCoordinates(coordinates);\n          }\n\n          // create feature (store reference of actual feature thanks to ol_uid)\n          let simplifiedFeature = new ol.Feature({ geometry: simplifiedGeometry, id: feature.ol_uid });\n          this.simplifiedSource.addFeature(simplifiedFeature);\n        });\n      }\n      this.updateFeaturesFromStore();\n    },\n    simplify() {\n      // clear features layer\n      this.featuresLayerSource.clear();\n      // get simplified features\n      let simplifiedFeatures = this.getSimplifiedFeatures();\n      // and move them one by one (to keep order of line chunks) in features layer\n      simplifiedFeatures.forEach((feature) => {\n        this.featuresLayerSource.addFeature(feature);\n      });\n      // hide simplified/show features\n      this.hideSimplifiedLayer();\n    },\n    onElevationProfile(event, coord) {\n      switch (event) {\n        case 'cursor_move':\n          this.elevationPointLayer.setVisible(true);\n          this.elevationPoint.setGeometry(new ol.geom.Point(coord));\n          break;\n        case 'cursor_end':\n          this.elevationPointLayer.setVisible(false);\n          break;\n      }\n    },\n    updateEditStyle() {\n      this.featuresLayer.setStyle(\n        this.editMode && this.mapZoom >= this.validMinimumMapZoom ? normalWithEditLineStyle : normalLineStyle\n      );\n    },\n    onKeydown(evt) {\n      // not when drawing\n      if (this.drawing) {\n        return false;\n      }\n      // not when both alt+ctrl\n      if (evt.ctrlKey && evt.altKey) {\n        return false;\n      }\n      // which key?\n      let tip = null;\n      let svgSource = null;\n      if (evt.ctrlKey) {\n        tip = this.$gettext('Split line');\n        svgSource = icon({ prefix: 'fas', iconName: 'scissors' }).html[0];\n      }\n      if (evt.altKey) {\n        tip = this.$gettext('Add or remove point');\n        svgSource = icon({ prefix: 'fas', iconName: 'plus-minus' }).html[0];\n      }\n\n      // add new icon in editstyle, only if length is 3\n      if (tip && editStyle.length === 3) {\n        svgSource = svgSource.replace('<svg', '<svg width=\"10\" height=\"10\"');\n        svgSource = svgSource.replace('fill=\"currentColor\"', `fill=\"white\" stroke=\"${pColorDark}\" stroke-width=\"5\"`);\n        editStyle.splice(\n          1,\n          0,\n          new ol.style.Style({\n            image: new ol.style.Icon({\n              src: 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgSource),\n              size: [10, 10],\n            }),\n          })\n        );\n        editStyle[0].getImage().setRadius(10);\n        editStyle[0].setText(\n          new ol.style.Text({\n            text: tip,\n            textAlign: 'left',\n            offsetX: 20,\n            offsetY: 0,\n            padding: [5, 5, 5, 5],\n            fill: new ol.style.Fill({\n              color: 'white',\n            }),\n            backgroundFill: new ol.style.Fill({\n              color: pColorDark,\n            }),\n          })\n        );\n        this.drawInteraction.getOverlay().setStyle(editStyle);\n        this.modifyInteraction.getOverlay().setStyle(editStyle);\n      }\n    },\n    onKeyup(evt) {\n      // remove specific icon\n      // only when alt or ctrl, but not both, and icon is already in editstyle\n      if (((evt.key === 'Alt' && !evt.ctrlKey) || (evt.key === 'Control' && !evt.altKey)) && editStyle.length === 4) {\n        editStyle.splice(1, 1);\n        editStyle[0].getImage().setRadius(6);\n        editStyle[0].setText(\n          new ol.style.Text({\n            text: null,\n          })\n        );\n        this.drawInteraction.getOverlay().setStyle(editStyle);\n        this.modifyInteraction.getOverlay().setStyle(editStyle);\n      }\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n\n<style>\n.draw-info-overlay {\n  background: yellow;\n  padding: 2px;\n  border-radius: 2px;\n  font-size: 0.85rem;\n  min-width: 60px;\n}\n</style>\n","var render, staticRenderFns\nimport script from \"./WinterRouteLayer.vue?vue&type=script&lang=js\"\nexport * from \"./WinterRouteLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./YetiLayer.vue?vue&type=script&lang=js\"\nexport * from \"./YetiLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RouteLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./RouteLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RouteLayer.vue?vue&type=template&id=09728738\"\nimport script from \"./RouteLayer.vue?vue&type=script&lang=js\"\nexport * from \"./RouteLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./RouteLayer.vue?vue&type=style&index=0&id=09728738&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.winterRoutes.length)?_c('div',[_vm._l((_vm.winterRoutes),function(winterRoute){return _c('div',{key:winterRoute.get('id'),staticClass:\"pb-2\"},[_c('p',{staticClass:\"features-title\"},[_c('span',{staticClass:\"features-title-content\"},[_vm._v(_vm._s(winterRoute.get('title')))])]),_vm._v(\" \"),_c('p',{staticClass:\"is-size-7\"},[_c('fa-icon',{attrs:{\"icon\":\"arrow-right\",\"transform\":{ rotate: -45 }}}),_vm._v(\"\\n        +\"+_vm._s(winterRoute.get('deniv_plus'))+\"m\\n        \"),_c('fa-icon',{staticClass:\"pl-4\",attrs:{\"icon\":\"arrow-right\",\"transform\":{ rotate: 45 }}}),_vm._v(\"\\n        \"+_vm._s(winterRoute.get('deniv_minus'))+\"m\\n        \"),_c('fa-icon',{staticClass:\"pl-4\",attrs:{\"icon\":\"route\"}}),_vm._v(\"\\n        \"+_vm._s(winterRoute.get('length'))+\"m\\n      \")],1)])}),_vm._v(\" \"),_c('div',{staticClass:\"mt-2\"},[_c('button',{staticClass:\"button is-primary\",on:{\"click\":function($event){return _vm.addToRoute(_vm.winterRoutes)}}},[_c('fa-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"route\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Add to my outing\")])],1)])],2):_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Select one or more winter routes on the map\")])]),_vm._v(\" \"),_c('toast',{ref:\"toast-layer\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Winter routes\")])]},proxy:true}])},[_vm._v(\" \"),_c('span',[_c('strong',[_vm._v(_vm._s(_vm.winterRoutes.length))]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"route(s) added to your outing\")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"winterRoutes.length\">\n      <div v-for=\"winterRoute in winterRoutes\" :key=\"winterRoute.get('id')\" class=\"pb-2\">\n        <p class=\"features-title\">\n          <span class=\"features-title-content\">{{ winterRoute.get('title') }}</span>\n        </p>\n        <p class=\"is-size-7\">\n          <fa-icon icon=\"arrow-right\" :transform=\"{ rotate: -45 }\" />\n          &plus;{{ winterRoute.get('deniv_plus') }}m\n          <fa-icon icon=\"arrow-right\" :transform=\"{ rotate: 45 }\" class=\"pl-4\" />\n          &minus;{{ winterRoute.get('deniv_minus') }}m\n          <fa-icon icon=\"route\" class=\"pl-4\" />\n          {{ winterRoute.get('length') }}m\n        </p>\n      </div>\n      <div class=\"mt-2\">\n        <button class=\"button is-primary\" @click=\"addToRoute(winterRoutes)\">\n          <fa-icon icon=\"route\" class=\"mr-1\" />\n          <span v-translate>Add to my outing</span>\n        </button>\n      </div>\n    </div>\n    <div v-else>\n      <p v-translate>Select one or more winter routes on the map</p>\n    </div>\n    <toast ref=\"toast-layer\">\n      <template #title>\n        <span v-translate>Winter routes</span>\n      </template>\n      <span>\n        <strong>{{ winterRoutes.length }}</strong>\n        <span v-translate>route(s) added to your outing</span>\n      </span>\n    </toast>\n  </div>\n</template>\n\n<script>\nimport Toast from '@/components/yeti/Toast';\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  components: {\n    Toast,\n  },\n  computed: {\n    winterRoutes() {\n      return Yetix.winterRoutes.map((winterRoute) => {\n        let start = winterRoute.get('start');\n        let stop = winterRoute.get('stop');\n        let routeTitle = `${this.$gettext('From')} ${start} ${this.$gettext('to')} ${stop}`;\n\n        // swiss route dont have start/stop, but name (based on lang)\n        if (!start || !stop) {\n          routeTitle = winterRoute.get(`name_${this.$language.current}`) ?? winterRoute.get('name');\n        }\n\n        winterRoute.set('title', routeTitle);\n        return winterRoute;\n      });\n    },\n  },\n  methods: {\n    addToRoute(winterRoutes) {\n      winterRoutes.forEach((winterRoute) => {\n        Yetix.$emit('addFeature', winterRoute);\n      });\n      if (winterRoutes.length === 1) {\n        let winterRoute = winterRoutes[0];\n        Yetix.setFeaturesTitle(winterRoute.get('title'));\n      }\n      Yetix.setWinterRoutes([]);\n      Yetix.setActiveTab(2);\n      Yetix.setShowWinterRoute(false);\n\n      this.$refs['toast-layer'].toast({ duration: 2000 });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./WinterRouteLayerContent.vue?vue&type=template&id=0a8104da\"\nimport script from \"./WinterRouteLayerContent.vue?vue&type=script&lang=js\"\nexport * from \"./WinterRouteLayerContent.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('fa-icon',{attrs:{\"icon\":\"layer-group\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.layer.title))]),_vm._v(\" \"),(_vm.winterRoutesLength)?_c('counter',[_vm._v(_vm._s(_vm.winterRoutesLength))]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <fa-icon icon=\"layer-group\" />\n    <span>{{ layer.title }}</span>\n    <counter v-if=\"winterRoutesLength\">{{ winterRoutesLength }}</counter>\n  </span>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter.vue';\nimport Yetix from '@/components/yeti/Yetix.vue';\n\nexport default {\n  components: {\n    Counter,\n  },\n  props: {\n    layer: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    winterRoutes() {\n      return Yetix.winterRoutes;\n    },\n    winterRoutesLength() {\n      return this.winterRoutes.length;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerContentTitle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerContentTitle.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./WinterRouteLayerContentTitle.vue?vue&type=template&id=0ac477f6\"\nimport script from \"./WinterRouteLayerContentTitle.vue?vue&type=script&lang=js\"\nexport * from \"./WinterRouteLayerContentTitle.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport WinterRouteLayerContent from '@/components/yeti/map-layers/WinterRouteLayerContent';\nimport WinterRouteLayerContentTitle from '@/components/yeti/map-layers/WinterRouteLayerContentTitle';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  mixins: [layerMixin],\n  computed: {\n    showWinterRoute() {\n      return Yetix.showWinterRoute;\n    },\n    winterRoutes() {\n      return Yetix.winterRoutes;\n    },\n    layerSelector() {\n      return {\n        id: 'winter-route',\n        title: this.$gettext('Winter hiking routes'),\n        checked: this.showWinterRoute,\n        action: this.onShowWinterRoute,\n        image: 'winter-route.png',\n        country: 'fr',\n        contentComponent: WinterRouteLayerContent,\n        contentTitleComponent: WinterRouteLayerContentTitle,\n      };\n    },\n  },\n  watch: {\n    showWinterRoute() {\n      this.updateVisibility();\n    },\n    winterRoutes() {\n      if (this.winterRoutes.length === 0) {\n        this.selectedLayer.getSource().clear();\n      }\n    },\n    layerSelector() {\n      this.$emit('layer', this.layerSelector);\n    },\n  },\n  created() {\n    this.layer = new ol.layer.Tile({\n      name: 'winterRouteLayer',\n    });\n    let pWidth = 4;\n    this.selectedLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: 'hsla(10deg, 95%, 50%, 0.5)',\n            //color: 'rgba(30, 30, 30, 0.6)',\n            width: pWidth + 12,\n          }),\n        }),\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: 'rgba(30, 30, 30, 1)',\n            width: pWidth,\n          }),\n        }),\n      ],\n    });\n  },\n  mounted() {\n    // add layer first (maintain order)\n    this.map.addLayer(this.layer);\n    this.map.addLayer(this.selectedLayer);\n\n    // then  set source\n    this.layer.setSource(\n      new ol.source.TileWMS({\n        url: 'https://api.ensg.eu/geoserver/yeti/wms',\n        params: { LAYERS: 'yeti:TRACERANDOHIVERNALE' },\n        attributions: '<a href=\"https://www.petzl.com/fondation/s/?language=fr\"> PETZL</a>',\n        crossOrigin: 'anonymous',\n      })\n    );\n    this.updateVisibility();\n    this.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    onShowWinterRoute() {\n      Yetix.setShowWinterRoute(!this.showWinterRoute);\n    },\n    updateVisibility() {\n      this.layer.setVisible(this.showWinterRoute);\n      this.selectedLayer.setVisible(this.showWinterRoute);\n      if (this.showWinterRoute) {\n        // set legend\n        this.setLegend();\n      } else {\n        Yetix.setWinterRouteLegend(null);\n      }\n    },\n    setLegend() {\n      let legend = [\n        {\n          title: this.$gettext('Winter hiking routes'),\n          image: 'winter-route-icon1.png',\n        },\n        {\n          title: this.$gettext('Tricky sections'),\n          text: this.$gettext(\n            'Some routes feature tricky sections where there is a risk of slipping dangerously (risk of impact or falling from a great height), falling into crevasses, collapsing seracs or drowning after falling through the ice on a mountain lake. To reduce the risk of slipping, it is often advisable to progress on foot, wearing crampons and suitably secured with rope.'\n          ),\n          image: 'winter-route-icon2.png',\n        },\n      ];\n      Yetix.setWinterRouteLegend(legend);\n    },\n    onMapClick(evt) {\n      let url = this.layer.getSource().getFeatureInfoUrl(evt.coordinate, this.view.getResolution(), 'EPSG:3857', {\n        INFO_FORMAT: 'application/json',\n        QUERY_LAYERS: 'yeti:TRACERANDOHIVERNALEFUSION',\n        LAYERS: 'yeti:TRACERANDOHIVERNALEFUSION',\n      });\n      if (url) {\n        fetch(url)\n          .then((response) => response.json())\n          .then((json) => {\n            // if not shift key, first remove all features\n            if (!evt.originalEvent.shiftKey) {\n              Yetix.setWinterRoutes([]);\n            }\n            // then, if new feature\n            this.$nextTick(() => {\n              if (json.features.length) {\n                let features = new ol.format.GeoJSON().readFeatures(json);\n                // getFeatureInfo returns only one\n                let feature = features[0];\n                // feature already there\n                let isSameFeature = false;\n                this.selectedLayer.getSource().forEachFeature((_feature) => {\n                  if (_feature.get('id') === feature.get('id')) {\n                    isSameFeature = true;\n                    // remove if shift key\n                    if (evt.originalEvent.shiftKey) {\n                      this.selectedLayer.getSource().removeFeature(_feature);\n                    }\n                  }\n                });\n                if (!isSameFeature) {\n                  this.selectedLayer.getSource().addFeature(feature);\n                }\n              }\n              // set features\n              let features = this.selectedLayer.getSource().getFeatures();\n              Yetix.setWinterRoutes(features);\n            });\n          });\n      }\n    },\n    onMapLooseClick() {\n      // clear\n      Yetix.setWinterRoutes([]);\n    },\n    onMapPointerMove() {\n      this.map.getTargetElement().style.cursor = 'pointer';\n    },\n    onMapLoosePointerMove() {\n      this.map.getTargetElement().style.cursor = '';\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayer.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <protected-areas-layer @layer=\"onLayer($event, 2)\" />\n    <meteo-layer :visible=\"meteoTab\" />\n    <winter-route-layer @layer=\"onLayer($event, 1)\" />\n    <avalanche-bulletins-layer @layer=\"onLayer($event, 0)\" />\n    <data-avalanche-layer @layer=\"onLayer($event, 3)\" />\n    <ffvl-layer @layer=\"onLayer($event, 7)\" />\n    <flowcapt-layer @layer=\"onLayer($event, 6)\" />\n    <nivoses-layer @layer=\"onLayer($event, 4)\" />\n    <romma-layer @layer=\"onLayer($event, 5)\" />\n    <route-layer />\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport AvalancheBulletinsLayer from '@/components/yeti/map-layers/AvalancheBulletinsLayer.vue';\nimport DataAvalancheLayer from '@/components/yeti/map-layers/DataAvalancheLayer.vue';\nimport FfvlLayer from '@/components/yeti/map-layers/FfvlLayer.vue';\nimport FlowcaptLayer from '@/components/yeti/map-layers/FlowcaptLayer.vue';\nimport MeteoLayer from '@/components/yeti/map-layers/MeteoLayer.vue';\nimport NivosesLayer from '@/components/yeti/map-layers/NivosesLayer.vue';\nimport ProtectedAreasLayer from '@/components/yeti/map-layers/ProtectedAreasLayer.vue';\nimport RommaLayer from '@/components/yeti/map-layers/RommaLayer.vue';\nimport RouteLayer from '@/components/yeti/map-layers/RouteLayer.vue';\nimport WinterRouteLayer from '@/components/yeti/map-layers/WinterRouteLayer.vue';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  components: {\n    AvalancheBulletinsLayer,\n    DataAvalancheLayer,\n    FfvlLayer,\n    FlowcaptLayer,\n    MeteoLayer,\n    NivosesLayer,\n    ProtectedAreasLayer,\n    RommaLayer,\n    RouteLayer,\n    WinterRouteLayer,\n  },\n  mixins: [layerMixin],\n  computed: {\n    editMode() {\n      return Yetix.editMode;\n    },\n    activeTab() {\n      return Yetix.activeTab;\n    },\n    tabs() {\n      return Yetix.tabs;\n    },\n    meteoTab() {\n      return this.tabs[this.activeTab]?.id === 'meteo';\n    },\n  },\n  mounted() {\n    // deal with events\n    // each layer could react to click events, BUT\n    // if layer is on top, it should prevent layers beneath to also react\n\n    // layers, in click order\n    this.layers = this.$children.reverse();\n\n    // add events\n    Yetix.$on('map-click', (evt) => {\n      this.dealWithEventsOnEachLayer(evt, 'onMapClick', 'onMapLooseClick');\n    });\n\n    Yetix.$on('map-pointermove', (evt) => {\n      this.dealWithEventsOnEachLayer(evt, 'onMapPointerMove', 'onMapLoosePointerMove');\n    });\n  },\n  methods: {\n    dealWithEventsOnEachLayer(evt, fnMap, fnMapLoose) {\n      // no event if editMode is on\n      if (this.editMode) {\n        return;\n      }\n      this.layers.every((layer) => {\n        let olLayer = layer.getLayer();\n\n        // go to next layer if this layer is not visible\n        if (!olLayer.getVisible()) {\n          return true;\n        }\n\n        let feature = null;\n\n        if (evt.pixel) {\n          // vector layers\n          feature = this.map.getFeaturesAtPixel(evt.pixel, {\n            layerFilter: function (_layer) {\n              return _layer.get('name') === olLayer.get('name');\n            },\n          })[0];\n\n          // raster layers (or group of raster layers)\n          if (!feature) {\n            let layers = [];\n            if (olLayer instanceof ol.layer.Tile) {\n              layers = [olLayer];\n            }\n            if (olLayer instanceof ol.layer.Group) {\n              layers = [...olLayer.getLayers().getArray()].reverse();\n            }\n            layers.every((layer) => {\n              let data = layer.getData(evt.pixel);\n              if (data && data[3] > 0) {\n                feature = data;\n                return false;\n              }\n              return true;\n            });\n          }\n        }\n\n        if (feature) {\n          if (layer[fnMap]) {\n            layer[fnMap](evt, feature);\n          }\n\n          // say to other layers that event is already captured\n          let otherLayers = this.layers.filter((_layer) => _layer.getLayer().get('name') !== olLayer.get('name'));\n          otherLayers.forEach((layer) => {\n            if (layer[fnMapLoose]) {\n              layer[fnMapLoose]();\n            }\n          });\n\n          // stop iterating layers\n          return false;\n        } else {\n          if (layer[fnMapLoose]) {\n            layer[fnMapLoose]();\n          }\n        }\n\n        // continue to next layer\n        return true;\n      });\n    },\n    onLayer(layer, index) {\n      Yetix.addLayerToOverlaysLayersSelector(layer, index);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./OverlaysLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./OverlaysLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OverlaysLayers.vue?vue&type=template&id=b999d896\"\nimport script from \"./OverlaysLayers.vue?vue&type=script&lang=js\"\nexport * from \"./OverlaysLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('area-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 1)}}}),_vm._v(\" \"),_c('yeti-layer',{on:{\"layer\":function($event){return _vm.onLayer($event, 0)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('base-layers',{on:{\"layers\":_vm.onBaseLayers}}),_vm._v(\" \"),_c('slopes-layers',{on:{\"layers\":_vm.onSlopesLayers}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  watch: {\n    layerSelector: {\n      handler(layer) {\n        this.$emit('layer', layer);\n      },\n      deep: true,\n    },\n  },\n};\n","<template>\n  <div>\n    <base-layers @layers=\"onBaseLayers\"></base-layers>\n    <slopes-layers @layers=\"onSlopesLayers\"></slopes-layers>\n  </div>\n</template>\n<script>\nimport layerMixin from './layer';\nimport layerSelectorWatcherMixin from './layer-selector-watcher';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport BaseLayers from '@/components/yeti/map-layers/BaseLayers';\nimport SlopesLayers from '@/components/yeti/map-layers/SlopesLayers';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  components: {\n    BaseLayers,\n    SlopesLayers,\n  },\n  mixins: [layerMixin, layerSelectorWatcherMixin],\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    areas() {\n      return Yetix.areas;\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Extent'),\n        checked: this.showAreas,\n        action: this.onShowAreas,\n        disabled: {\n          condition: this.mapZoom > Yetix.BLEND_MODES_MAX_ZOOM,\n          title: this.$gettext('Disabled at this zoom level'),\n          message: this.$gettext('Zoom out and it will be OK'),\n        },\n        image: 'yeti-extent.jpg',\n      };\n    },\n  },\n  watch: {\n    showAreas() {\n      this.updateVisibility();\n    },\n  },\n  created() {\n    // layer for outer stroke of areas\n    this.areasStrokeLayer = new ol.layer.VectorImage({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: `rgba(0, 0, 0, 0.2)`,\n            width: 14,\n          }),\n        }),\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: `rgba(0, 0, 0, 0.75)`,\n            width: 1,\n          }),\n        }),\n      ],\n    });\n    // layer for clip\n    // should set className, this forces ol to create another canvas\n    this.areasLayer = new ol.layer.VectorImage({\n      className: Yetix.BLEND_MODES_CLASS_NAME,\n      source: new ol.source.Vector(),\n      style: new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'white',\n        }),\n      }),\n    });\n    // group for c2c layers, clipped\n    this.groupLayer = new ol.layer.Group({\n      layers: [],\n    });\n\n    this.baseLayers = [];\n    this.slopesLayers = [];\n  },\n  mounted() {\n    // add layers\n    this.map.addLayer(this.areasStrokeLayer);\n    this.map.addLayer(this.areasLayer);\n    this.map.addLayer(this.groupLayer);\n\n    // showAreas checked?\n    this.updateVisibility();\n\n    this.$emit('layer', this.layerSelector);\n\n    // only in first mount\n    if (this.areas.length === 0) {\n      // set areas (yeti valid areas)\n      Yetix.fetchAreas().then(this.onAreasResult);\n      // event\n      Yetix.$on('map-moveend', this.onMapMoveEnd);\n    }\n  },\n  methods: {\n    onAreasResult(data) {\n      let areasFeatures = this.getFeaturesFromData(data);\n      let areas = this.getPropertiesFromFeatures(areasFeatures);\n\n      // set areas in state\n      Yetix.setAreas(areas);\n\n      // add features\n      this.areasLayer.getSource().addFeatures(areasFeatures);\n      this.areasStrokeLayer.getSource().addFeatures(areasFeatures);\n\n      // check is area OK\n      this.isAreaOK();\n    },\n    isAreaOK() {\n      let mapExtent = this.getExtent('EPSG:3857');\n\n      let areaOk = true;\n\n      for (let area in this.areas) {\n        let polygon = this.areas[area].geometry;\n        if (polygon.intersectsExtent(mapExtent)) {\n          break;\n        } else {\n          areaOk = false;\n        }\n      }\n      Yetix.setAreaOk(areaOk);\n    },\n    onShowAreas() {\n      Yetix.setShowAreas(!this.showAreas);\n    },\n    updateVisibility() {\n      this.areasLayer.setVisible(this.showAreas);\n      this.groupLayer.setVisible(this.showAreas);\n      this.areasStrokeLayer.setVisible(this.showAreas);\n    },\n    onMapMoveEnd() {\n      // is area OK ?\n      this.isAreaOK();\n    },\n    onBaseLayers(baseLayers) {\n      let layers = baseLayers.map((layer) => {\n        if (layer instanceof ol.layer.Group) {\n          layer\n            .getLayers()\n            .getArray()\n            .forEach((subLayer) => {\n              this.setPrePostRender(subLayer);\n            });\n        } else {\n          this.setPrePostRender(layer);\n        }\n        return layer;\n      });\n      this.baseLayers = layers;\n\n      this.groupLayer.setLayers(new ol.Collection(layers));\n    },\n    onSlopesLayers(slopesLayers) {\n      let layers = slopesLayers.map((layer) => {\n        layer.className_ = Yetix.BLEND_MODES_CLASS_NAME;\n        return layer;\n      });\n      this.slopesLayers = layers;\n\n      let groupLayers = this.groupLayer.getLayers();\n      layers.map((layer) => groupLayers.push(layer));\n      this.groupLayer.setLayers(groupLayers);\n    },\n    setPrePostRender(layer) {\n      layer.className_ = Yetix.BLEND_MODES_CLASS_NAME;\n      layer.on('prerender', (evt) => {\n        // source-atop: means the source (this layer) will only be drawn on actual pixels (area layer)\n        // but only when MAX_ZOOM\n        if (this.mapZoom <= Yetix.BLEND_MODES_MAX_ZOOM) {\n          evt.context.globalCompositeOperation = 'source-atop';\n        }\n      });\n      layer.on('postrender', (evt) => {\n        // source-over: returns to default\n        evt.context.globalCompositeOperation = 'source-over';\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AreaLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./AreaLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AreaLayer.vue?vue&type=template&id=bf54c2be\"\nimport script from \"./AreaLayer.vue?vue&type=script&lang=js\"\nexport * from \"./AreaLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport layerMixin from './layer';\nimport layerSelectorWatcherMixin from './layer-selector-watcher';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nexport default {\n  mixins: [layerMixin, layerSelectorWatcherMixin],\n  computed: {\n    yetiData() {\n      return Yetix.yetiData;\n    },\n    yetiExtent() {\n      return Yetix.yetiExtent;\n    },\n    showAreas() {\n      return Yetix.showAreas;\n    },\n    showYeti() {\n      return Yetix.showYeti;\n    },\n    yetiOk() {\n      return Yetix.yetiOk;\n    },\n    layerSelector() {\n      return {\n        title: this.$gettext('Risk'),\n        checked: this.showYeti,\n        action: this.onShowYeti,\n        disabled: {\n          condition: !this.yetiOk,\n          title: this.$gettext('No risk to show yet'),\n          message: this.$gettext('Compute one for a specific zone from the Risk tab'),\n        },\n        image: 'yeti-risk.jpg',\n        opacity: Yetix.YETI_LAYER_OPACITY,\n        blendModes: true,\n      };\n    },\n    yetiLayersSelector() {\n      return Yetix.yetiLayersSelector;\n    },\n  },\n  watch: {\n    yetiData() {\n      if (!this.yetiData) {\n        this.clearLayers();\n        return;\n      }\n      this.drawImage();\n    },\n    yetiExtent() {\n      this.drawExtent(this.yetiExtent);\n    },\n    showAreas() {\n      // switch classname when showareas updates\n      this.setLayerClassName();\n    },\n    showYeti() {\n      this.layer.setVisible(this.showYeti);\n      this.extentLayer.setVisible(this.showYeti);\n    },\n    yetiLayersSelector: {\n      handler(layers) {\n        this.setLayerOpacity(layers[0].opacity);\n        this.setLayerBlendModes(layers[0].blendModes);\n      },\n      deep: true,\n    },\n  },\n  created() {\n    this.layer = new ol.layer.Image({\n      source: new ol.source.ImageStatic({\n        url: null,\n        imageExtent: ol.extent.createEmpty(),\n      }),\n      opacity: Yetix.YETI_LAYER_OPACITY,\n    });\n    this.extentLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'hsla(30, 100%, 60%, .45)',\n          }),\n        }),\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: 'hsla(30, 100%, 40%, 1)',\n            width: 2,\n          }),\n          geometry: (feature) => {\n            return new ol.geom.Polygon([feature.getGeometry().getCoordinates()[1]]);\n          },\n        }),\n      ],\n    });\n    // blend modes multiply for yeti layer\n    this.layer.on('prerender', (evt) => {\n      evt.context.globalCompositeOperation = 'multiply';\n    });\n    this.layer.on('postrender', (evt) => {\n      evt.context.globalCompositeOperation = 'source-over';\n    });\n  },\n  mounted() {\n    this.map.addLayer(this.layer);\n    this.map.addLayer(this.extentLayer);\n\n    this.setLayerClassName();\n\n    this.$emit('layer', this.layerSelector);\n  },\n  methods: {\n    onShowYeti() {\n      Yetix.setShowYeti(!this.showYeti);\n    },\n    clearLayers() {\n      this.layer.setSource(null);\n\n      this.extentLayer.getSource().clear();\n    },\n    drawExtent(extent) {\n      // extend extent\n      let extentFill = ol.extent.buffer(extent, Math.max(extent[2] - extent[0], extent[3] - extent[1]) / 10);\n      // then, create a donut polygon\n      let feature = new ol.Feature(new ol.geom.Polygon([this.toLinearRing(extentFill), this.toLinearRing(extent)]));\n      // add feature to extentlayer\n      this.extentLayer.getSource().addFeature(feature);\n    },\n    drawImage() {\n      let xml = new DOMParser().parseFromString(this.yetiData, 'application/xml');\n      let imageBase64 = xml.getElementsByTagName('wps:ComplexData')[0].textContent;\n      let imageBbox = xml.getElementsByTagName('wps:ComplexData')[1].textContent;\n      let imageExtent = ol.proj.transformExtent(imageBbox.split(',').map(Number), 'EPSG:4326', 'EPSG:3857');\n\n      this.layer.setSource(\n        new ol.source.ImageStatic({\n          imageLoadFunction(image) {\n            image.getImage().src = 'data:image/png;base64,' + imageBase64;\n          },\n          imageExtent,\n        })\n      );\n      // source is set\n      Yetix.setYetiOk(true);\n      // set yeti legend\n      this.setLegend(xml);\n    },\n    setLegend(xml) {\n      let legend = JSON.parse(xml.getElementsByTagName('wps:ComplexData')[2].textContent);\n      legend.items.forEach((item) => {\n        item.color = `rgb(${item.color[0]}, ${item.color[1]}, ${item.color[2]})`;\n      });\n      // add attribution (each attribution on its own line)\n      this.layer.getSource().setAttributions(legend.attributions);\n      // set legend in yetix\n      Yetix.setYetiLegend(legend);\n    },\n    toLinearRing(extent) {\n      let minX = extent[0];\n      let minY = extent[1];\n      let maxX = extent[2];\n      let maxY = extent[3];\n      return [\n        [minX, minY],\n        [minX, maxY],\n        [maxX, maxY],\n        [maxX, minY],\n        [minX, minY],\n      ];\n    },\n    setLayerClassName() {\n      // it switches classname based on showareas visibility\n      // use same name as areas if showareas, so blend modes will apply to this layer\n      // or use default ol-layer to apply blend modes to whole layers\n      this.layer.className_ = this.showAreas ? Yetix.BLEND_MODES_CLASS_NAME : 'ol-layer';\n    },\n    setLayerOpacity(opacity) {\n      this.layer.setOpacity(opacity);\n    },\n    setLayerBlendModes(isBlend) {\n      this.layer.on('prerender', (evt) => {\n        evt.context.globalCompositeOperation = isBlend ? 'multiply' : 'source-over';\n      });\n      // force re-render\n      this.layer.setOpacity(this.layer.getOpacity() + 0.01);\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayer.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <area-layer @layer=\"onLayer($event, 1)\" />\n    <yeti-layer @layer=\"onLayer($event, 0)\" />\n  </div>\n</template>\n\n<script>\nimport layerMixin from './layer';\n\nimport Yetix from '@/components/yeti/Yetix';\nimport AreaLayer from '@/components/yeti/map-layers/AreaLayer.vue';\nimport YetiLayer from '@/components/yeti/map-layers/YetiLayer.vue';\n\nexport default {\n  components: {\n    AreaLayer,\n    YetiLayer,\n  },\n  mixins: [layerMixin],\n  methods: {\n    onLayer(layer, index) {\n      Yetix.addLayerToYetiLayersSelector(layer, index);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiLayers.vue?vue&type=template&id=a8624d64\"\nimport script from \"./YetiLayers.vue?vue&type=script&lang=js\"\nexport * from \"./YetiLayers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"legend\"},[_c('div',[_c('div',{staticClass:\"legend-button is-pulled-right ol-control\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showLegend = !_vm.showLegend}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Legend\")]),_vm._v(\" \"),(_vm.atLeastOneLegend)?_c('fa-layers',{staticClass:\"icon\"},[_c('fa-icon',{attrs:{\"icon\":\"circle\",\"transform\":\"shrink-2 up-18 left-2\"}}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"icon-notification\",attrs:{\"icon\":\"check-circle\",\"inverse\":\"\",\"transform\":\"shrink-2 up-18 left-2\"}})],1):_vm._e()],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLegend === true),expression:\"showLegend === true\"}],staticClass:\"legend-content\"},[(_vm.atLeastOneLegend)?_c('div',[(_vm.yetiLegend)?_c('yeti-layer-legend',{staticClass:\"legend-item\"}):_vm._e(),_vm._v(\" \"),(_vm.winterRouteLegend)?_c('winter-route-layer-legend',{staticClass:\"legend-item\"}):_vm._e()],1):_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-italic\"},[_vm._v(\"No specific legend to show\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-size-5\"},[_vm._v(\"Winter hiking routes\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.winterRouteLegend),function(item,i){return _c('li',{key:i},[_c('img',{staticClass:\"image\",attrs:{\"src\":require('@/assets/img/yeti/legends/' + item.image)}}),_vm._v(\" \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),(item.text)?_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.text))]):_vm._e()])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"title is-size-5\" v-translate>Winter hiking routes</p>\n    <ul>\n      <li v-for=\"(item, i) of winterRouteLegend\" :key=\"i\">\n        <img class=\"image\" :src=\"require('@/assets/img/yeti/legends/' + item.image)\" />\n        <span class=\"title\">{{ item.title }}</span>\n        <span class=\"text\" v-if=\"item.text\">{{ item.text }}</span>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    winterRouteLegend() {\n      return Yetix.winterRouteLegend;\n    },\n  },\n};\n</script>\n\n<style scoped>\nli {\n  padding: 5px;\n}\n.image {\n  vertical-align: bottom;\n  display: inline-block;\n  margin-right: 5px;\n}\n.title {\n  font-size: 1rem;\n}\n.text {\n  display: block;\n  padding-left: 30px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./WinterRouteLayerLegend.vue?vue&type=template&id=fecaf2ce&scoped=true\"\nimport script from \"./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"\nexport * from \"./WinterRouteLayerLegend.vue?vue&type=script&lang=js\"\nimport style0 from \"./WinterRouteLayerLegend.vue?vue&type=style&index=0&id=fecaf2ce&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fecaf2ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-size-5\"},[_vm._v(\"YETI Risk\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.yetiLegend.items),function(item,i){return _c('li',{key:i},[_c('span',{staticClass:\"color\",style:('background:' + item.color)}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$gettext(item.text['en'])))])])}),0),_vm._v(\" \"),_c('p',{staticClass:\"is-size-6 is-italic\"},[_vm._v(_vm._s(_vm.$gettext(_vm.yetiLegend.comment['en'])))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"title is-size-5\" v-translate>YETI Risk</p>\n    <ul>\n      <li v-for=\"(item, i) of yetiLegend.items\" :key=\"i\">\n        <span class=\"color\" :style=\"'background:' + item.color\" />\n        <!-- $gettext('Risky slopes') -->\n        <!-- $gettext('Risky slopes, increased risk due to orientation') -->\n        <!-- $gettext('Residual risk >1') -->\n        <!-- $gettext('Residual risk >1.3') -->\n        <!-- $gettext('Residual risk >1.5') -->\n        <span>{{ $gettext(item.text['en']) }}</span>\n      </li>\n    </ul>\n    <!-- $gettext('From danger 3, consider the slopes which dominate the route') -->\n    <p class=\"is-size-6 is-italic\">{{ $gettext(yetiLegend.comment['en']) }}</p>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\n\nexport default {\n  computed: {\n    yetiLegend() {\n      return Yetix.yetiLegend;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.color {\n  vertical-align: bottom;\n  display: inline-block;\n  width: 21px;\n  height: 21px;\n  margin-right: 5px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayerLegend.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiLayerLegend.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiLayerLegend.vue?vue&type=template&id=7cfb61a4&scoped=true\"\nimport script from \"./YetiLayerLegend.vue?vue&type=script&lang=js\"\nexport * from \"./YetiLayerLegend.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiLayerLegend.vue?vue&type=style&index=0&id=7cfb61a4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cfb61a4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"legend\">\n      <div>\n        <div class=\"legend-button is-pulled-right ol-control\">\n          <button type=\"button\" @click=\"showLegend = !showLegend\">\n            <span v-translate>Legend</span>\n            <fa-layers class=\"icon\" v-if=\"atLeastOneLegend\">\n              <fa-icon icon=\"circle\" transform=\"shrink-2 up-18 left-2\" />\n              <fa-icon icon=\"check-circle\" inverse transform=\"shrink-2 up-18 left-2\" class=\"icon-notification\" />\n            </fa-layers>\n          </button>\n        </div>\n      </div>\n      <div class=\"legend-content\" v-show=\"showLegend === true\">\n        <div v-if=\"atLeastOneLegend\">\n          <yeti-layer-legend v-if=\"yetiLegend\" class=\"legend-item\"></yeti-layer-legend>\n          <winter-route-layer-legend v-if=\"winterRouteLegend\" class=\"legend-item\"></winter-route-layer-legend>\n        </div>\n        <p class=\"is-italic\" v-else v-translate>No specific legend to show</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Yetix from '@/components/yeti/Yetix';\nimport WinterRouteLayerLegend from '@/components/yeti/map-layers/WinterRouteLayerLegend';\nimport YetiLayerLegend from '@/components/yeti/map-layers/YetiLayerLegend';\n\nexport default {\n  components: {\n    WinterRouteLayerLegend,\n    YetiLayerLegend,\n  },\n  data() {\n    return {\n      showLegend: undefined,\n    };\n  },\n  computed: {\n    yetiLegend() {\n      return Yetix.yetiLegend;\n    },\n    winterRouteLegend() {\n      return Yetix.winterRouteLegend;\n    },\n    atLeastOneLegend() {\n      return this.yetiLegend || this.winterRouteLegend;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables';\n\n.legend {\n  position: absolute;\n  z-index: 6;\n  top: 1.25rem;\n  right: 1.25rem;\n  max-width: 400px;\n\n  .legend-button {\n    position: static;\n\n    button {\n      width: auto;\n      padding: 0 0.5em;\n    }\n  }\n\n  .legend-content {\n    margin-top: 0.5rem;\n    margin-left: 1.25rem;\n    border-radius: 2px;\n    border: 1px solid lightgray;\n    padding: 0.5rem;\n    background: white;\n    clear: both;\n  }\n\n  .legend-item + .legend-item {\n    margin-top: 2rem;\n    padding-top: 1em;\n    border-top: solid 1px $grey-lighter;\n  }\n}\n\n.icon {\n  position: absolute;\n  top: 7px;\n  right: -10px;\n}\n.icon-notification {\n  color: $primary;\n}\n\n@media screen and (max-width: $tablet) {\n  .legend {\n    top: 0.5rem;\n\n    .legend-content {\n      margin-left: 0.5rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMapLegend.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMapLegend.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiMapLegend.vue?vue&type=template&id=7632a1e4&scoped=true\"\nimport script from \"./YetiMapLegend.vue?vue&type=script&lang=js\"\nexport * from \"./YetiMapLegend.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiMapLegend.vue?vue&type=style&index=0&id=7632a1e4&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7632a1e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"column map-container\">\n    <div style=\"width: 100%; height: 100%\">\n      <yeti-map-legend />\n      <div ref=\"map\" style=\"width: 100%; height: 100%\" />\n      <map-layers />\n      <yeti-layers />\n      <overlays-layers />\n\n      <div ref=\"recenterOnControl\" class=\"ol-control ol-control-recenter-on\">\n        <input type=\"text\" :placeholder=\"$gettext('Recenter on...')\" @input=\"searchRecenterPropositions\" />\n      </div>\n\n      <div\n        v-show=\"showRecenterOnPropositions\"\n        ref=\"recenterOnPropositions\"\n        class=\"ol-control ol-control-recenter-on-propositions\"\n      >\n        <ul v-if=\"recenterPropositions && recenterPropositions.data && recenterPropositions.data.features\">\n          <li v-for=\"(item, i) of recenterPropositions.data.features\" :key=\"i\" @click=\"recenterOn(item)\">\n            {{ item.properties.name }},\n            <small>{{ item.properties.state }}, {{ item.properties.country }}</small>\n          </li>\n        </ul>\n      </div>\n\n      <div\n        ref=\"centerOnGeolocation\"\n        :title=\"$gettext('Recenter on your current position')\"\n        class=\"ol-control ol-control-center-on-geolocation\"\n      >\n        <button @click=\"activateCenterOnGeolocation\">\n          <fa-icon icon=\"bullseye\" />\n        </button>\n      </div>\n\n      <div ref=\"editMode\" style=\"height: 0\">\n        <edit-mode-button />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MapLayers from './map-layers/MapLayers.vue';\nimport OverlaysLayers from './map-layers/OverlaysLayers.vue';\nimport YetiLayers from './map-layers/YetiLayers.vue';\n\nimport EditModeButton from '@/components/yeti/EditModeButton';\nimport YetiMapLegend from '@/components/yeti/YetiMapLegend';\nimport Yetix from '@/components/yeti/Yetix';\nimport photon from '@/js/apis/photon';\nimport ol from '@/js/libs/ol';\n\nconst DEFAULT_CENTER = [6.25, 45.15];\nconst DEFAULT_ZOOM = 6;\nconst MAX_ZOOM = 19;\nconst TRACKING_INITIAL_ZOOM = 13;\n\nexport default {\n  name: 'Yeti',\n  components: {\n    EditModeButton,\n    MapLayers,\n    OverlaysLayers,\n    YetiLayers,\n    YetiMapLegend,\n  },\n  data() {\n    return {\n      recenterPropositions: null,\n      showRecenterOnPropositions: false,\n    };\n  },\n  computed: {\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    zoomDelta() {\n      return Yetix.ZOOM_DELTA;\n    },\n  },\n  created() {\n    // build map\n    this.map = new ol.Map({\n      controls: [\n        new ol.control.Zoom({\n          zoomInTipLabel: this.$gettext('Zoom in', 'Map controls'),\n          zoomOutTipLabel: this.$gettext('Zoom out', 'Map controls'),\n        }),\n        new ol.control.ScaleLine(),\n        new ol.control.Attribution({ tipLabel: this.$gettext('Attributions', 'Map controls') }),\n      ],\n\n      view: new ol.View({\n        center: ol.proj.transform(DEFAULT_CENTER, 'EPSG:4326', 'EPSG:3857'),\n        zoom: DEFAULT_ZOOM / this.zoomDelta,\n        maxZoom: MAX_ZOOM / this.zoomDelta,\n        enableRotation: false,\n        constrainResolution: true,\n        zoomFactor: 2 ** this.zoomDelta,\n      }),\n    });\n    this.view = this.map.getView();\n\n    // if already a stored map position\n    if (this.$localStorage.get('yeti-map-position')) {\n      let { center, zoom } = this.$localStorage.get('yeti-map-position');\n      this.view.setCenter(center);\n      this.view.setZoom(zoom / this.zoomDelta);\n    }\n  },\n  mounted() {\n    // when mounted, bind map to element\n    this.map.setTarget(this.$refs.map);\n    // add specific controls\n    let controls = [\n      new ol.control.FullScreen({ source: this.$el, tipLabel: this.$gettext('Toggle full-screen', 'Map Controls') }),\n      new ol.control.Control({ element: this.$refs.editMode }),\n      new ol.control.Control({ element: this.$refs.recenterOnControl }),\n      new ol.control.Control({ element: this.$refs.recenterOnPropositions }),\n      new ol.control.Control({ element: this.$refs.centerOnGeolocation }),\n    ];\n    controls.map((control) => this.map.addControl(control));\n\n    this.geolocation = new ol.Geolocation({\n      trackingOptions: {\n        enableHighAccuracy: true,\n      },\n      projection: this.view.getProjection(),\n    });\n\n    // events\n    this.map.on('moveend', this.onMapMoveEnd);\n    this.map.on('click', this.onMapClick);\n    this.map.on('pointermove', this.onMapPointerMove);\n    this.geolocation.on('change:position', this.setCenterOnGeoLocation);\n  },\n  methods: {\n    getExtent(projection) {\n      let extent = this.view.calculateExtent(this.map.getSize() || null);\n      if (projection) {\n        extent = ol.proj.transformExtent(extent, ol.proj.get('EPSG:3857'), ol.proj.get(projection));\n      }\n      return extent;\n    },\n    searchRecenterPropositions(event) {\n      let query = event.target.value;\n\n      if (query && query.length >= 3) {\n        let center = this.view.getCenter();\n        let centerWgs84 = ol.proj.toLonLat(center);\n\n        this.recenterPropositions = photon.getPropositions(query, this.$language.current, centerWgs84);\n        this.showRecenterOnPropositions = true;\n      }\n    },\n    recenterOn(item) {\n      let feature = new ol.format.GeoJSON().readFeature(item);\n      let extent = feature.get('extent');\n      let coordinates = feature.getGeometry().flatCoordinates;\n\n      if (extent) {\n        extent = ol.proj.transformExtent(extent, 'EPSG:4326', 'EPSG:3857');\n        this.view.fit(extent, { size: this.map.getSize(), maxZoom: 12 / this.zoomDelta });\n      } else {\n        coordinates = ol.proj.transform(coordinates, 'EPSG:4326', 'EPSG:3857');\n        this.view.setCenter(coordinates);\n        this.view.setZoom(16 / this.zoomDelta);\n      }\n\n      this.showRecenterOnPropositions = false;\n    },\n    getMapZoom() {\n      return Math.round(new ol.View().getZoomForResolution(this.map.getView().getResolution()) * 10) / 10;\n    },\n    onMapMoveEnd() {\n      let mapZoom = this.getMapZoom();\n      // emit map zoom, only if zoom changed\n      if (this.mapZoom !== mapZoom) {\n        Yetix.setMapZoom(mapZoom);\n      }\n      // emit an event for map layers\n      Yetix.$emit('map-moveend');\n\n      // store position\n      this.$localStorage.set('yeti-map-position', {\n        center: this.map.getView().getCenter(),\n        zoom: mapZoom,\n      });\n    },\n    onMapClick(evt) {\n      // close controls\n      this.showRecenterOnPropositions = false;\n\n      Yetix.$emit('map-click', evt);\n    },\n    onMapPointerMove(evt) {\n      Yetix.$emit('map-pointermove', evt);\n    },\n    activateCenterOnGeolocation() {\n      this.geolocation.setTracking(true);\n    },\n    setCenterOnGeoLocation() {\n      let position = this.geolocation.getPosition();\n      this.view.setZoom(TRACKING_INITIAL_ZOOM / this.zoomDelta);\n      this.view.setCenter(position);\n      this.geolocation.setTracking(false);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '~ol/ol.css';\n@import '@/assets/sass/variables';\n\n$control-margin: 0.52em;\n\n.ol-control-layer-switcher {\n  bottom: 3em;\n  left: $control-margin;\n  right: $control-margin;\n  max-width: 400px;\n  text-decoration: none;\n  background-color: white;\n  border: 1px solid lightgray;\n  border-radius: 2px;\n  padding: 0 10px 10px 10px;\n  display: flex;\n\n  & > div {\n    flex: 1;\n\n    header {\n      font-weight: bold;\n      padding-top: 10px;\n    }\n  }\n}\n\n.ol-control-layer-switcher-button {\n  bottom: $control-margin;\n  left: $control-margin;\n}\n\n.ol-control-recenter-on {\n  top: $control-margin;\n  left: 3em;\n  background: $white;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2);\n\n  input {\n    width: 14.75rem;\n    border: none;\n    padding: 0.3rem;\n    border-radius: 2px;\n  }\n}\n\n.ol-control-recenter-on-propositions {\n  top: 35px;\n  left: 3em;\n  background: white;\n  border-radius: 2px;\n  border: 1px solid lightgray;\n  padding: 5px;\n\n  li:hover {\n    background: lightgrey;\n    cursor: pointer;\n  }\n}\n\n.ol-control-center-on-geolocation {\n  top: 92px;\n  left: $control-margin;\n}\n\n.map-control-listitem {\n  display: flex;\n}\n.map-control-listitem label {\n  padding-left: 0.25rem;\n}\n\n$section-padding: 1.5rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(\n  100vh - #{$navbar-height} - #{$section-padding} - 2 * #{$box-padding} - #{$header-height} - #{$box-margin} - #{$box-margin}\n);\n\n.map-container {\n  position: relative;\n  padding-left: 0;\n}\n@media screen and (max-width: $tablet) {\n  .map-container {\n    height: $yeti-height;\n    padding-left: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    .map-container {\n      min-height: 100%;\n    }\n  }\n}\n\n.ol-control-edit-mode {\n  top: $control-margin;\n  left: 18.75rem;\n}\n\n@media screen and (max-width: $widescreen) {\n  .ol-control-edit-mode {\n    top: 3rem;\n    left: 3rem;\n  }\n}\n\n.icon-notification {\n  color: $primary;\n}\n</style>\n\n<style lang=\"scss\">\n.yeti-app {\n  .ol-control {\n    background: $white;\n    padding: 2px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2);\n  }\n  .ol-control button {\n    background: $grey-dark;\n    color: $white;\n\n    &:hover,\n    &:focus {\n      background: $grey;\n      outline: none;\n    }\n  }\n  .ol-control > * {\n    line-height: 1;\n  }\n\n  .ol-attribution {\n    max-width: 75%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiMap.vue?vue&type=template&id=11ab7c04&scoped=true\"\nimport script from \"./YetiMap.vue?vue&type=script&lang=js\"\nexport * from \"./YetiMap.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiMap.vue?vue&type=style&index=0&id=11ab7c04&prod&scoped=true&lang=scss\"\nimport style1 from \"./YetiMap.vue?vue&type=style&index=1&id=11ab7c04&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11ab7c04\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- eslint-disable no-irregular-whitespace -->\n  <div>\n    <div class=\"section yeti-app\">\n      <html-header title=\"YETI\" />\n      <div class=\"box yeti-overlay\" v-if=\"showDisclaimer\">\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <form action=\"#\" @submit=\"onSubmitDisclaimer\">\n          <input-checkbox v-model=\"checkDisclaimer\">\n            <span v-translate>I read and understood the interest and limitations of YETI</span>\n          </input-checkbox>\n          <button class=\"button is-primary\" :disabled=\"!checkDisclaimer\" v-translate>Launch YETI</button>\n        </form>\n      </div>\n\n      <div class=\"box yeti-overlay\" v-if=\"$route.params.page === 'faq'\">\n        <p><router-link to=\".\" v-translate>Go back to YETI</router-link></p>\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <yeti-article :article=\"articles.faq\"></yeti-article>\n      </div>\n\n      <div class=\"columns yeti-content\">\n        <div class=\"column is-5-tablet is-5-desktop is-4-fullhd form-container\">\n          <div class=\"columns is-mobile is-justify-content-space-between mb-5\">\n            <div class=\"is-flex is-align-items-center yeti-title\">\n              <h1 class=\"ml-3 mr-1 px-2 has-text-weight-bold has-background-primary has-text-white\">YETI</h1>\n              <p class=\"has-text-primary\">Prparez votre course</p>\n            </div>\n            <ul class=\"column is-narrow pb-0\">\n              <li>\n                <router-link class=\"is-block yetitabs-link\" :to=\"$route.fullPath + '/faq'\" v-translate>\n                  FAQ?\n                </router-link>\n              </li>\n            </ul>\n          </div>\n          <div class=\"columns mb-0 is-mobile\">\n            <tabs :tabs=\"tabs\" />\n          </div>\n          <div class=\"box\">\n            <panel :index=\"0\">\n              <sub-panel-layers />\n            </panel>\n            <panel :index=\"1\">\n              <validation-button\n                class=\"is-hidden-mobile yeti-validation--top\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n                tabindex=\"-1\"\n              />\n              <sub-panel-bra />\n              <sub-panel-methods @warn-about-method-bra=\"warnAboutMethodBra\" />\n              <validation-button\n                v-show=\"method.type\"\n                class=\"yeti-validation--bottom\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n              />\n            </panel>\n\n            <panel :index=\"2\">\n              <sub-panel-course />\n            </panel>\n\n            <panel :index=\"3\">\n              <sub-panel-meteo />\n            </panel>\n          </div>\n\n          <div class=\"box yeti-logos\">\n            <div class=\"columns is-mobile is-vcentered\">\n              <div class=\"column has-text-centered\">\n                <a href=\"http://www.geodata-paris.fr\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-geodataparis.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-geodataparis.avif\" type=\"image/avif\" />\n                    <img src=\"@/assets/img/yeti/logo-geodataparis.jpg\" alt=\"Logo Godata Paris\" loading=\"lazy\" />\n                  </picture>\n                </a>\n              </div>\n              <div class=\"column has-text-centered\">\n                <a href=\"https://www.petzl.com/fondation/fondation-petzl?language=fr\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.avif\" type=\"image/avif\" />\n                    <img\n                      src=\"@/assets/img/yeti/logo-fondation-petzl.jpg\"\n                      alt=\"Logo Fondation Petzl\"\n                      width=\"90\"\n                      loading=\"lazy\"\n                    />\n                  </picture>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <yeti-map ref=\"map\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport YetiArticle from '@/components/yeti/Article';\nimport Panel from '@/components/yeti/Panel';\nimport SubPanelBra from '@/components/yeti/SubPanelBra';\nimport SubPanelCourse from '@/components/yeti/SubPanelCourse';\nimport SubPanelLayers from '@/components/yeti/SubPanelLayers';\nimport SubPanelMeteo from '@/components/yeti/SubPanelMeteo';\nimport SubPanelMethods from '@/components/yeti/SubPanelMethods';\nimport Tabs from '@/components/yeti/Tabs';\nimport ValidationButton from '@/components/yeti/ValidationButton';\nimport YetiMap from '@/components/yeti/YetiMap';\nimport Yetix from '@/components/yeti/Yetix';\nimport ol from '@/js/libs/ol';\n\nconst YETI_URL_BASE =\n  'https://api.ensg.eu/yeti-wps?request=Execute&service=WPS&version=1.0.0&identifier=Yeti&datainputs=';\n\nexport default {\n  name: 'Yeti',\n\n  components: {\n    YetiArticle,\n    Panel,\n    SubPanelBra,\n    SubPanelCourse,\n    SubPanelLayers,\n    SubPanelMeteo,\n    SubPanelMethods,\n    Tabs,\n    ValidationButton,\n    YetiMap,\n  },\n\n  data() {\n    return {\n      showDisclaimer: false,\n      checkDisclaimer: false,\n\n      articles: {\n        faq: {\n          id: 1257569,\n          title: 'FAQ',\n        },\n        disclaimer: {\n          id: 1257571,\n          title: this.$gettext('Disclaimer'),\n        },\n      },\n\n      formError: undefined,\n      currentError: undefined,\n\n      promise: null,\n    };\n  },\n\n  computed: {\n    validMinimumMapZoom() {\n      return Yetix.VALID_MINIMUM_MAP_ZOOM;\n    },\n    dangerMaxWhenMrd() {\n      return Yetix.DANGER_MAX_WHEN_MRD;\n    },\n    bra() {\n      return Yetix.bra;\n    },\n    method() {\n      return Yetix.method;\n    },\n    mapZoom() {\n      return Yetix.mapZoom;\n    },\n    areaOk() {\n      return Yetix.areaOk;\n    },\n    hasFeatures() {\n      return Yetix.hasFeatures;\n    },\n    featuresLength() {\n      return Yetix.features.length;\n    },\n    validSimplifyTolerance() {\n      return Yetix.validSimplifyTolerance;\n    },\n    tabs() {\n      return Yetix.tabs;\n    },\n    errors() {\n      return {\n        area: {\n          simple: this.$gettext('Area not covered'),\n          full: this.$gettext(\n            'Current map view is not covered by YETI. Only french mountains are as of now (determined by a dashed stroke).'\n          ),\n        },\n        method: {\n          simple: this.$gettext('Missing method'),\n          full: this.$gettext('Please select a method before computing.'),\n        },\n        method_bra: {\n          simple: this.$gettext('Conflicting method and danger'),\n          full: this.$gettext(\n            'The MRD method (beginner) is allowed when danger is 3 maximum. Choose another method: MRE or MRP.'\n          ),\n        },\n        bra: {\n          simple: this.$gettext('Missing danger level'),\n          full: this.$gettext('Please set danger level as specified on avalanche bulletin for the specific area.'),\n        },\n        altitude: {\n          simple: this.$gettext('Missing altitude'),\n          full: this.$gettext(\n            'Altitude is mandatory when danger high and low are different. Please set altitude as specified on avalanche bulletin for the specific area.'\n          ),\n        },\n        zoom: {\n          simple: this.$gettext('Area too large'),\n          full: this.$gettext('Current map view is too large. Please zoom to level') + ' ' + this.validMinimumMapZoom,\n        },\n        ok: this.$gettext('Seems fine! :)'),\n        yeti: this.$gettext('Service is inactive right now'),\n        yeti_prefix: 'YETI Service: ',\n        yeti_unauthorized: this.$gettext(\n          'You have to be authorized. Please contact administrators of the service if interested.'\n        ),\n      };\n    },\n    mrdIsNotApplicable() {\n      return this.isBraMax && this.method.type === 'mrd';\n    },\n    isBraMax() {\n      return this.bra.high > this.dangerMaxWhenMrd || this.bra.low > this.dangerMaxWhenMrd;\n    },\n    isValidMapZoom() {\n      return this.mapZoom >= this.validMinimumMapZoom;\n    },\n  },\n\n  watch: {\n    'bra.low': 'check',\n    'bra.altiThreshold': 'check',\n    'bra.isDifferent': 'check',\n    'method.type': 'check',\n    'method.potentialDanger': 'check',\n    mapZoom: 'check',\n    areaOk: 'check',\n  },\n\n  created() {\n    // show disclaimer if not already validated\n    if (!this.$localStorage.get('yeti-disclaimer')) {\n      this.showDisclaimer = true;\n    }\n    // tmp: set default values for persistent state\n    Yetix.setDefault();\n    // remove all previous events (navigating from other c2c pages)\n    Yetix.$off();\n\n    // build tabs\n    let tabs = this.setTabs();\n    Yetix.setTabs(tabs);\n  },\n\n  mounted() {\n    this.check();\n  },\n\n  methods: {\n    setTabs() {\n      let tabs = [];\n\n      // layer tab\n      let tabLayer = {\n        id: 'layer',\n        icon: 'layer-group',\n        title: this.$gettext('Layers'),\n      };\n      tabs.push(tabLayer);\n\n      // risk tab\n      let tabRisk = {\n        id: 'risk',\n        name: this.$gettext('Risk'),\n        icon: 'bolt',\n      };\n      tabs.push(tabRisk);\n\n      // route tab\n      let tabRoute = {\n        id: 'route',\n        name: this.$gettext('My outing'),\n        icon: 'route',\n      };\n      if (this.hasFeatures && !this.validSimplifyTolerance) {\n        tabRoute.counter = {\n          text: this.featuresLength,\n          title: this.$gettext('Route on map'),\n        };\n      }\n      if (this.validSimplifyTolerance) {\n        tabRoute.problemIcon = {\n          title: this.$gettext('Not simplified yet'),\n        };\n      }\n      tabs.push(tabRoute);\n\n      // meteo tab\n      let tabMeteo = {\n        id: 'meteo',\n        name: this.$gettext('Meteo'),\n        icon: 'sun',\n      };\n      tabs.push(tabMeteo);\n\n      return tabs;\n    },\n    check() {\n      if (!this.areaOk) {\n        this.formError = 'area';\n      } else if (!this.isValidMapZoom) {\n        this.formError = 'zoom';\n      } else if (!this.bra.high) {\n        this.formError = 'bra';\n      } else if (this.bra.low && this.bra.high !== this.bra.low && !this.bra.altiThreshold) {\n        this.formError = 'altitude';\n      } else if (!this.method.type) {\n        this.formError = 'method';\n      } else if (this.mrdIsNotApplicable) {\n        this.formError = 'method_bra';\n      } else if (this.bra.isDifferent && (!this.bra.low || !this.bra.high)) {\n        this.formError = 'bra';\n      } else {\n        this.formError = null;\n      }\n      // also\n      // verif if bra = 4, method MRD forbidden\n      if (this.mrdIsNotApplicable) {\n        this.method.type = null;\n      }\n\n      // then set errors\n      this.setCurrentError();\n    },\n\n    warnAboutMethodBra(item) {\n      if (item === 'mrd' && this.isBraMax) {\n        window.alert(this.errors.method_bra.full);\n      }\n    },\n\n    setCurrentError() {\n      if (this.formError) {\n        this.currentError = this.errors[this.formError]['simple'];\n        if (this.formError === 'zoom') {\n          this.currentError +=\n            ' (' +\n            this.$gettext('current zoom:') +\n            ' ' +\n            this.mapZoom +\n            ' ' +\n            this.$gettext('on') +\n            ' ' +\n            this.validMinimumMapZoom +\n            ')';\n        }\n      } else {\n        this.currentError = this.errors['ok'];\n      }\n    },\n\n    compute() {\n      if (this.formError) {\n        window.alert(this.errors[this.formError]['full']);\n        return;\n      }\n\n      const extent = this.$refs.map.getExtent('EPSG:3857');\n      const extendedExtent = this.extendExtent(extent);\n\n      const yetiUrl = this.getYetiUrl(extendedExtent);\n\n      // first, set data to null (will remove last one)\n      Yetix.setYetiData(null);\n\n      // fetch img\n      this.promise = axios\n        .get(yetiUrl)\n        .then((result) => this.onYetiResult(result, extendedExtent))\n        .catch(this.onYetiError);\n    },\n\n    extendExtent(extent) {\n      const extendedFactor = Math.min(0.5, (this.mapZoom - this.validMinimumMapZoom) / 6);\n      const extendedValue = Math.max(extent[2] - extent[0], extent[3] - extent[1]) * extendedFactor;\n      return ol.extent.buffer(extent, extendedValue);\n    },\n\n    onYetiResult(result, extendedExtent) {\n      Yetix.setYetiData(result.data);\n      Yetix.setYetiExtent(extendedExtent);\n\n      this.promise = null;\n    },\n\n    onYetiError(err) {\n      this.promise = null;\n\n      let errorText = this.errors['yeti'];\n\n      if (err.response.status === 400) {\n        const xml = new DOMParser().parseFromString(err.response.data, 'text/xml');\n        errorText = [...xml.getElementsByTagName('ExceptionText')].map((_) => _.textContent).join(' ');\n      }\n\n      if (err.response.status === 403) {\n        errorText = this.errors['yeti_unauthorized'];\n      }\n\n      window.alert(this.errors['yeti_prefix'] + errorText);\n    },\n\n    getYetiUrl(extent) {\n      // project extent\n      const bbox = ol.proj.transformExtent(extent, 'EPSG:3857', 'EPSG:4326');\n\n      // set bra.low / altiThreshold\n      const braLow = this.bra.isDifferent ? this.bra.low : this.bra.high;\n      const braAltiThreshold = this.bra.isDifferent ? this.bra.altiThreshold : 0;\n\n      // mre\n      const compass =\n        this.method.type === 'mre' && this.method.orientation.length !== 0\n          ? 'none,' + this.method.orientation.join(',').toLowerCase()\n          : 'none';\n\n      // mrp\n      const potentialDanger = this.method.type === 'mrp' ? this.method.potentialDanger : 0;\n      const wetSnow = this.method.type === 'mrp' ? this.method.wetSnow : false;\n      const groupSize = this.method.type === 'mrp' ? Math.floor(this.method.groupSize) : 0;\n\n      // create url\n      let result = YETI_URL_BASE;\n      result += `methode=${this.method.type};`;\n      result += `bbox=${bbox[0]},${bbox[1]},${bbox[2]},${bbox[3]};`;\n      result += `risque_haut=${this.bra.high};`;\n      result += `risque_bas=${braLow};`;\n      result += `seuil_alti=${braAltiThreshold}`;\n\n      // specific parameters based on method\n      if (this.method.type === 'mre') {\n        result += `;rdv=${compass}`;\n      } else if (this.method.type === 'mrp') {\n        result += `;potentiel_danger=${potentialDanger};`;\n        result += `neige_mouillee=${wetSnow};`;\n        result += `taille_groupe=${groupSize}`;\n      }\n\n      return result;\n    },\n\n    onSubmitDisclaimer() {\n      this.showDisclaimer = false;\n      this.$localStorage.set('yeti-disclaimer', 'validated');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$section-padding: 0.75rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(100vh - #{$navbar-height});\n$yeti-height-ad: calc(100vh - #{$navbarad-height});\n\n.yeti-app {\n  position: relative;\n  padding: $section-padding;\n}\n\n.yeti-icon {\n  transform: scale(0.9);\n}\n\n.yeti-title {\n  margin-top: calc(0.75rem + 2px);\n}\n\n@media screen and (max-width: $tablet) {\n  .mobile-result-map {\n    margin-top: 0;\n    height: $yeti-height;\n\n    .documents-container {\n      display: None;\n    }\n  }\n\n  .mobile-result-card {\n    .map-container {\n      visibility: hidden; // map does not like to be in a display none...\n    }\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    height: $yeti-height;\n\n    .form-container {\n      max-width: 450px;\n      height: calc(100% - 0.75rem);\n      overflow: auto;\n    }\n  }\n}\n\n@media screen and (min-width: $widescreen) {\n  .yeti-content {\n    height: $yeti-height-ad;\n  }\n}\n\n.yeti-validation--top {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  width: 55%;\n  z-index: 1;\n}\n\n.yeti-validation--bottom {\n  margin-top: 1rem;\n}\n\n.yeti-logos {\n  box-shadow: none;\n  background: none;\n  mix-blend-mode: multiply;\n}\n\n.yeti-overlay {\n  position: absolute;\n  z-index: 10;\n  top: 0.75rem;\n  right: 0;\n  left: 0;\n  min-height: 100%;\n\n  & ~ .yeti-content {\n    visibility: hidden;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n/* Not scoped styles */\n.yeti-app {\n  .input-orientation {\n    width: 120px;\n    height: 120px;\n  }\n\n  /* a11y of forms */\n  *:focus-visible {\n    scroll-margin: 100px;\n  }\n  .is-checkradio[type='checkbox'],\n  .is-checkradio[type='radio'] {\n    display: block;\n    clip: rect(0, 0, 0, 0);\n  }\n  .is-checkradio[type='radio'].is-primary:focus-visible + label::before,\n  .is-checkradio[type='checkbox'].is-primary:focus-visible + label::before {\n    border-color: $primary;\n  }\n  .is-checkradio[type='radio'].is-primary:focus + label::before,\n  .is-checkradio[type='checkbox'].is-primary:focus + label::before {\n    outline: none;\n  }\n\n  /* customization of forms */\n  .select select,\n  .input {\n    border: none;\n    box-shadow: 0 0 0 1px $grey-lighter;\n  }\n  .select select:hover,\n  .select select:focus,\n  .input:hover,\n  .input:focus {\n    box-shadow: 0 0 0 2px $primary;\n  }\n  .is-checkradio[type='checkbox'] + label::after {\n    border-right-width: 3px;\n    border-bottom-width: 3px;\n    border-color: white !important;\n    /* decimal rem = integer pixels */\n    /* 0.357 = 5px, 0.429 = 6px, 0.571 = 8px, 0.714 = 10px */\n    width: 0.429rem !important;\n    height: 0.714rem !important;\n    top: 0.357rem !important;\n    left: 0.571rem !important;\n    transform: rotate(45deg) scale(0);\n  }\n  .is-checkradio[type='checkbox']:checked + label::after {\n    transform: rotate(45deg) scale(1);\n    border-color: white !important;\n  }\n  .is-checkradio[type='radio'] + label::after {\n    width: 0.5rem !important;\n    height: 0.5rem !important;\n    top: 0.5rem !important;\n    left: 0.5rem !important;\n    transform: scale(0);\n  }\n  .is-checkradio[type='radio']:checked + label::after {\n    transform: scale(1);\n    background-color: white !important;\n  }\n  .is-checkradio[type='checkbox']:checked + label::before,\n  .is-checkradio[type='radio']:checked + label::before {\n    background: $primary;\n    border-color: $primary !important;\n  }\n  .is-checkradio:hover:not([disabled]) + label::before,\n  .is-checkradio:focus + label::before {\n    border-width: 2px;\n  }\n  .is-checkradio:focus-visible + label::before {\n    box-shadow: 0 0 0 2px $secondary;\n  }\n\n  .button.is-small {\n    border-radius: 4px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./YetiView.vue?vue&type=template&id=1cd0cfc2&scoped=true\"\nimport script from \"./YetiView.vue?vue&type=script&lang=js\"\nexport * from \"./YetiView.vue?vue&type=script&lang=js\"\nimport style0 from \"./YetiView.vue?vue&type=style&index=0&id=1cd0cfc2&prod&scoped=true&lang=scss\"\nimport style1 from \"./YetiView.vue?vue&type=style&index=1&id=1cd0cfc2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cd0cfc2\",\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./at.jpg\": 36604,\n\t\"./atortho.jpg\": 42204,\n\t\"./avalanche.jpg\": 28944,\n\t\"./data-avalanche.png\": 14099,\n\t\"./esri.jpg\": 4848,\n\t\"./ffvl.png\": 53093,\n\t\"./flowcapt.png\": 4035,\n\t\"./icgc.jpg\": 82737,\n\t\"./icgcortho.jpg\": 35107,\n\t\"./ign.jpg\": 37485,\n\t\"./ignes.jpg\": 98005,\n\t\"./ignesortho.jpg\": 30439,\n\t\"./ignortho.jpg\": 46143,\n\t\"./ignslopes.jpg\": 35973,\n\t\"./nivose.png\": 39181,\n\t\"./opentopomap.jpg\": 98625,\n\t\"./protected-areas.jpg\": 62536,\n\t\"./romma.png\": 69803,\n\t\"./swisstopo.jpg\": 14258,\n\t\"./swisstopoortho.jpg\": 96914,\n\t\"./swisstoposlopes.jpg\": 96386,\n\t\"./winter-route.png\": 52372,\n\t\"./yeti-extent.jpg\": 13027,\n\t\"./yeti-risk.jpg\": 57662\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 13127;","var map = {\n\t\"./winter-route-icon1.png\": 25065,\n\t\"./winter-route-icon2.png\": 59922\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 94953;","'use strict';\nmodule.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\n\nvar nativeErrorToString = Error.prototype.toString;\n\nvar INCORRECT_TO_STRING = fails(function () {\n  if (DESCRIPTORS) {\n    // Chrome 32- incorrectly call accessor\n    // eslint-disable-next-line es/no-object-create, es/no-object-defineproperty -- safe\n    var object = Object.create(Object.defineProperty({}, 'name', { get: function () {\n      return this === object;\n    } }));\n    if (nativeErrorToString.call(object) !== 'true') return true;\n  }\n  // FF10- does not properly handle non-strings\n  return nativeErrorToString.call({ message: 1, name: 2 }) !== '2: 1'\n    // IE8 does not properly handle defaults\n    || nativeErrorToString.call({}) !== 'Error';\n});\n\nmodule.exports = INCORRECT_TO_STRING ? function toString() {\n  var O = anObject(this);\n  var name = normalizeStringArgument(O.name, 'Error');\n  var message = normalizeStringArgument(O.message);\n  return !name ? message : !message ? name : name + ': ' + message;\n} : nativeErrorToString;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// eslint-disable-next-line es/no-map -- safe\nvar MapPrototype = Map.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-map -- safe\n  Map: Map,\n  set: uncurryThis(MapPrototype.set),\n  get: uncurryThis(MapPrototype.get),\n  has: uncurryThis(MapPrototype.has),\n  remove: uncurryThis(MapPrototype['delete']),\n  proto: MapPrototype\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar installErrorCause = require('../internals/install-error-cause');\nvar installErrorStack = require('../internals/error-stack-install');\nvar iterate = require('../internals/iterate');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Error = Error;\nvar push = [].push;\n\nvar $AggregateError = function AggregateError(errors, message /* , options */) {\n  var isInstance = isPrototypeOf(AggregateErrorPrototype, this);\n  var that;\n  if (setPrototypeOf) {\n    that = setPrototypeOf(new $Error(), isInstance ? getPrototypeOf(this) : AggregateErrorPrototype);\n  } else {\n    that = isInstance ? this : create(AggregateErrorPrototype);\n    createNonEnumerableProperty(that, TO_STRING_TAG, 'Error');\n  }\n  if (message !== undefined) createNonEnumerableProperty(that, 'message', normalizeStringArgument(message));\n  installErrorStack(that, $AggregateError, that.stack, 1);\n  if (arguments.length > 2) installErrorCause(that, arguments[2]);\n  var errorsArray = [];\n  iterate(errors, push, { that: errorsArray });\n  createNonEnumerableProperty(that, 'errors', errorsArray);\n  return that;\n};\n\nif (setPrototypeOf) setPrototypeOf($AggregateError, $Error);\nelse copyConstructorProperties($AggregateError, $Error, { name: true });\n\nvar AggregateErrorPrototype = $AggregateError.prototype = create($Error.prototype, {\n  constructor: createPropertyDescriptor(1, $AggregateError),\n  message: createPropertyDescriptor(1, ''),\n  name: createPropertyDescriptor(1, 'AggregateError')\n});\n\n// `AggregateError` constructor\n// https://tc39.es/ecma262/#sec-aggregate-error-constructor\n$({ global: true, constructor: true, arity: 2 }, {\n  AggregateError: $AggregateError\n});\n","'use strict';\n// TODO: Remove this module from `core-js@4` since it's replaced to module below\nrequire('../modules/es.aggregate-error.constructor');\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar getBuiltIn = require('../internals/get-built-in');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\nvar PROMISE_STATICS_INCORRECT_ITERATION = require('../internals/promise-statics-incorrect-iteration');\n\nvar PROMISE_ANY_ERROR = 'No one promise resolved';\n\n// `Promise.any` method\n// https://tc39.es/ecma262/#sec-promise.any\n$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {\n  any: function any(iterable) {\n    var C = this;\n    var AggregateError = getBuiltIn('AggregateError');\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aCallable(C.resolve);\n      var errors = [];\n      var counter = 0;\n      var remaining = 1;\n      var alreadyResolved = false;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyRejected = false;\n        remaining++;\n        call(promiseResolve, C, promise).then(function (value) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyResolved = true;\n          resolve(value);\n        }, function (error) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyRejected = true;\n          errors[index] = error;\n          --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));\n        });\n      });\n      --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar isRegExp = require('../internals/is-regexp');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar getSubstitution = require('../internals/get-substitution');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar $TypeError = TypeError;\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar max = Math.max;\n\n// `String.prototype.replaceAll` method\n// https://tc39.es/ecma262/#sec-string.prototype.replaceall\n$({ target: 'String', proto: true }, {\n  replaceAll: function replaceAll(searchValue, replaceValue) {\n    var O = requireObjectCoercible(this);\n    var IS_REG_EXP, flags, replacer, string, searchString, functionalReplace, searchLength, advanceBy, position, replacement;\n    var endOfLastMatch = 0;\n    var result = '';\n    if (isObject(searchValue)) {\n      IS_REG_EXP = isRegExp(searchValue);\n      if (IS_REG_EXP) {\n        flags = toString(requireObjectCoercible(getRegExpFlags(searchValue)));\n        if (!~indexOf(flags, 'g')) throw new $TypeError('`.replaceAll` does not allow non-global regexes');\n      }\n      replacer = getMethod(searchValue, REPLACE);\n      if (replacer) return call(replacer, searchValue, O, replaceValue);\n      if (IS_PURE && IS_REG_EXP) return replace(toString(O), searchValue, replaceValue);\n    }\n    string = toString(O);\n    searchString = toString(searchValue);\n    functionalReplace = isCallable(replaceValue);\n    if (!functionalReplace) replaceValue = toString(replaceValue);\n    searchLength = searchString.length;\n    advanceBy = max(1, searchLength);\n    position = indexOf(string, searchString);\n    while (position !== -1) {\n      replacement = functionalReplace\n        ? toString(replaceValue(searchString, position, string))\n        : getSubstitution(searchString, string, position, [], undefined, replaceValue);\n      result += stringSlice(string, endOfLastMatch, position) + replacement;\n      endOfLastMatch = position + searchLength;\n      position = position + advanceBy > string.length ? -1 : indexOf(string, searchString, position + advanceBy);\n    }\n    if (endOfLastMatch < string.length) {\n      result += stringSlice(string, endOfLastMatch);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar getBuiltInNodeModule = require('../internals/get-built-in-node-module');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar anObject = require('../internals/an-object');\nvar errorToString = require('../internals/error-to-string');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar InternalStateModule = require('../internals/internal-state');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar DATA_CLONE_ERR = 'DATA_CLONE_ERR';\nvar Error = getBuiltIn('Error');\n// NodeJS < 17.0 does not expose `DOMException` to global\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION) || (function () {\n  try {\n    // NodeJS < 15.0 does not expose `MessageChannel` to global\n    var MessageChannel = getBuiltIn('MessageChannel') || getBuiltInNodeModule('worker_threads').MessageChannel;\n    // eslint-disable-next-line es/no-weak-map, unicorn/require-post-message-target-origin -- safe\n    new MessageChannel().port1.postMessage(new WeakMap());\n  } catch (error) {\n    if (error.name === DATA_CLONE_ERR && error.code === 25) return error.constructor;\n  }\n})();\nvar NativeDOMExceptionPrototype = NativeDOMException && NativeDOMException.prototype;\nvar ErrorPrototype = Error.prototype;\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(DOM_EXCEPTION);\nvar HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\n\nvar codeFor = function (name) {\n  return hasOwn(DOMExceptionConstants, name) && DOMExceptionConstants[name].m ? DOMExceptionConstants[name].c : 0;\n};\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var code = codeFor(name);\n  setInternalState(this, {\n    type: DOM_EXCEPTION,\n    name: name,\n    message: message,\n    code: code\n  });\n  if (!DESCRIPTORS) {\n    this.name = name;\n    this.message = message;\n    this.code = code;\n  }\n  if (HAS_STACK) {\n    var error = new Error(message);\n    error.name = DOM_EXCEPTION;\n    defineProperty(this, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  }\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = create(ErrorPrototype);\n\nvar createGetterDescriptor = function (get) {\n  return { enumerable: true, configurable: true, get: get };\n};\n\nvar getterFor = function (key) {\n  return createGetterDescriptor(function () {\n    return getInternalState(this)[key];\n  });\n};\n\nif (DESCRIPTORS) {\n  // `DOMException.prototype.code` getter\n  defineBuiltInAccessor(DOMExceptionPrototype, 'code', getterFor('code'));\n  // `DOMException.prototype.message` getter\n  defineBuiltInAccessor(DOMExceptionPrototype, 'message', getterFor('message'));\n  // `DOMException.prototype.name` getter\n  defineBuiltInAccessor(DOMExceptionPrototype, 'name', getterFor('name'));\n}\n\ndefineProperty(DOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, $DOMException));\n\n// FF36- DOMException is a function, but can't be constructed\nvar INCORRECT_CONSTRUCTOR = fails(function () {\n  return !(new NativeDOMException() instanceof Error);\n});\n\n// Safari 10.1 / Chrome 32- / IE8- DOMException.prototype.toString bugs\nvar INCORRECT_TO_STRING = INCORRECT_CONSTRUCTOR || fails(function () {\n  return ErrorPrototype.toString !== errorToString || String(new NativeDOMException(1, 2)) !== '2: 1';\n});\n\n// Deno 1.6.3- DOMException.prototype.code just missed\nvar INCORRECT_CODE = INCORRECT_CONSTRUCTOR || fails(function () {\n  return new NativeDOMException(1, 'DataCloneError').code !== 25;\n});\n\n// Deno 1.6.3- DOMException constants just missed\nvar MISSED_CONSTANTS = INCORRECT_CONSTRUCTOR\n  || NativeDOMException[DATA_CLONE_ERR] !== 25\n  || NativeDOMExceptionPrototype[DATA_CLONE_ERR] !== 25;\n\nvar FORCED_CONSTRUCTOR = IS_PURE ? INCORRECT_TO_STRING || INCORRECT_CODE || MISSED_CONSTANTS : INCORRECT_CONSTRUCTOR;\n\n// `DOMException` constructor\n// https://webidl.spec.whatwg.org/#idl-DOMException\n$({ global: true, constructor: true, forced: FORCED_CONSTRUCTOR }, {\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (INCORRECT_TO_STRING && (IS_PURE || NativeDOMException === PolyfilledDOMException)) {\n  defineBuiltIn(PolyfilledDOMExceptionPrototype, 'toString', errorToString);\n}\n\nif (INCORRECT_CODE && DESCRIPTORS && NativeDOMException === PolyfilledDOMException) {\n  defineBuiltInAccessor(PolyfilledDOMExceptionPrototype, 'code', createGetterDescriptor(function () {\n    return codeFor(anObject(this).name);\n  }));\n}\n\n// `DOMException` constants\nfor (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n  var constant = DOMExceptionConstants[key];\n  var constantName = constant.s;\n  var descriptor = createPropertyDescriptor(6, constant.c);\n  if (!hasOwn(PolyfilledDOMException, constantName)) {\n    defineProperty(PolyfilledDOMException, constantName, descriptor);\n  }\n  if (!hasOwn(PolyfilledDOMExceptionPrototype, constantName)) {\n    defineProperty(PolyfilledDOMExceptionPrototype, constantName, descriptor);\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = new Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(globalThis, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\nvar DOM_EXCEPTION = 'DOMException';\n\n// `DOMException.prototype[@@toStringTag]` property\nsetToStringTag(getBuiltIn(DOM_EXCEPTION), DOM_EXCEPTION);\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar uid = require('../internals/uid');\nvar isCallable = require('../internals/is-callable');\nvar isConstructor = require('../internals/is-constructor');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar iterate = require('../internals/iterate');\nvar anObject = require('../internals/an-object');\nvar classof = require('../internals/classof');\nvar hasOwn = require('../internals/has-own-property');\nvar createProperty = require('../internals/create-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar MapHelpers = require('../internals/map-helpers');\nvar SetHelpers = require('../internals/set-helpers');\nvar setIterate = require('../internals/set-iterate');\nvar detachTransferable = require('../internals/detach-transferable');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar PROPER_STRUCTURED_CLONE_TRANSFER = require('../internals/structured-clone-proper-transfer');\n\nvar Object = globalThis.Object;\nvar Array = globalThis.Array;\nvar Date = globalThis.Date;\nvar Error = globalThis.Error;\nvar TypeError = globalThis.TypeError;\nvar PerformanceMark = globalThis.PerformanceMark;\nvar DOMException = getBuiltIn('DOMException');\nvar Map = MapHelpers.Map;\nvar mapHas = MapHelpers.has;\nvar mapGet = MapHelpers.get;\nvar mapSet = MapHelpers.set;\nvar Set = SetHelpers.Set;\nvar setAdd = SetHelpers.add;\nvar setHas = SetHelpers.has;\nvar objectKeys = getBuiltIn('Object', 'keys');\nvar push = uncurryThis([].push);\nvar thisBooleanValue = uncurryThis(true.valueOf);\nvar thisNumberValue = uncurryThis(1.1.valueOf);\nvar thisStringValue = uncurryThis(''.valueOf);\nvar thisTimeValue = uncurryThis(Date.prototype.getTime);\nvar PERFORMANCE_MARK = uid('structuredClone');\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar TRANSFERRING = 'Transferring';\n\nvar checkBasicSemantic = function (structuredCloneImplementation) {\n  return !fails(function () {\n    var set1 = new globalThis.Set([7]);\n    var set2 = structuredCloneImplementation(set1);\n    var number = structuredCloneImplementation(Object(7));\n    return set2 === set1 || !set2.has(7) || !isObject(number) || +number !== 7;\n  }) && structuredCloneImplementation;\n};\n\nvar checkErrorsCloning = function (structuredCloneImplementation, $Error) {\n  return !fails(function () {\n    var error = new $Error();\n    var test = structuredCloneImplementation({ a: error, b: error });\n    return !(test && test.a === test.b && test.a instanceof $Error && test.a.stack === error.stack);\n  });\n};\n\n// https://github.com/whatwg/html/pull/5749\nvar checkNewErrorsCloningSemantic = function (structuredCloneImplementation) {\n  return !fails(function () {\n    var test = structuredCloneImplementation(new globalThis.AggregateError([1], PERFORMANCE_MARK, { cause: 3 }));\n    return test.name !== 'AggregateError' || test.errors[0] !== 1 || test.message !== PERFORMANCE_MARK || test.cause !== 3;\n  });\n};\n\n// FF94+, Safari 15.4+, Chrome 98+, NodeJS 17.0+, Deno 1.13+\n// FF<103 and Safari implementations can't clone errors\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1556604\n// FF103 can clone errors, but `.stack` of clone is an empty string\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1778762\n// FF104+ fixed it on usual errors, but not on DOMExceptions\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1777321\n// Chrome <102 returns `null` if cloned object contains multiple references to one error\n// https://bugs.chromium.org/p/v8/issues/detail?id=12542\n// NodeJS implementation can't clone DOMExceptions\n// https://github.com/nodejs/node/issues/41038\n// only FF103+ supports new (html/5749) error cloning semantic\nvar nativeStructuredClone = globalThis.structuredClone;\n\nvar FORCED_REPLACEMENT = IS_PURE\n  || !checkErrorsCloning(nativeStructuredClone, Error)\n  || !checkErrorsCloning(nativeStructuredClone, DOMException)\n  || !checkNewErrorsCloningSemantic(nativeStructuredClone);\n\n// Chrome 82+, Safari 14.1+, Deno 1.11+\n// Chrome 78-81 implementation swaps `.name` and `.message` of cloned `DOMException`\n// Chrome returns `null` if cloned object contains multiple references to one error\n// Safari 14.1 implementation doesn't clone some `RegExp` flags, so requires a workaround\n// Safari implementation can't clone errors\n// Deno 1.2-1.10 implementations too naive\n// NodeJS 16.0+ does not have `PerformanceMark` constructor\n// NodeJS <17.2 structured cloning implementation from `performance.mark` is too naive\n// and can't clone, for example, `RegExp` or some boxed primitives\n// https://github.com/nodejs/node/issues/40840\n// no one of those implementations supports new (html/5749) error cloning semantic\nvar structuredCloneFromMark = !nativeStructuredClone && checkBasicSemantic(function (value) {\n  return new PerformanceMark(PERFORMANCE_MARK, { detail: value }).detail;\n});\n\nvar nativeRestrictedStructuredClone = checkBasicSemantic(nativeStructuredClone) || structuredCloneFromMark;\n\nvar throwUncloneable = function (type) {\n  throw new DOMException('Uncloneable type: ' + type, DATA_CLONE_ERROR);\n};\n\nvar throwUnpolyfillable = function (type, action) {\n  throw new DOMException((action || 'Cloning') + ' of ' + type + ' cannot be properly polyfilled in this engine', DATA_CLONE_ERROR);\n};\n\nvar tryNativeRestrictedStructuredClone = function (value, type) {\n  if (!nativeRestrictedStructuredClone) throwUnpolyfillable(type);\n  return nativeRestrictedStructuredClone(value);\n};\n\nvar createDataTransfer = function () {\n  var dataTransfer;\n  try {\n    dataTransfer = new globalThis.DataTransfer();\n  } catch (error) {\n    try {\n      dataTransfer = new globalThis.ClipboardEvent('').clipboardData;\n    } catch (error2) { /* empty */ }\n  }\n  return dataTransfer && dataTransfer.items && dataTransfer.files ? dataTransfer : null;\n};\n\nvar cloneBuffer = function (value, map, $type) {\n  if (mapHas(map, value)) return mapGet(map, value);\n\n  var type = $type || classof(value);\n  var clone, length, options, source, target, i;\n\n  if (type === 'SharedArrayBuffer') {\n    if (nativeRestrictedStructuredClone) clone = nativeRestrictedStructuredClone(value);\n    // SharedArrayBuffer should use shared memory, we can't polyfill it, so return the original\n    else clone = value;\n  } else {\n    var DataView = globalThis.DataView;\n\n    // `ArrayBuffer#slice` is not available in IE10\n    // `ArrayBuffer#slice` and `DataView` are not available in old FF\n    if (!DataView && !isCallable(value.slice)) throwUnpolyfillable('ArrayBuffer');\n    // detached buffers throws in `DataView` and `.slice`\n    try {\n      if (isCallable(value.slice) && !value.resizable) {\n        clone = value.slice(0);\n      } else {\n        length = value.byteLength;\n        options = 'maxByteLength' in value ? { maxByteLength: value.maxByteLength } : undefined;\n        // eslint-disable-next-line es/no-resizable-and-growable-arraybuffers -- safe\n        clone = new ArrayBuffer(length, options);\n        source = new DataView(value);\n        target = new DataView(clone);\n        for (i = 0; i < length; i++) {\n          target.setUint8(i, source.getUint8(i));\n        }\n      }\n    } catch (error) {\n      throw new DOMException('ArrayBuffer is detached', DATA_CLONE_ERROR);\n    }\n  }\n\n  mapSet(map, value, clone);\n\n  return clone;\n};\n\nvar cloneView = function (value, type, offset, length, map) {\n  var C = globalThis[type];\n  // in some old engines like Safari 9, typeof C is 'object'\n  // on Uint8ClampedArray or some other constructors\n  if (!isObject(C)) throwUnpolyfillable(type);\n  return new C(cloneBuffer(value.buffer, map), offset, length);\n};\n\nvar structuredCloneInternal = function (value, map) {\n  if (isSymbol(value)) throwUncloneable('Symbol');\n  if (!isObject(value)) return value;\n  // effectively preserves circular references\n  if (map) {\n    if (mapHas(map, value)) return mapGet(map, value);\n  } else map = new Map();\n\n  var type = classof(value);\n  var C, name, cloned, dataTransfer, i, length, keys, key;\n\n  switch (type) {\n    case 'Array':\n      cloned = Array(lengthOfArrayLike(value));\n      break;\n    case 'Object':\n      cloned = {};\n      break;\n    case 'Map':\n      cloned = new Map();\n      break;\n    case 'Set':\n      cloned = new Set();\n      break;\n    case 'RegExp':\n      // in this block because of a Safari 14.1 bug\n      // old FF does not clone regexes passed to the constructor, so get the source and flags directly\n      cloned = new RegExp(value.source, getRegExpFlags(value));\n      break;\n    case 'Error':\n      name = value.name;\n      switch (name) {\n        case 'AggregateError':\n          cloned = new (getBuiltIn(name))([]);\n          break;\n        case 'EvalError':\n        case 'RangeError':\n        case 'ReferenceError':\n        case 'SuppressedError':\n        case 'SyntaxError':\n        case 'TypeError':\n        case 'URIError':\n          cloned = new (getBuiltIn(name))();\n          break;\n        case 'CompileError':\n        case 'LinkError':\n        case 'RuntimeError':\n          cloned = new (getBuiltIn('WebAssembly', name))();\n          break;\n        default:\n          cloned = new Error();\n      }\n      break;\n    case 'DOMException':\n      cloned = new DOMException(value.message, value.name);\n      break;\n    case 'ArrayBuffer':\n    case 'SharedArrayBuffer':\n      cloned = cloneBuffer(value, map, type);\n      break;\n    case 'DataView':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float16Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'BigInt64Array':\n    case 'BigUint64Array':\n      length = type === 'DataView' ? value.byteLength : value.length;\n      cloned = cloneView(value, type, value.byteOffset, length, map);\n      break;\n    case 'DOMQuad':\n      try {\n        cloned = new DOMQuad(\n          structuredCloneInternal(value.p1, map),\n          structuredCloneInternal(value.p2, map),\n          structuredCloneInternal(value.p3, map),\n          structuredCloneInternal(value.p4, map)\n        );\n      } catch (error) {\n        cloned = tryNativeRestrictedStructuredClone(value, type);\n      }\n      break;\n    case 'File':\n      if (nativeRestrictedStructuredClone) try {\n        cloned = nativeRestrictedStructuredClone(value);\n        // NodeJS 20.0.0 bug, https://github.com/nodejs/node/issues/47612\n        if (classof(cloned) !== type) cloned = undefined;\n      } catch (error) { /* empty */ }\n      if (!cloned) try {\n        cloned = new File([value], value.name, value);\n      } catch (error) { /* empty */ }\n      if (!cloned) throwUnpolyfillable(type);\n      break;\n    case 'FileList':\n      dataTransfer = createDataTransfer();\n      if (dataTransfer) {\n        for (i = 0, length = lengthOfArrayLike(value); i < length; i++) {\n          dataTransfer.items.add(structuredCloneInternal(value[i], map));\n        }\n        cloned = dataTransfer.files;\n      } else cloned = tryNativeRestrictedStructuredClone(value, type);\n      break;\n    case 'ImageData':\n      // Safari 9 ImageData is a constructor, but typeof ImageData is 'object'\n      try {\n        cloned = new ImageData(\n          structuredCloneInternal(value.data, map),\n          value.width,\n          value.height,\n          { colorSpace: value.colorSpace }\n        );\n      } catch (error) {\n        cloned = tryNativeRestrictedStructuredClone(value, type);\n      } break;\n    default:\n      if (nativeRestrictedStructuredClone) {\n        cloned = nativeRestrictedStructuredClone(value);\n      } else switch (type) {\n        case 'BigInt':\n          // can be a 3rd party polyfill\n          cloned = Object(value.valueOf());\n          break;\n        case 'Boolean':\n          cloned = Object(thisBooleanValue(value));\n          break;\n        case 'Number':\n          cloned = Object(thisNumberValue(value));\n          break;\n        case 'String':\n          cloned = Object(thisStringValue(value));\n          break;\n        case 'Date':\n          cloned = new Date(thisTimeValue(value));\n          break;\n        case 'Blob':\n          try {\n            cloned = value.slice(0, value.size, value.type);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'DOMPoint':\n        case 'DOMPointReadOnly':\n          C = globalThis[type];\n          try {\n            cloned = C.fromPoint\n              ? C.fromPoint(value)\n              : new C(value.x, value.y, value.z, value.w);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'DOMRect':\n        case 'DOMRectReadOnly':\n          C = globalThis[type];\n          try {\n            cloned = C.fromRect\n              ? C.fromRect(value)\n              : new C(value.x, value.y, value.width, value.height);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'DOMMatrix':\n        case 'DOMMatrixReadOnly':\n          C = globalThis[type];\n          try {\n            cloned = C.fromMatrix\n              ? C.fromMatrix(value)\n              : new C(value);\n          } catch (error) {\n            throwUnpolyfillable(type);\n          } break;\n        case 'AudioData':\n        case 'VideoFrame':\n          if (!isCallable(value.clone)) throwUnpolyfillable(type);\n          try {\n            cloned = value.clone();\n          } catch (error) {\n            throwUncloneable(type);\n          } break;\n        case 'CropTarget':\n        case 'CryptoKey':\n        case 'FileSystemDirectoryHandle':\n        case 'FileSystemFileHandle':\n        case 'FileSystemHandle':\n        case 'GPUCompilationInfo':\n        case 'GPUCompilationMessage':\n        case 'ImageBitmap':\n        case 'RTCCertificate':\n        case 'WebAssembly.Module':\n          throwUnpolyfillable(type);\n          // break omitted\n        default:\n          throwUncloneable(type);\n      }\n  }\n\n  mapSet(map, value, cloned);\n\n  switch (type) {\n    case 'Array':\n    case 'Object':\n      keys = objectKeys(value);\n      for (i = 0, length = lengthOfArrayLike(keys); i < length; i++) {\n        key = keys[i];\n        createProperty(cloned, key, structuredCloneInternal(value[key], map));\n      } break;\n    case 'Map':\n      value.forEach(function (v, k) {\n        mapSet(cloned, structuredCloneInternal(k, map), structuredCloneInternal(v, map));\n      });\n      break;\n    case 'Set':\n      value.forEach(function (v) {\n        setAdd(cloned, structuredCloneInternal(v, map));\n      });\n      break;\n    case 'Error':\n      createNonEnumerableProperty(cloned, 'message', structuredCloneInternal(value.message, map));\n      if (hasOwn(value, 'cause')) {\n        createNonEnumerableProperty(cloned, 'cause', structuredCloneInternal(value.cause, map));\n      }\n      if (name === 'AggregateError') {\n        cloned.errors = structuredCloneInternal(value.errors, map);\n      } else if (name === 'SuppressedError') {\n        cloned.error = structuredCloneInternal(value.error, map);\n        cloned.suppressed = structuredCloneInternal(value.suppressed, map);\n      } // break omitted\n    case 'DOMException':\n      if (ERROR_STACK_INSTALLABLE) {\n        createNonEnumerableProperty(cloned, 'stack', structuredCloneInternal(value.stack, map));\n      }\n  }\n\n  return cloned;\n};\n\nvar tryToTransfer = function (rawTransfer, map) {\n  if (!isObject(rawTransfer)) throw new TypeError('Transfer option cannot be converted to a sequence');\n\n  var transfer = [];\n\n  iterate(rawTransfer, function (value) {\n    push(transfer, anObject(value));\n  });\n\n  var i = 0;\n  var length = lengthOfArrayLike(transfer);\n  var buffers = new Set();\n  var value, type, C, transferred, canvas, context;\n\n  while (i < length) {\n    value = transfer[i++];\n\n    type = classof(value);\n\n    if (type === 'ArrayBuffer' ? setHas(buffers, value) : mapHas(map, value)) {\n      throw new DOMException('Duplicate transferable', DATA_CLONE_ERROR);\n    }\n\n    if (type === 'ArrayBuffer') {\n      setAdd(buffers, value);\n      continue;\n    }\n\n    if (PROPER_STRUCTURED_CLONE_TRANSFER) {\n      transferred = nativeStructuredClone(value, { transfer: [value] });\n    } else switch (type) {\n      case 'ImageBitmap':\n        C = globalThis.OffscreenCanvas;\n        if (!isConstructor(C)) throwUnpolyfillable(type, TRANSFERRING);\n        try {\n          canvas = new C(value.width, value.height);\n          context = canvas.getContext('bitmaprenderer');\n          context.transferFromImageBitmap(value);\n          transferred = canvas.transferToImageBitmap();\n        } catch (error) { /* empty */ }\n        break;\n      case 'AudioData':\n      case 'VideoFrame':\n        if (!isCallable(value.clone) || !isCallable(value.close)) throwUnpolyfillable(type, TRANSFERRING);\n        try {\n          transferred = value.clone();\n          value.close();\n        } catch (error) { /* empty */ }\n        break;\n      case 'MediaSourceHandle':\n      case 'MessagePort':\n      case 'MIDIAccess':\n      case 'OffscreenCanvas':\n      case 'ReadableStream':\n      case 'RTCDataChannel':\n      case 'TransformStream':\n      case 'WebTransportReceiveStream':\n      case 'WebTransportSendStream':\n      case 'WritableStream':\n        throwUnpolyfillable(type, TRANSFERRING);\n    }\n\n    if (transferred === undefined) throw new DOMException('This object cannot be transferred: ' + type, DATA_CLONE_ERROR);\n\n    mapSet(map, value, transferred);\n  }\n\n  return buffers;\n};\n\nvar detachBuffers = function (buffers) {\n  setIterate(buffers, function (buffer) {\n    if (PROPER_STRUCTURED_CLONE_TRANSFER) {\n      nativeRestrictedStructuredClone(buffer, { transfer: [buffer] });\n    } else if (isCallable(buffer.transfer)) {\n      buffer.transfer();\n    } else if (detachTransferable) {\n      detachTransferable(buffer);\n    } else {\n      throwUnpolyfillable('ArrayBuffer', TRANSFERRING);\n    }\n  });\n};\n\n// `structuredClone` method\n// https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone\n$({ global: true, enumerable: true, sham: !PROPER_STRUCTURED_CLONE_TRANSFER, forced: FORCED_REPLACEMENT }, {\n  structuredClone: function structuredClone(value /* , { transfer } */) {\n    var options = validateArgumentsLength(arguments.length, 1) > 1 && !isNullOrUndefined(arguments[1]) ? anObject(arguments[1]) : undefined;\n    var transfer = options ? options.transfer : undefined;\n    var map, buffers;\n\n    if (transfer !== undefined) {\n      map = new Map();\n      buffers = tryToTransfer(transfer, map);\n    }\n\n    var clone = structuredCloneInternal(value, map);\n\n    // since of an issue with cloning views of transferred buffers, we a forced to detach them later\n    // https://github.com/zloirock/core-js/issues/1265\n    if (buffers) detachBuffers(buffers);\n\n    return clone;\n  }\n});\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","showDisclaimer","articles","disclaimer","on","onSubmitDisclaimer","model","value","checkDisclaimer","callback","$$v","expression","directives","name","rawName","_e","$route","params","page","faq","_m","fullPath","tabs","currentError","promise","compute","warnAboutMethodBra","method","type","ref","staticRenderFns","require","document","_s","title","fields","description","_t","script","component","components","SubPanelTitle","MarkdownSection","props","article","required","data","computed","id","lang","watch","mounted","methods","cookDocument","c2c","index","activeTab","defaultState","API_URL","BLEND_MODES_CLASS_NAME","BLEND_MODES_MAX_ZOOM","BLEND_MODES_MIN_ZOOM","DANGER_MAX_WHEN_MRD","VALID_MINIMUM_MAP_ZOOM","YETI_LAYER_OPACITY","ZOOM_DELTA","bra","high","low","altiThreshold","isDifferent","orientation","potentialDanger","wetSnow","groupSize","baseLayersSelector","slopesLayersSelector","yetiLayersSelector","showYeti","yetiOk","yetiData","yetiExtent","yetiLegend","areas","areaOk","showAreas","features","featuresTitle","featuresLength","overlaysLayersSelector","mountains","all","visible","bulletinsLoaded","showAvalancheBulletins","winterRoutes","showWinterRoute","winterRouteLegend","showProtectedAreas","nivoses","showNivoses","romma","showRomma","flowcapt","showFlowcapt","dataAvalanche","showDataAvalanche","dataAvalancheAll","ffvl","showFfvl","mapZoom","editMode","validSimplifyTolerance","state","observable","JSON","parse","stringify","hasFeatures","hasWinterRoutes","setTabs","setActiveTab","setBra","setMethod","setBaseLayersSelector","setSlopesLayersSelector","addLayerToYetiLayersSelector","setShowYeti","setYetiOk","setYetiData","setYetiExtent","setYetiLegend","setAreas","setAreaOk","setShowAreas","setFeatures","getGeometry","getCoordinates","map","setFeaturesTitle","setFeaturesLength","addLayerToOverlaysLayersSelector","setAllMountains","setVisibleMountains","setShowAvalancheBulletins","avalanche","setBulletinsLoaded","setWinterRoutes","setShowWinterRoute","winterRoute","setWinterRouteLegend","setShowProtectedAreas","protectedAreas","setNivoses","setShowNivoses","setRomma","setShowRomma","setFlowcapt","setShowFlowcapt","setDataAvalanche","setShowDataAvalanche","setDataAvalancheAll","setFfvl","setShowFfvl","setMapZoom","setEditMode","setValidSimplifyTolerance","setDefault","get","setOverlaysToLocalStorage","fetchApi","fetchAreas","fetchMountains","fetchBulletins","fetchNivoses","fetchRomma","fetchFlowcapt","fetchDataAvalanche","fetchFfvl","fetchWpsAlti","identifier","operation","inputs","points","datum","interpolate","class","staticStyle","$gettext","domProps","$event","onChange","scopedSlots","_u","key","fn","showVisibleMountains","onShowAvalancheBulletins","_l","visibleMountains","mountainsForMassif","massif","mountain","urls","url","proxy","countVisibleMountains","isPrimary","default","inverted","localOpen","switchOpen","undefined","open","inline","icon","icons","info","warning","help","Counter","DropdownContent","Info","showMountainsList","Yetix","checkBraIsDifferent","length","onRemoveFeatures","fitMapToFeatures","hasFeaturesTitle","onEditNewFeaturesTitle","onEditFeaturesTitle","indexOf","keyCode","preventDefault","winterRouteLayer","action","checked","$set","contentComponent","tag","formats","f","format","_q","downloadCourse","loading","onLoadGpx","uploadGpx","isSmall","iconOnly","onEditMode","interpolateValue","modifiers","target","composing","_n","$forceUpdate","atLeastOneLineChunkHasTooMuchPoints","interpolateValueInvalid","routeIntersectsYetiAreas","onCalculateElevations","getSquareDistance","p1","p2","dx","dy","dz","getSquareSegmentDistance","p","x","y","z","t","simplifyRadialDistance","sqTolerance","point","prevPoint","newPoints","i","len","push","simplifyDouglasPeucker","maxSqDist","sqDist","MarkerArray","Uint8Array","Array","markers","first","last","stack","pop","simplify","tolerance","highestQuality","MIN_INTERPOLATE_VALUE","i18n_","elevation_legend","distance_legend","errors","actionDisabled","fromApi","tooMuchPoints","coords","coord","debounce","d3","beforeDestroy","setTimeout","promises","feature","Promise","filter","window","removeAllElevations","showFeature","selectAll","select","classed","hideFeature","computeCoords","updateData","d","totalDist","localTotalDist","ele","localD","min","max","createChart","width","height","top","right","bottom","left","append","attr","call","style","text","passive","updateChart","transform","remove","line","area","x0","x1","join","areasDataForLines","onResize","setCursor","emitCursorEndEvent","emitCursorMoveEvent","nbPointsOnFeature","removeFeature","tolerances","toleranceDistance","onPreviewSimplify","tolerancesText","validToleranceDistance","initialize","onSimplify","featuresSimplifiedLength","reduce","destroyed","EditModeButton","ElevationProfile","FeaturesList","SimplifyTool","newFeaturesTitle","reader","downloadFeatures","featureProjection","decimals","utils","setFilename","overlaysLayersLarge","layer","image","country","overlaysLayersLargeCheckedAndNeedContent","contentTitleComponent","overlaysLayersSmall","overlaysLayersSmallCheckedAndNeedContent","disabled","yetiLayersSelectorChecked","opacity","blendModes","slopesLayersSelectorChecked","small","selectedBaseLayer","_vm$disabled","_vm$disabled2","_vm$disabled3","_vm$disabled4","_vm$disabled6","_g","condition","click","warnIfDisabled","_value","_uid","isArray","_i","$$a","$$el","$$c","$$i","concat","slice","$emit","backgroundImage","_vm$disabled5","message","toast","duration","pauseOnHover","position","dismissible","single","opts","Toast","set","img","focus","interval","VueSlider","focusVisible","LayerButton","Slider","showAreasWasTrue","layers","hasLonLat","meteoBlueWidgetUrl","meteoBlueUrl","lat","lon","meteoBlueBaseUrl","Object","keys","item","potentialDangerLabels","label","potentialDangerOptions","val","groupSizes","DANGER","mrd","mre","mrp","result","onBraChange","tab","refInFor","setActiveTabKeyboard","counter","problemIcon","event","dir","tabindex","searchRecenterPropositions","showRecenterOnPropositions","recenterPropositions","recenterOn","properties","activateCenterOnGeolocation","onBaseLayers","onSlopesLayers","$parent","view","getView","getExtent","projection","getFeaturesFromData","ol","GeoJSON","readFeatures","getPropertiesFromFeatures","getProperties","getLayer","zoomDelta","handler","deep","created","matrixIds","resolutions","origin","matrixSet","tileGrid","attributions","source","layerScan","setVisible","setLayerOpacity","setLayerBlendModes","evt","setBlendModes","BaseLayers","SlopesLayers","mixins","baseLayers","slopesLayers","onMapMoveEnd","updateCartoLayersOpacity","onLayer","meteoTab","closeOverlay","overlayData","mountainName","fullName","danger","overlayValidUntil","overlayValidUntilExpired","overlayOrientations","overlayDangerComment","overlayOrientationsComment","overlayDangerIcon","isNumeric","mathceil","Math","ceil","mathfloor","floor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","clone","configObject","div","convertBase","parseNumeric","P","BigNumber","prototype","constructor","toString","valueOf","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","prefix","secondaryGroupSize","groupSeparator","decimalSeparator","fractionGroupSize","fractionGroupSeparator","suffix","ALPHABET","alphabetHasNormalDecimalDigits","v","b","alphabet","c","caseChanged","e","isNum","str","_isBigNumber","s","String","test","charCodeAt","replace","search","substring","intCheck","round","DEBUG","Error","charAt","toUpperCase","toLowerCase","n","rm","c0","ne","coeffToString","toExponential","toFixedPoint","maxOrMin","args","k","compare","normalise","j","sd","r","ni","rd","xc","pows10","out","ROUND_UP","ROUND_DOWN","ROUND_CEIL","ROUND_FLOOR","ROUND_HALF_UP","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_CEIL","ROUND_HALF_FLOOR","EUCLID","config","obj","hasOwnProperty","crypto","getRandomValues","randomBytes","EXPONENTIAL_AT","RANGE","isBigNumber","maximum","arguments","minimum","random","pow2_53","random53bitInt","dp","a","rand","Uint32Array","copy","splice","sum","plus","decimal","toBaseOut","baseIn","baseOut","arrL","arr","reverse","sign","callerIsToString","pow","multiply","base","m","temp","xlo","xhi","carry","klo","khi","aL","bL","cmp","subtract","more","prod","prodL","q","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","yc","NaN","bitFloor","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","isNaN","absoluteValue","abs","comparedTo","decimalPlaces","dividedBy","dividedToIntegerBy","idiv","exponentiatedBy","half","isModExp","nIsBig","nIsNeg","nIsOdd","isInteger","isOdd","mod","times","integerValue","isEqualTo","eq","isFinite","isGreaterThan","gt","isGreaterThanOrEqualTo","gte","isLessThan","lt","isLessThanOrEqualTo","lte","isNegative","isPositive","isZero","minus","xLTy","xe","ye","modulo","multipliedBy","xcL","ycL","ylo","yhi","zc","sqrtBase","negated","precision","shiftedBy","squareRoot","sqrt","rep","toFixed","toFormat","split","g1","g2","intPart","fractionPart","isNeg","intDigits","substr","RegExp","toFraction","md","d0","d1","d2","exp","n0","n1","toNumber","toPrecision","toJSON","Symbol","toStringTag","for","l","zs","SplayTreeNode","SplayTreeSetNode","super","SplayTreeMapNode","_SplayTreeMapNode","replaceValue","node","SplayTree","size","modificationCount","splayCount","splay","root","newTreeRight","newTreeLeft","current","comp","currentLeft","currentRight","splayMin","nextLeft","splayMax","nextRight","_delete","addNewRoot","_first","_last","clear","has","validKey","defaultCompare","wrap","getRoot","setRoot","getSize","getModificationCount","getSplayCount","setSplayCount","count","SplayTreeSet","iterator","_SplayTreeSet","isValidKey","element","deleteAll","elements","delete","forEach","nodes","next","done","add","addAndReturn","addAll","isEmpty","isNotEmpty","lastBefore","nodeRight","firstAfter","nodeLeft","retainAll","retainSet","object","lookup","intersection","other","difference","union","u","copyNode","copyChildren","node2","dest","newLeft","newRight","toSet","entries","SplayTreeSetEntryIterableIterator","values","SplayTreeKeyIterableIterator","SplayTreeIterableIterator","tree","path","moveNext","getValue","rebuildPath","findLeftMostDescendent","SplayTreeValueIterableIterator","SplayTreeMapEntryIterableIterator","newLast","parent","constant_default","compare_default","eps","almostEqual","orient_default","almostCollinear","area2","ax","ay","cx","cy","identity_default","snap_default","xTree","yTree","snapCoord","snap","eps2","reset","orient","isInBbox","bbox","ll","ur","getBboxOverlap","b1","b2","lowerX","upperX","lowerY","upperY","crossProduct","dotProduct","sineOfAngle","pShared","pBase","pAngle","vBase","vAngle","cosineOfAngle","horizontalIntersection","pt","verticalIntersection","pt1","v1","pt2","v2","kross","ve","x2","y1","y2","SweepEvent","_SweepEvent","isLeft","segment","otherSE","consumedBy","ptCmp","comparePoints","link","Segment","aPt","bPt","events","otherEvents","iMax","checkForConsuming","numEvents","evt1","evt2","consume","getAvailableLinkedEvents","ringOut","isInResult","getLeftmostComparator","baseEvent","cache","Map","fillCache","linkedEvent","nextEvent","sine","cosine","asine","acosine","bsine","bcosine","RingOut","_RingOut","poly","_isExteriorRing","_enclosingRing","factory","allSegments","ringsOut","prevEvent","leftSE","rightSE","startingPoint","intersectionLEs","availableLEs","firstPt","lastPt","indexLE","jMax","intersectionLE","ringEvents","unshift","comparator","sort","getGeom","prevPt","nextPt2","nextPt","shift","step","isExteriorRing","iStart","iEnd","orderedPoints","enclosing","enclosingRing","_calcEnclosingRing","leftMostEvt","prevSeg","prevInResult","prevPrevSeg","PolyOut","exteriorRing","interiorRings","addInterior","ring","geom0","geom","ringGeom","MultiPolyOut","rings","polys","_composePolys","polyGeom","SweepLine","queue","segments","process","newEvents","nextSeg","prevMySplitter","prevInter","getIntersection","isAnEndpoint","newEventsFromSplit","_splitSafely","nextMySplitter","nextInter","mySplitter","cmpSplitters","prev","inter","seg","Operation","numMultiPolys","run","moreGeoms","multipolys","MultiPolyIn","subject","mpA","sweepEvents","getSweepEvents","sweepLine","operation_default","segmentId","_Segment","windings","_prevInResult","_beforeState","_afterState","_isInResult","alx","blx","arx","brx","aly","bly","ary","bry","aCmpBLeft","comparePoint","bCmpARight","bCmpALeft","aCmpBRight","by","bx","fromRing","leftPt","rightPt","winding","cmpPts","replaceRightSE","newRightSE","vector","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","alreadyLinked","newLeftSE","oldRightSE","newSeg","swapEvents","tmpEvt","consumer","consumee","tmp","beforeState","afterState","multiPolys","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","isExterior","mp","multiPoly","mpsBefore","noBefores","noAfters","least","most","diff","isJustSubject","mps","isSubject","RingIn","geomRing","firstPoint","PolyIn","geomPoly","ringSweepEvents","ex","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","polySweepEvents","difference2","geoms","coordinates","differenced","options","intersection2","altitude","locLow","locLowIsEast","locHigh","lowEvol","highEvol","MIN_ZOOM","MAX_ZOOM","mountainsStyle","bufferedGeometryValue","strokeWidth","fill","color","styles","geometry","stroke","iconSize","bulletinsIcon","dangerFill","svg","bulletinsStyle","src","mountainsLayer","VectorImage","bulletinsLayer","Vector","mountainsLayerGroup","Group","bulletinsOverlay","Overlay","positioning","offset","className","bulletinsOverlayPanOptions","animation","margin","DangerLevel","validUntil","orientations","panIntoView","layerSelector","onMountainsResult","mountainsFeatures","distances","steps","innerDiff","sortMountainsByMassif","sortedMountains","updateMountainsStyle","getSource","getFeatures","bulletin","onMapClick","onMapLooseClick","onMapPointerMove","hoveredStyle","onMapLoosePointerMove","loadAndUpdateAvalancheBulletins","onBulletinsResult","bulletinsFeatures","zone","bulletinsGeometry","initialGeometry","bulletinsFeature","updateBulletinsGeometry","intersectFeature","setBulletinsOverlay","updateBulletinsOverlay","activePoint","openOverlay","onFeatures","overlay","differenceDays","date","localisation","background","iconCardSrc","selector","letter","capitalizedName","dataLayer","showLayer","fetch","setState","onResult","onShowLayer","updateVisibility","$children","IconLayer","colorWeeks","colorSeason","colorExpired","daysValidWeeks","daysValidSeason","setOverlay","unsetOverlay","dateValid","updateStyle","zIndex","urlHisto","iconHisto","FakeTile","ImageTile","canvas","context","setReady","radius","url1","url2","_vm$overlayData","_vm$overlayData2","_vm$overlayData3","_vm$overlayData4","_vm$overlayData5","_vm$overlayData6","_vm$overlayData7","_vm$overlayData8","_vm$overlayData9","_vm$overlayData0","_vm$overlayData1","_vm$overlayData10","category","dates","month","nok","$dateUtils","constraint","dispositions","additionalInfos","contact","overlayPanOptions","protectionLayers","LAYERS","crossOrigin","onShowProtectedAreas","respecterCestProtegerService","identify","catch","then","resolve","reject","getFeatureInfoUrl","INFO_FORMAT","QUERY_LAYERS","FEATURE_COUNT","axios","period","replaceAll","setOverlayData","coordinate","drawInfo","distance","toLocaleString","bearing","SplitInteraction","interaction","Pointer","handleDownEvent","layerFilter","insertIndex","sublines","splitDone","oldFeature","newFeatures","pointOnSegment","angle","pColor","pColorLight","pColorDark","pWidth","normalLineStyle","normalWithEditLineStyle","editStyle","simplifiedLineStyle","highlightedLineStyle","elevationPointStyle","drawInfoOverlay","visibleSimplifiedLayer","validMinimumMapZoom","elevationPointSource","altKey","addInteractions","geometryFunction","enableInteractions","disableInteractions","onDrawStart","onDrawEnd","onModifyEnd","onSplit","onKeyWhileDrawing","onFeature","updateFeaturesFromStore","getFeaturesLayerFeatures","getSimplifiedFeatures","getSortedFeatures","removeFeatures","addFeaturesFromGpx","getFeaturesTitleFromGpx","addFeaturesFromDocument","addFeature","lines","getFeaturesTitleFromDocument","fitMapToGeom","hideSimplifiedLayer","showSimplifiedLayer","previewSimplify","simplifiedGeometry","simplifiedFeatures","onElevationProfile","updateEditStyle","onKeydown","tip","svgSource","iconName","textAlign","offsetX","offsetY","padding","backgroundFill","onKeyup","rotate","addToRoute","routeTitle","winterRoutesLength","onShowWinterRoute","setLegend","isSameFeature","AvalancheBulletinsLayer","DataAvalancheLayer","FfvlLayer","FlowcaptLayer","MeteoLayer","NivosesLayer","ProtectedAreasLayer","RommaLayer","RouteLayer","WinterRouteLayer","dealWithEventsOnEachLayer","otherLayers","onAreasResult","isAreaOK","onShowAreas","getLayers","getArray","setPrePostRender","imageExtent","onShowYeti","clearLayers","drawExtent","drawImage","imageLoadFunction","legend","toLinearRing","setLayerClassName","AreaLayer","YetiLayer","showLegend","atLeastOneLegend","items","comment","WinterRouteLayerLegend","YetiLayerLegend","DEFAULT_CENTER","DEFAULT_ZOOM","TRACKING_INITIAL_ZOOM","MapLayers","OverlaysLayers","YetiLayers","YetiMapLegend","controls","zoomInTipLabel","zoomOutTipLabel","tipLabel","center","zoom","maxZoom","enableRotation","constrainResolution","zoomFactor","trackingOptions","enableHighAccuracy","extent","getMapZoom","setCenterOnGeoLocation","YETI_URL_BASE","YetiArticle","Panel","SubPanelBra","SubPanelCourse","SubPanelLayers","SubPanelMeteo","SubPanelMethods","Tabs","ValidationButton","YetiMap","formError","dangerMaxWhenMrd","simple","full","method_bra","ok","yeti","yeti_prefix","yeti_unauthorized","mrdIsNotApplicable","isBraMax","isValidMapZoom","tabRoute","check","setCurrentError","extendExtent","onYetiResult","onYetiError","errorText","getYetiUrl","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","module","exports","IndexSizeError","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","DESCRIPTORS","fails","anObject","normalizeStringArgument","nativeErrorToString","INCORRECT_TO_STRING","create","defineProperty","O","uncurryThis","MapPrototype","proto","$","isPrototypeOf","getPrototypeOf","setPrototypeOf","copyConstructorProperties","createNonEnumerableProperty","createPropertyDescriptor","installErrorCause","installErrorStack","iterate","wellKnownSymbol","TO_STRING_TAG","$Error","$AggregateError","that","isInstance","AggregateErrorPrototype","errorsArray","global","arity","AggregateError","aCallable","getBuiltIn","newPromiseCapabilityModule","perform","PROMISE_STATICS_INCORRECT_ITERATION","PROMISE_ANY_ERROR","stat","forced","any","iterable","C","capability","promiseResolve","remaining","alreadyResolved","alreadyRejected","error","requireObjectCoercible","isCallable","isObject","isRegExp","getMethod","getRegExpFlags","getSubstitution","IS_PURE","REPLACE","$TypeError","TypeError","stringSlice","searchValue","IS_REG_EXP","flags","replacer","string","searchString","functionalReplace","searchLength","advanceBy","replacement","endOfLastMatch","getBuiltInNodeModule","defineBuiltIn","defineBuiltInAccessor","hasOwn","anInstance","errorToString","DOMExceptionConstants","clearErrorStack","InternalStateModule","DOM_EXCEPTION","DATA_CLONE_ERR","NativeDOMException","MessageChannel","port1","postMessage","WeakMap","NativeDOMExceptionPrototype","ErrorPrototype","setInternalState","getInternalState","getterFor","HAS_STACK","codeFor","$DOMException","DOMExceptionPrototype","argumentsLength","createGetterDescriptor","enumerable","configurable","INCORRECT_CONSTRUCTOR","INCORRECT_CODE","MISSED_CONSTANTS","FORCED_CONSTRUCTOR","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","descriptor","globalThis","inheritIfRequired","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","getOwnPropertyDescriptor","BUGGY_DESCRIPTOR","writable","setToStringTag","uid","isConstructor","isNullOrUndefined","isSymbol","classof","createProperty","lengthOfArrayLike","validateArgumentsLength","MapHelpers","SetHelpers","setIterate","detachTransferable","ERROR_STACK_INSTALLABLE","PROPER_STRUCTURED_CLONE_TRANSFER","Date","PerformanceMark","mapHas","mapGet","mapSet","Set","setAdd","setHas","objectKeys","thisBooleanValue","thisNumberValue","thisStringValue","thisTimeValue","getTime","PERFORMANCE_MARK","DATA_CLONE_ERROR","TRANSFERRING","checkBasicSemantic","structuredCloneImplementation","set1","set2","number","checkErrorsCloning","checkNewErrorsCloningSemantic","cause","nativeStructuredClone","structuredClone","FORCED_REPLACEMENT","structuredCloneFromMark","detail","nativeRestrictedStructuredClone","throwUncloneable","throwUnpolyfillable","tryNativeRestrictedStructuredClone","createDataTransfer","dataTransfer","DataTransfer","ClipboardEvent","clipboardData","error2","files","cloneBuffer","$type","DataView","resizable","byteLength","maxByteLength","ArrayBuffer","setUint8","getUint8","cloneView","buffer","structuredCloneInternal","cloned","byteOffset","DOMQuad","p3","p4","File","ImageData","colorSpace","fromPoint","w","fromRect","fromMatrix","suppressed","tryToTransfer","rawTransfer","transfer","transferred","buffers","OffscreenCanvas","getContext","transferFromImageBitmap","transferToImageBitmap","close","detachBuffers","sham"],"sourceRoot":""}